{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/companyApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { Company } from \"./data\";\r\n\r\n// Tipe standar respons dari backend\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL;\r\n\r\n// Ambil semua data perusahaan\r\nexport const getCompanies = async (): Promise<ApiResponse<Company[]>> => {\r\n  const response = await axios.get<ApiResponse<Company[]>>(`${API_BASE}/company`);\r\n  return response.data;\r\n};\r\n\r\n// Simpan data umum perusahaan (Form Perusahaan)\r\nexport const saveCompany = async (\r\n  companies: Partial<Company>[]\r\n): Promise<ApiResponse<Company[]>> => {\r\n  const response = await axios.put<ApiResponse<Company[]>>(\r\n    `${API_BASE}/company`,\r\n    companies,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Simpan detail perusahaan (Form Detail Perusahaan)\r\nexport const saveCompanyDetails = async (\r\n  id: number,\r\n  formData: FormData\r\n): Promise<ApiResponse<Company>> => {\r\n  const response = await axios.post<ApiResponse<Company>>(\r\n    `${API_BASE}/company/${id}/details`,\r\n    formData,\r\n    {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Simpan desain perusahaan (Form Desain Perusahaan)\r\nexport const saveCompanyDesign = async (companies: Partial<Company>[]): Promise<ApiResponse<null>> => {\r\n  const response = await axios.put<ApiResponse<null>>(\r\n    `${API_BASE}/company/companydesign`,\r\n    companies,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Hapus perusahaan\r\nexport const deleteCompany = async (id: number): Promise<ApiResponse<null>> => {\r\n  const response = await axios.delete<ApiResponse<null>>(`${API_BASE}/company/${id}`);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAUA,MAAM;AAGC,MAAM,eAAe;IAC1B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAyB,GAAG,SAAS,QAAQ,CAAC;IAC9E,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,cAAc,OACzB;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,QAAQ,CAAC,EACrB,WACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,qBAAqB,OAChC,IACA;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,GAAG,SAAS,SAAS,EAAE,GAAG,QAAQ,CAAC,EACnC,UACA;QACE,SAAS;YAAE,gBAAgB;QAAsB;IACnD;IAEF,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,oBAAoB,OAAO;IACtC,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,sBAAsB,CAAC,EACnC,WACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,gBAAgB,OAAO;IAClC,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAAoB,GAAG,SAAS,SAAS,EAAE,IAAI;IAClF,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/countryApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { Country } from \"./data\";\r\n\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\r\n\r\nexport const getCountries = async (): Promise<ApiResponse<Country[]>> => {\r\n  const response = await axios.get<ApiResponse<Country[]>>(`${API_BASE}/country`);\r\n  return response.data;\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AASA,MAAM,WAAW,2EAAmC;AAE7C,MAAM,eAAe;IAC1B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAyB,GAAG,SAAS,QAAQ,CAAC;IAC9E,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/tenantApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { Tenant } from \"@/api/data\";\r\n\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\r\n\r\nexport const getTenant = async (id: number): Promise<\r\n  ApiResponse<Tenant>\r\n> => {\r\n  const response = await axios.get<ApiResponse<Tenant>>(\r\n    `${API_BASE}/tenant/${id}`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const saveTenant = async (\r\n  tenant: Partial<Tenant>[]\r\n): Promise<ApiResponse<Tenant[]>> => {\r\n  const response = await axios.put<ApiResponse<Tenant[]>>(\r\n    `${API_BASE}/tenant`,\r\n    tenant,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const deleteTenant = async (id: number): Promise<ApiResponse<null>> => {\r\n  const response = await axios.delete<ApiResponse<null>>(`${API_BASE}/tenant/${id}`);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;AAAA;;AASA,MAAM,WAAW,2EAAmC;AAE7C,MAAM,YAAY,OAAO;IAG9B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,QAAQ,EAAE,IAAI;IAE5B,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OACxB;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,OAAO,CAAC,EACpB,QACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAAoB,GAAG,SAAS,QAAQ,EAAE,IAAI;IACjF,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormCompany.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Company, Country, Tenant } from \"@/api/data\";\r\nimport { getCompanies, saveCompany, deleteCompany } from \"@/api/companyApi\";\r\nimport { getCountries } from \"@/api/countryApi\";\r\nimport { getTenant, saveTenant } from \"@/api/tenantApi\";\r\n\r\ninterface FormPerusahaanProps {\r\n  onNextStep: () => void;\r\n}\r\n\r\n// Default value\r\nconst defaultTenant: Tenant = {\r\n  tenantid: 1,\r\n  name: \"\",\r\n  description: null,\r\n  holdingflag: null,\r\n  holdingcompanyid: null,\r\n  active: true,\r\n};\r\n\r\nexport default function FormCompany({ onNextStep }: FormPerusahaanProps) {\r\n  const [companiesFromAPI, setCompaniesFromAPI] = useState<Company[]>([]);\r\n  const [localCompanies, setLocalCompanies] = useState<Company[]>([]);\r\n  const [countries, setCountries] = useState<Country[]>([]);\r\n  \r\n  const [tenant, setTenant] = useState<Tenant | null>(null);\r\n  const [hasHolding, setHasHolding] = useState<string>(\"\");\r\n  \r\n  const [loading, setLoading] = useState(false);\r\n  const [dataloading, setDataLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [validationErrors, setValidationErrors] = useState<string[]>([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setDataLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        const results = await Promise.allSettled([\r\n          getCompanies(),\r\n          getCountries(),\r\n          getTenant(1),\r\n        ]);\r\n        const [companyRes, countryRes, tenantRes] = results;\r\n\r\n        // 1. Handle Companies\r\n        let companies: Company[] = [];\r\n        if (companyRes.status === \"fulfilled\" && companyRes.value?.data) {\r\n          companies = (companyRes.value.data || []).sort((a, b) => b.companyid - a.companyid);\r\n        } else {\r\n          const saved = localStorage.getItem(\"companiesFromAPI\");\r\n          companies = saved ? JSON.parse(saved) : [];\r\n        }\r\n        setCompaniesFromAPI(companies);\r\n        localStorage.setItem(\"companiesFromAPI\", JSON.stringify(companies));\r\n\r\n        // 2. Handle Countries\r\n        let countryList: Country[] = [];\r\n        if (countryRes.status === \"fulfilled\" && countryRes.value?.data) {\r\n          countryList = countryRes.value.data || [];\r\n        } else {\r\n          const saved = localStorage.getItem(\"countries\");\r\n          countryList = saved ? JSON.parse(saved) : [];\r\n        }\r\n        setCountries(countryList);\r\n\r\n        // 3. Handle Tenant (PERBAIKAN UTAMA DISINI)\r\n        if (tenantRes.status === \"fulfilled\" && tenantRes.value?.data) {\r\n          // Backend return OBJECT, bukan ARRAY\r\n          const t: Tenant = tenantRes.value.data;\r\n          \r\n          if (t) {\r\n             setTenant(t);\r\n             // Set dropdown logic\r\n             setHasHolding(\r\n               t.holdingflag === true ? \"Ya\" : t.holdingflag === false ? \"Tidak\" : \"\"\r\n             );\r\n          } else {\r\n             setTenant(null);\r\n             setHasHolding(\"\");\r\n          }\r\n        } else {\r\n          // Jika request gagal atau data kosong\r\n          setTenant(null);\r\n          setHasHolding(\"\");\r\n        }\r\n\r\n        const savedLocal = localStorage.getItem(\"localCompanies\");\r\n        setLocalCompanies(savedLocal ? JSON.parse(savedLocal) : []);\r\n\r\n        const allRejected = results.every((r) => r.status === \"rejected\");\r\n        if (allRejected) setError(\"Gagal memuat data perusahaan/tenant (semua request gagal).\");\r\n      } catch (err) {\r\n        console.error(\"Unexpected error saat fetchData:\", err);\r\n        setError(\"Gagal memuat data perusahaan/tenant (kesalahan tidak terduga).\");\r\n      } finally {\r\n        setDataLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // --- FUNGSI LAIN TIDAK BERUBAH ---\r\n  const handleDelete = async (id: number, source: \"api\" | \"local\") => {\r\n    if (!confirm(\"Apakah Anda yakin ingin menghapus perusahaan ini?\")) return;\r\n    try {\r\n      if (source === \"api\") {\r\n        await deleteCompany(id);\r\n        const updated = companiesFromAPI.filter((c) => c.companyid !== id);\r\n        setCompaniesFromAPI(updated);\r\n        localStorage.setItem(\"companiesFromAPI\", JSON.stringify(updated));\r\n      } else {\r\n        const updated = localCompanies.filter((c) => c.companyid !== id);\r\n        setLocalCompanies(updated);\r\n        localStorage.setItem(\"localCompanies\", JSON.stringify(updated));\r\n      }\r\n    } catch (err) {\r\n      alert(err instanceof Error ? err.message : \"Gagal menghapus perusahaan\");\r\n    }\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    const newCompany: Company = { companyid: -(Math.floor(Math.random() * 100000) + 1), name: \"\", country: { name: \"\" } };\r\n    const updated = [newCompany, ...localCompanies];\r\n    setLocalCompanies(updated);\r\n    localStorage.setItem(\"localCompanies\", JSON.stringify(updated));\r\n  };\r\n\r\n  const handleLocalChange = (id: number, field: \"name\" | \"country\", value: string) => {\r\n    const updated = localCompanies.map((c) =>\r\n      c.companyid === id ? (field === \"name\" ? { ...c, name: value } : { ...c, country: { name: value } }) : c\r\n    );\r\n    setLocalCompanies(updated);\r\n    localStorage.setItem(\"localCompanies\", JSON.stringify(updated));\r\n  };\r\n\r\n  const handleAPIChange = (id: number, field: \"name\" | \"country\", value: string) => {\r\n    const updated = companiesFromAPI.map((c) =>\r\n      c.companyid === id ? (field === \"name\" ? { ...c, name: value } : { ...c, country: { name: value } }) : c\r\n    );\r\n    setCompaniesFromAPI(updated);\r\n    localStorage.setItem(\"companiesFromAPI\", JSON.stringify(updated));\r\n  };\r\n\r\n  const allCompanies = [...localCompanies, ...companiesFromAPI];\r\n\r\n  const validateBeforeSubmit = (): boolean => {\r\n    const errs: string[] = [];\r\n    if (allCompanies.length === 0) {\r\n      errs.push(\"Anda harus menambahkan minimal satu perusahaan (PT).\");\r\n    }\r\n    allCompanies.forEach((c, idx) => {\r\n      if (!c.name || c.name.trim() === \"\") errs.push(`Nama perusahaan (PT) pada baris ${idx + 1} wajib diisi.`);\r\n      if (!c.country?.name || c.country.name.trim() === \"\") errs.push(`Negara perusahaan pada baris ${idx + 1} wajib dipilih.`);\r\n    });\r\n    if (hasHolding === \"\") errs.push(\"Silakan pilih apakah perusahaan memiliki holding company (Ya/Tidak).\");\r\n    if (hasHolding === \"Ya\") {\r\n      const selected = tenant?.holdingcompanyid;\r\n      if (selected == null || selected === 0) {\r\n        errs.push(\"Anda memilih 'Ya' untuk holding â€” wajib pilih nama perusahaan holding.\");\r\n      }\r\n    }\r\n    setValidationErrors(errs);\r\n    return errs.length === 0;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setValidationErrors([]);\r\n    if (!validateBeforeSubmit()) {\r\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      // Logic Save Company\r\n      const payload = allCompanies.map((company) => {\r\n        const countryObj = countries.find((ct) => ct.name === company.country?.name);\r\n        return {\r\n          companyid: company.companyid > 0 ? company.companyid : undefined,\r\n          name: company.name,\r\n          countryid: countryObj?.countryid ?? null,\r\n          tenantid: 1,\r\n        };\r\n      });\r\n\r\n      interface BackendResultItem { status: string; data: Company; }\r\n      interface BackendResponse { results: BackendResultItem[]; }\r\n\r\n      const rawResponse = await saveCompany(payload as unknown as Partial<Company>[]);\r\n      const backendData = rawResponse as unknown as BackendResponse;\r\n      const savedCompanies: Company[] = (backendData.results || []).map(item => item.data);\r\n\r\n      // Logic ID Holding\r\n      let finalHoldingCompanyId: number | null = null;\r\n      if (hasHolding === \"Ya\") {\r\n        const selectedTempId = tenant?.holdingcompanyid ?? null;\r\n        if (selectedTempId) {\r\n          if (selectedTempId > 0) {\r\n            finalHoldingCompanyId = selectedTempId;\r\n          } else {\r\n            const tempCompanyData = allCompanies.find(c => c.companyid === selectedTempId);\r\n            if (tempCompanyData) {\r\n              const matchedSavedCompany = savedCompanies.find(\r\n                (sc) => sc.name.trim().toLowerCase() === tempCompanyData.name.trim().toLowerCase()\r\n              );\r\n              if (matchedSavedCompany) {\r\n                finalHoldingCompanyId = matchedSavedCompany.companyid;\r\n              } else {\r\n                throw new Error(`Gagal menyimpan holding: Perusahaan '${tempCompanyData.name}' tidak ditemukan di respon server.`);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      const currentTenantData = tenant ?? defaultTenant;\r\n\r\n      // Logic Save Tenant (Upsert via Array)\r\n      const tenantPayload: Partial<Tenant> = {\r\n        ...currentTenantData,\r\n        tenantid: 1,\r\n        holdingflag: hasHolding === \"Ya\",\r\n        holdingcompanyid: finalHoldingCompanyId,\r\n        active: true,\r\n      };\r\n\r\n      try {\r\n        await saveTenant([tenantPayload]);\r\n      } catch (tenantErr) {\r\n        console.error(\"Gagal update tenant:\", tenantErr);\r\n        throw new Error(\"Data perusahaan tersimpan, tetapi gagal update status holding.\");\r\n      }\r\n\r\n      alert(\"Data perusahaan dan tenant berhasil disimpan!\");\r\n\r\n      const serverCompanies = savedCompanies\r\n        .filter((c) => c && c.companyid > 0)\r\n        .sort((a, b) => b.companyid - a.companyid);\r\n\r\n      setCompaniesFromAPI(serverCompanies);\r\n      localStorage.setItem(\"companiesFromAPI\", JSON.stringify(serverCompanies));\r\n      setLocalCompanies([]);\r\n      localStorage.removeItem(\"localCompanies\");\r\n\r\n      onNextStep();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(err instanceof Error ? err.message : \"Gagal menyimpan data perusahaan atau tenant\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (dataloading) return <p className=\"p-6\">Loading data perusahaan...</p>;\r\n  if (error) return <p className=\"p-6 text-red-500\">{error}</p>;\r\n\r\n  return (\r\n    <div>\r\n      {validationErrors.length > 0 && (\r\n        <div className=\"p-4 mb-4 bg-red-50 border border-red-200 rounded\">\r\n          <strong className=\"text-red-700\">Perbaiki kesalahan berikut:</strong>\r\n          <ul className=\"mt-2 list-disc list-inside text-sm text-red-600\">\r\n            {validationErrors.map((v, i) => <li key={i}>{v}</li>)}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 p-6\">\r\n        {/* FORM PERUSAHAAN SAMA SAJA */}\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold mb-4\">Informasi Perusahaan</h2>\r\n          <p className=\"font-medium text-lg mb-3\">1. Sebutkan nama perusahaan dan negara tempat beroperasi</p>\r\n          <button onClick={handleAdd} className=\"flex items-center gap-2 mb-4 px-4 py-2 bg-[#0c356a] text-white rounded-full cursor-pointer\">Tambah</button>\r\n          \r\n          <div className=\"space-y-3\">\r\n             {localCompanies.map((company) => (\r\n              <div key={company.companyid} className=\"flex flex-wrap items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Nama perusahaan\" value={company.name} onChange={(e) => handleLocalChange(company.companyid, \"name\", e.target.value)} className=\"py-2 px-3 flex-1 min-w-[150px] bg-gray-100 rounded-lg\" />\r\n                <select value={company.country?.name || \"\"} onChange={(e) => handleLocalChange(company.companyid, \"country\", e.target.value)} className=\"py-2 px-3 flex-1 min-w-[180px] bg-gray-100 rounded-lg\">\r\n                  <option value=\"\">Pilih Negara</option>\r\n                  {countries.map((country) => <option key={country.countryid} value={country.name}>{country.name}</option>)}\r\n                </select>\r\n                <button onClick={() => handleDelete(company.companyid, \"local\")} className=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-800\">Hapus</button>\r\n              </div>\r\n            ))}\r\n            {companiesFromAPI.map((company) => (\r\n              <div key={company.companyid} className=\"flex flex-wrap items-center gap-2\">\r\n                <input type=\"text\" value={company.name || \"\"} onChange={(e) => handleAPIChange(company.companyid, \"name\", e.target.value)} className=\"py-2 px-3 flex-1 min-w-[150px] bg-gray-100 rounded-lg\" />\r\n                <select value={company.country?.name || \"\"} onChange={(e) => handleAPIChange(company.companyid, \"country\", e.target.value)} className=\"py-2 px-3 flex-1 min-w-[180px] bg-gray-100 rounded-lg\">\r\n                  <option value=\"\">Pilih Negara</option>\r\n                  {countries.map((country) => <option key={country.countryid} value={country.name}>{country.name}</option>)}\r\n                </select>\r\n                <button onClick={() => handleDelete(company.companyid, \"api\")} className=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-800\">Hapus</button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* FORM HOLDING (DROPDOWN) */}\r\n        <div>\r\n          <p className=\"font-medium mb-3\">2. Apakah perusahaan anda memiliki holding company?</p>\r\n          <select \r\n            className=\"border p-2 rounded-md w-full mb-4\"\r\n            value={hasHolding}\r\n            onChange={(e) => {\r\n              const newVal = e.target.value;\r\n              setHasHolding(newVal);\r\n              setTenant((prev) => {\r\n                 const current = prev ?? defaultTenant;\r\n                 if (newVal === \"Tidak\" || newVal === \"\") {\r\n                    return { ...current, holdingflag: false, holdingcompanyid: null };\r\n                 } else {\r\n                    return { ...current, holdingflag: true };\r\n                 }\r\n              });\r\n            }}\r\n          >\r\n            <option value=\"\">Pilih</option>\r\n            <option value=\"Ya\">Ya</option>\r\n            <option value=\"Tidak\">Tidak</option>\r\n          </select>\r\n\r\n          <p className=\"font-medium mb-3\">Sebutkan nama perusahaannya</p>\r\n          <select\r\n            className=\"border p-2 rounded-md w-full\"\r\n            disabled={hasHolding === \"Tidak\" || hasHolding === \"\"}\r\n            // Tetap gunakan String() agar ID 2 (number) cocok dengan \"2\" (value option)\r\n            value={tenant?.holdingcompanyid ? String(tenant.holdingcompanyid) : \"\"}\r\n            onChange={(e) => {\r\n              const val = e.target.value === \"\" ? null : Number(e.target.value);\r\n              setTenant((prev) => ({\r\n                ...(prev ?? defaultTenant),\r\n                holdingcompanyid: val,\r\n              }));\r\n            }}\r\n          >\r\n            <option value=\"\">Pilih Perusahaan</option>\r\n            {allCompanies.map((c) => (\r\n              // Tetap gunakan String()\r\n              <option key={c.companyid} value={String(c.companyid)}>\r\n                {c.name || \" (Belum diisi)\"}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex justify-end\">\r\n        <button onClick={handleSubmit} disabled={loading} className={`mt-6 py-2 px-6 rounded-full text-white font-semibold ${loading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-green-600 hover:bg-green-800\"}`}>\r\n          {loading ? \"Menyimpan...\" : \"Simpan & Lanjut\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAYA,gBAAgB;AAChB,MAAM,gBAAwB;IAC5B,UAAU;IACV,MAAM;IACN,aAAa;IACb,aAAa;IACb,kBAAkB;IAClB,QAAQ;AACV;AAEe,SAAS,YAAY,EAAE,UAAU,EAAuB;IACrE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAY,EAAE;IAClE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAY,EAAE;IAExD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB;IACpD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAS;IAErD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAW,EAAE;IAErE,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,eAAe;YACf,SAAS;YAET,IAAI;gBACF,MAAM,UAAU,MAAM,QAAQ,UAAU,CAAC;oBACvC,IAAA,wIAAY;oBACZ,IAAA,wIAAY;oBACZ,IAAA,oIAAS,EAAC;iBACX;gBACD,MAAM,CAAC,YAAY,YAAY,UAAU,GAAG;gBAE5C,sBAAsB;gBACtB,IAAI,YAAuB,EAAE;gBAC7B,IAAI,WAAW,MAAM,KAAK,eAAe,WAAW,KAAK,EAAE,MAAM;oBAC/D,YAAY,CAAC,WAAW,KAAK,CAAC,IAAI,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;gBACpF,OAAO;oBACL,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,YAAY,QAAQ,KAAK,KAAK,CAAC,SAAS,EAAE;gBAC5C;gBACA,oBAAoB;gBACpB,aAAa,OAAO,CAAC,oBAAoB,KAAK,SAAS,CAAC;gBAExD,sBAAsB;gBACtB,IAAI,cAAyB,EAAE;gBAC/B,IAAI,WAAW,MAAM,KAAK,eAAe,WAAW,KAAK,EAAE,MAAM;oBAC/D,cAAc,WAAW,KAAK,CAAC,IAAI,IAAI,EAAE;gBAC3C,OAAO;oBACL,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,cAAc,QAAQ,KAAK,KAAK,CAAC,SAAS,EAAE;gBAC9C;gBACA,aAAa;gBAEb,4CAA4C;gBAC5C,IAAI,UAAU,MAAM,KAAK,eAAe,UAAU,KAAK,EAAE,MAAM;oBAC7D,qCAAqC;oBACrC,MAAM,IAAY,UAAU,KAAK,CAAC,IAAI;oBAEtC,IAAI,GAAG;wBACJ,UAAU;wBACV,qBAAqB;wBACrB,cACE,EAAE,WAAW,KAAK,OAAO,OAAO,EAAE,WAAW,KAAK,QAAQ,UAAU;oBAEzE,OAAO;wBACJ,UAAU;wBACV,cAAc;oBACjB;gBACF,OAAO;oBACL,sCAAsC;oBACtC,UAAU;oBACV,cAAc;gBAChB;gBAEA,MAAM,aAAa,aAAa,OAAO,CAAC;gBACxC,kBAAkB,aAAa,KAAK,KAAK,CAAC,cAAc,EAAE;gBAE1D,MAAM,cAAc,QAAQ,KAAK,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK;gBACtD,IAAI,aAAa,SAAS;YAC5B,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,oCAAoC;gBAClD,SAAS;YACX,SAAU;gBACR,eAAe;YACjB;QACF;QAEA;IACF,GAAG,EAAE;IAEL,oCAAoC;IACpC,MAAM,eAAe,OAAO,IAAY;QACtC,IAAI,CAAC,QAAQ,sDAAsD;QACnE,IAAI;YACF,IAAI,WAAW,OAAO;gBACpB,MAAM,IAAA,yIAAa,EAAC;gBACpB,MAAM,UAAU,iBAAiB,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,KAAK;gBAC/D,oBAAoB;gBACpB,aAAa,OAAO,CAAC,oBAAoB,KAAK,SAAS,CAAC;YAC1D,OAAO;gBACL,MAAM,UAAU,eAAe,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,KAAK;gBAC7D,kBAAkB;gBAClB,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;YACxD;QACF,EAAE,OAAO,KAAK;YACZ,MAAM,eAAe,QAAQ,IAAI,OAAO,GAAG;QAC7C;IACF;IAEA,MAAM,YAAY;QAChB,MAAM,aAAsB;YAAE,WAAW,CAAC,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,UAAU,CAAC;YAAG,MAAM;YAAI,SAAS;gBAAE,MAAM;YAAG;QAAE;QACpH,MAAM,UAAU;YAAC;eAAe;SAAe;QAC/C,kBAAkB;QAClB,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;IACxD;IAEA,MAAM,oBAAoB,CAAC,IAAY,OAA2B;QAChE,MAAM,UAAU,eAAe,GAAG,CAAC,CAAC,IAClC,EAAE,SAAS,KAAK,KAAM,UAAU,SAAS;gBAAE,GAAG,CAAC;gBAAE,MAAM;YAAM,IAAI;gBAAE,GAAG,CAAC;gBAAE,SAAS;oBAAE,MAAM;gBAAM;YAAE,IAAK;QAEzG,kBAAkB;QAClB,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;IACxD;IAEA,MAAM,kBAAkB,CAAC,IAAY,OAA2B;QAC9D,MAAM,UAAU,iBAAiB,GAAG,CAAC,CAAC,IACpC,EAAE,SAAS,KAAK,KAAM,UAAU,SAAS;gBAAE,GAAG,CAAC;gBAAE,MAAM;YAAM,IAAI;gBAAE,GAAG,CAAC;gBAAE,SAAS;oBAAE,MAAM;gBAAM;YAAE,IAAK;QAEzG,oBAAoB;QACpB,aAAa,OAAO,CAAC,oBAAoB,KAAK,SAAS,CAAC;IAC1D;IAEA,MAAM,eAAe;WAAI;WAAmB;KAAiB;IAE7D,MAAM,uBAAuB;QAC3B,MAAM,OAAiB,EAAE;QACzB,IAAI,aAAa,MAAM,KAAK,GAAG;YAC7B,KAAK,IAAI,CAAC;QACZ;QACA,aAAa,OAAO,CAAC,CAAC,GAAG;YACvB,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,CAAC,IAAI,OAAO,IAAI,KAAK,IAAI,CAAC,CAAC,gCAAgC,EAAE,MAAM,EAAE,aAAa,CAAC;YACxG,IAAI,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,CAAC,IAAI,CAAC,IAAI,OAAO,IAAI,KAAK,IAAI,CAAC,CAAC,6BAA6B,EAAE,MAAM,EAAE,eAAe,CAAC;QAC1H;QACA,IAAI,eAAe,IAAI,KAAK,IAAI,CAAC;QACjC,IAAI,eAAe,MAAM;YACvB,MAAM,WAAW,QAAQ;YACzB,IAAI,YAAY,QAAQ,aAAa,GAAG;gBACtC,KAAK,IAAI,CAAC;YACZ;QACF;QACA,oBAAoB;QACpB,OAAO,KAAK,MAAM,KAAK;IACzB;IAEA,MAAM,eAAe;QACnB,oBAAoB,EAAE;QACtB,IAAI,CAAC,wBAAwB;YAC3B,OAAO,QAAQ,CAAC;gBAAE,KAAK;gBAAG,UAAU;YAAS;YAC7C;QACF;QAEA,IAAI;YACF,WAAW;YAEX,qBAAqB;YACrB,MAAM,UAAU,aAAa,GAAG,CAAC,CAAC;gBAChC,MAAM,aAAa,UAAU,IAAI,CAAC,CAAC,KAAO,GAAG,IAAI,KAAK,QAAQ,OAAO,EAAE;gBACvE,OAAO;oBACL,WAAW,QAAQ,SAAS,GAAG,IAAI,QAAQ,SAAS,GAAG;oBACvD,MAAM,QAAQ,IAAI;oBAClB,WAAW,YAAY,aAAa;oBACpC,UAAU;gBACZ;YACF;YAKA,MAAM,cAAc,MAAM,IAAA,uIAAW,EAAC;YACtC,MAAM,cAAc;YACpB,MAAM,iBAA4B,CAAC,YAAY,OAAO,IAAI,EAAE,EAAE,GAAG,CAAC,CAAA,OAAQ,KAAK,IAAI;YAEnF,mBAAmB;YACnB,IAAI,wBAAuC;YAC3C,IAAI,eAAe,MAAM;gBACvB,MAAM,iBAAiB,QAAQ,oBAAoB;gBACnD,IAAI,gBAAgB;oBAClB,IAAI,iBAAiB,GAAG;wBACtB,wBAAwB;oBAC1B,OAAO;wBACL,MAAM,kBAAkB,aAAa,IAAI,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK;wBAC/D,IAAI,iBAAiB;4BACnB,MAAM,sBAAsB,eAAe,IAAI,CAC7C,CAAC,KAAO,GAAG,IAAI,CAAC,IAAI,GAAG,WAAW,OAAO,gBAAgB,IAAI,CAAC,IAAI,GAAG,WAAW;4BAElF,IAAI,qBAAqB;gCACvB,wBAAwB,oBAAoB,SAAS;4BACvD,OAAO;gCACL,MAAM,IAAI,MAAM,CAAC,qCAAqC,EAAE,gBAAgB,IAAI,CAAC,mCAAmC,CAAC;4BACnH;wBACF;oBACF;gBACF;YACF;YAEA,MAAM,oBAAoB,UAAU;YAEpC,uCAAuC;YACvC,MAAM,gBAAiC;gBACrC,GAAG,iBAAiB;gBACpB,UAAU;gBACV,aAAa,eAAe;gBAC5B,kBAAkB;gBAClB,QAAQ;YACV;YAEA,IAAI;gBACF,MAAM,IAAA,qIAAU,EAAC;oBAAC;iBAAc;YAClC,EAAE,OAAO,WAAW;gBAClB,QAAQ,KAAK,CAAC,wBAAwB;gBACtC,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM;YAEN,MAAM,kBAAkB,eACrB,MAAM,CAAC,CAAC,IAAM,KAAK,EAAE,SAAS,GAAG,GACjC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;YAE3C,oBAAoB;YACpB,aAAa,OAAO,CAAC,oBAAoB,KAAK,SAAS,CAAC;YACxD,kBAAkB,EAAE;YACpB,aAAa,UAAU,CAAC;YAExB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM,eAAe,QAAQ,IAAI,OAAO,GAAG;QAC7C,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,aAAa,qBAAO,8OAAC;QAAE,WAAU;kBAAM;;;;;;IAC3C,IAAI,OAAO,qBAAO,8OAAC;QAAE,WAAU;kBAAoB;;;;;;IAEnD,qBACE,8OAAC;;YACE,iBAAiB,MAAM,GAAG,mBACzB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAO,WAAU;kCAAe;;;;;;kCACjC,8OAAC;wBAAG,WAAU;kCACX,iBAAiB,GAAG,CAAC,CAAC,GAAG,kBAAM,8OAAC;0CAAY;+BAAJ;;;;;;;;;;;;;;;;0BAK/C,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAE,WAAU;0CAA2B;;;;;;0CACxC,8OAAC;gCAAO,SAAS;gCAAW,WAAU;0CAA6F;;;;;;0CAEnI,8OAAC;gCAAI,WAAU;;oCACX,eAAe,GAAG,CAAC,CAAC,wBACpB,8OAAC;4CAA4B,WAAU;;8DACrC,8OAAC;oDAAM,MAAK;oDAAO,aAAY;oDAAkB,OAAO,QAAQ,IAAI;oDAAE,UAAU,CAAC,IAAM,kBAAkB,QAAQ,SAAS,EAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;oDAAG,WAAU;;;;;;8DAC/J,8OAAC;oDAAO,OAAO,QAAQ,OAAO,EAAE,QAAQ;oDAAI,UAAU,CAAC,IAAM,kBAAkB,QAAQ,SAAS,EAAE,WAAW,EAAE,MAAM,CAAC,KAAK;oDAAG,WAAU;;sEACtI,8OAAC;4DAAO,OAAM;sEAAG;;;;;;wDAChB,UAAU,GAAG,CAAC,CAAC,wBAAY,8OAAC;gEAA+B,OAAO,QAAQ,IAAI;0EAAG,QAAQ,IAAI;+DAArD,QAAQ,SAAS;;;;;;;;;;;8DAE5D,8OAAC;oDAAO,SAAS,IAAM,aAAa,QAAQ,SAAS,EAAE;oDAAU,WAAU;8DAA8D;;;;;;;2CANjI,QAAQ,SAAS;;;;;oCAS5B,iBAAiB,GAAG,CAAC,CAAC,wBACrB,8OAAC;4CAA4B,WAAU;;8DACrC,8OAAC;oDAAM,MAAK;oDAAO,OAAO,QAAQ,IAAI,IAAI;oDAAI,UAAU,CAAC,IAAM,gBAAgB,QAAQ,SAAS,EAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;oDAAG,WAAU;;;;;;8DACrI,8OAAC;oDAAO,OAAO,QAAQ,OAAO,EAAE,QAAQ;oDAAI,UAAU,CAAC,IAAM,gBAAgB,QAAQ,SAAS,EAAE,WAAW,EAAE,MAAM,CAAC,KAAK;oDAAG,WAAU;;sEACpI,8OAAC;4DAAO,OAAM;sEAAG;;;;;;wDAChB,UAAU,GAAG,CAAC,CAAC,wBAAY,8OAAC;gEAA+B,OAAO,QAAQ,IAAI;0EAAG,QAAQ,IAAI;+DAArD,QAAQ,SAAS;;;;;;;;;;;8DAE5D,8OAAC;oDAAO,SAAS,IAAM,aAAa,QAAQ,SAAS,EAAE;oDAAQ,WAAU;8DAA8D;;;;;;;2CAN/H,QAAQ,SAAS;;;;;;;;;;;;;;;;;kCAajC,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;0CAAmB;;;;;;0CAChC,8OAAC;gCACC,WAAU;gCACV,OAAO;gCACP,UAAU,CAAC;oCACT,MAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCAC7B,cAAc;oCACd,UAAU,CAAC;wCACR,MAAM,UAAU,QAAQ;wCACxB,IAAI,WAAW,WAAW,WAAW,IAAI;4CACtC,OAAO;gDAAE,GAAG,OAAO;gDAAE,aAAa;gDAAO,kBAAkB;4CAAK;wCACnE,OAAO;4CACJ,OAAO;gDAAE,GAAG,OAAO;gDAAE,aAAa;4CAAK;wCAC1C;oCACH;gCACF;;kDAEA,8OAAC;wCAAO,OAAM;kDAAG;;;;;;kDACjB,8OAAC;wCAAO,OAAM;kDAAK;;;;;;kDACnB,8OAAC;wCAAO,OAAM;kDAAQ;;;;;;;;;;;;0CAGxB,8OAAC;gCAAE,WAAU;0CAAmB;;;;;;0CAChC,8OAAC;gCACC,WAAU;gCACV,UAAU,eAAe,WAAW,eAAe;gCACnD,4EAA4E;gCAC5E,OAAO,QAAQ,mBAAmB,OAAO,OAAO,gBAAgB,IAAI;gCACpE,UAAU,CAAC;oCACT,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK,KAAK,KAAK,OAAO,OAAO,EAAE,MAAM,CAAC,KAAK;oCAChE,UAAU,CAAC,OAAS,CAAC;4CACnB,GAAI,QAAQ,aAAa;4CACzB,kBAAkB;wCACpB,CAAC;gCACH;;kDAEA,8OAAC;wCAAO,OAAM;kDAAG;;;;;;oCAChB,aAAa,GAAG,CAAC,CAAC,IACjB,yBAAyB;sDACzB,8OAAC;4CAAyB,OAAO,OAAO,EAAE,SAAS;sDAChD,EAAE,IAAI,IAAI;2CADA,EAAE,SAAS;;;;;;;;;;;;;;;;;;;;;;;0BAQhC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAO,SAAS;oBAAc,UAAU;oBAAS,WAAW,CAAC,qDAAqD,EAAE,UAAU,mCAAmC,mCAAmC;8BAClM,UAAU,iBAAiB;;;;;;;;;;;;;;;;;AAKtC","debugId":null}},
    {"offset": {"line": 782, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormCompanyDetails.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Company } from \"@/api/data\";\r\nimport { getCompanies, saveCompanyDetails } from \"@/api/companyApi\";\r\n\r\ninterface Form2Props {\r\n  onNextStep: () => void;\r\n  onBack: () => void;\r\n}\r\n\r\nexport default function FormCompanyDetails({ onNextStep, onBack }: Form2Props) {\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [selectedCompanyId, setSelectedCompanyId] = useState<number | null>(null);\r\n  const [formData, setFormData] = useState<Partial<Company>>({});\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [fileName, setFileName] = useState<string>(\"\");\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  /* Ambil daftar perusahaan */\r\n  const fetchCompanies = async () => {\r\n    const res = await getCompanies();\r\n    const sorted = (res.data || []).sort((a, b) => a.companyid - b.companyid);\r\n    setCompanies(sorted);\r\n\r\n    // jika sudah memilih perusahaan, update ulang datanya agar fresh\r\n    if (selectedCompanyId) {\r\n      const updated = sorted.find((c) => c.companyid === selectedCompanyId);\r\n      if (updated) {\r\n        setFormData(updated);\r\n        setFileName(updated.logo || \"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCompanies();\r\n  }, []);\r\n\r\n  /*  Ketika user pilih perusahaan */\r\n  const handleSelectCompany = (id: number) => {\r\n    const company = companies.find((c) => c.companyid === id);\r\n    if (company) {\r\n      setSelectedCompanyId(company.companyid);\r\n      setFormData(company);\r\n      setFileName(company.logo || \"\");\r\n      setFile(null);\r\n    } else {\r\n      setSelectedCompanyId(null);\r\n      setFormData({});\r\n      setFile(null);\r\n      setFileName(\"\");\r\n    }\r\n  };\r\n\r\n  /*  Handle perubahan input */\r\n  const handleChange = (field: keyof Company, value: string) => {\r\n    setFormData((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  /*  Upload file */\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const f = e.target.files?.[0] || null;\r\n    setFile(f);\r\n    setFileName(f ? f.name : \"\");\r\n  };\r\n\r\n  /* Simpan perubahan */\r\n  const handleSave = async () => {\r\n    if (!selectedCompanyId) {\r\n      alert(\"Pilih perusahaan terlebih dahulu!\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSaving(true);\r\n\r\n      const form = new FormData();\r\n      form.append(\"brandname\", formData.brandname || \"\");\r\n      form.append(\"entitytype\", formData.entitytype || \"\");\r\n      form.append(\"noindukberusaha\", formData.noindukberusaha || \"\");\r\n      form.append(\"npwp\", formData.npwp || \"\");\r\n      form.append(\"address\", formData.address || \"\");\r\n      form.append(\"telpno\", formData.telpno || \"\");\r\n      form.append(\"companyemail\", formData.companyemail || \"\");\r\n      if (file) form.append(\"logo\", file);\r\n\r\n      await saveCompanyDetails(selectedCompanyId, form);\r\n\r\n      alert(\"Data perusahaan berhasil disimpan!\");\r\n      await fetchCompanies(); // re-fetch agar data yang baru langsung muncul\r\n    } catch (err: unknown) {\r\n      console.error(\"Error saving:\", err);\r\n      alert(err instanceof Error ? err.message : \"Terjadi kesalahan saat menyimpan data.\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const disabled = !selectedCompanyId;\r\n\r\n  if (companies.length === 0)\r\n    return <p className=\"p-6 text-gray-600\">Memuat data perusahaan...</p>;\r\n\r\n  return (\r\n    <div className=\"p-6 w-full mx-auto\">\r\n      <h3 className=\"text-lg font-semibold mb-4\">\r\n        3. Masukkan informasi detail perusahaan\r\n      </h3>\r\n\r\n      <form className=\"space-y-3\">\r\n        {/*  Dropdown perusahaan */}\r\n        <div className=\"grid grid-cols-3 items-center gap-4\">\r\n          <label className=\"font-medium text-sm\">Nama Legal Perusahaan</label>\r\n          <select\r\n            value={selectedCompanyId || \"\"}\r\n            onChange={(e) => handleSelectCompany(Number(e.target.value))}\r\n            className=\"col-span-2 border border-gray-300 rounded-md p-2 bg-blue-50 focus:ring-2 focus:ring-blue-400 w-full\"\r\n          >\r\n            <option value=\"\">Pilih Perusahaan</option>\r\n            {companies.map((c) => (\r\n              <option key={c.companyid} value={c.companyid}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/*  Negara */}\r\n        <div className=\"grid grid-cols-3 items-center gap-4\">\r\n          <label className=\"font-medium text-sm\">Terdaftar di Negara</label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.country?.name || \"\"}\r\n            disabled\r\n            className=\"col-span-2 border border-gray-300 rounded-md p-2 bg-gray-200 w-full\"\r\n          />\r\n        </div>\r\n\r\n        {/*  Brand Name */}\r\n        <div className=\"grid grid-cols-3 items-center gap-4\">\r\n          <label className=\"font-medium text-sm\">\r\n            Nama Brand/Komersial (jika berbeda)\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.brandname || \"\"}\r\n            onChange={(e) => handleChange(\"brandname\", e.target.value)}\r\n            disabled={disabled}\r\n            placeholder=\"Nama Brand\"\r\n            className={`col-span-2 border border-gray-300 rounded-md p-2 w-full ${\r\n              disabled ? \"bg-gray-200\" : \"bg-blue-50 focus:ring-2 focus:ring-blue-400\"\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        {/*  Entity Type */}\r\n        <div className=\"grid grid-cols-3 items-center gap-4\">\r\n          <label className=\"font-medium text-sm\">\r\n            Tipe Entitas Hukum (PT, CV, Yayasan, dll.)\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.entitytype || \"\"}\r\n            onChange={(e) => handleChange(\"entitytype\", e.target.value)}\r\n            disabled={disabled}\r\n            placeholder=\"PT / CV / dll\"\r\n            className={`col-span-2 border border-gray-300 rounded-md p-2 w-full ${\r\n              disabled ? \"bg-gray-200\" : \"bg-blue-50 focus:ring-2 focus:ring-blue-400\"\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        {/*  NIB */}\r\n        <div className=\"grid grid-cols-3 items-center gap-4\">\r\n          <label className=\"font-medium text-sm\">Nomor Induk Berusaha (NIB)</label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.noindukberusaha || \"\"}\r\n            onChange={(e) => handleChange(\"noindukberusaha\", e.target.value)}\r\n            disabled={disabled}\r\n            placeholder=\"Nomor Induk Berusaha\"\r\n            className={`col-span-2 border border-gray-300 rounded-md p-2 w-full ${\r\n              disabled ? \"bg-gray-200\" : \"bg-blue-50 focus:ring-2 focus:ring-blue-400\"\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        {/*  NPWP */}\r\n        <div className=\"grid grid-cols-3 items-center gap-4\">\r\n          <label className=\"font-medium text-sm\">NPWP</label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.npwp || \"\"}\r\n            onChange={(e) => handleChange(\"npwp\", e.target.value)}\r\n            disabled={disabled}\r\n            placeholder=\"NPWP\"\r\n            className={`col-span-2 border border-gray-300 rounded-md p-2 w-full ${\r\n              disabled ? \"bg-gray-200\" : \"bg-blue-50 focus:ring-2 focus:ring-blue-400\"\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        {/*  Alamat */}\r\n        <div className=\"grid grid-cols-3 items-center gap-4\">\r\n          <label className=\"font-medium text-sm\">Alamat Kantor Pusat</label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.address || \"\"}\r\n            onChange={(e) => handleChange(\"address\", e.target.value)}\r\n            disabled={disabled}\r\n            placeholder=\"Alamat\"\r\n            className={`col-span-2 border border-gray-300 rounded-md p-2 w-full ${\r\n              disabled ? \"bg-gray-200\" : \"bg-blue-50 focus:ring-2 focus:ring-blue-400\"\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        {/*  Telepon & Email */}\r\n        <div className=\"grid grid-cols-3 items-center gap-4\">\r\n          <label className=\"font-medium text-sm\">Nomor Telepon & Email Resmi</label>\r\n          <div className=\"col-span-2 flex gap-3\">\r\n            <input\r\n              type=\"text\"\r\n              value={formData.telpno || \"\"}\r\n              onChange={(e) => handleChange(\"telpno\", e.target.value)}\r\n              disabled={disabled}\r\n              placeholder=\"Telepon\"\r\n              className={`w-1/2 border border-gray-300 rounded-md p-2 ${\r\n                disabled ? \"bg-gray-200\" : \"bg-blue-50 focus:ring-2 focus:ring-blue-400\"\r\n              }`}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              value={formData.companyemail || \"\"}\r\n              onChange={(e) => handleChange(\"companyemail\", e.target.value)}\r\n              disabled={disabled}\r\n              placeholder=\"Email\"\r\n              className={`w-1/2 border border-gray-300 rounded-md p-2 ${\r\n                disabled ? \"bg-gray-200\" : \"bg-blue-50 focus:ring-2 focus:ring-blue-400\"\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/*  Upload Logo */}\r\n        <div className=\"grid grid-cols-3 items-center gap-4\">\r\n          <label className=\"font-medium text-sm\">Logo</label>\r\n          <div className=\"col-span-2 flex items-center gap-3\">\r\n            <label\r\n              className={`relative cursor-pointer ${\r\n                disabled ? \"opacity-60 cursor-not-allowed\" : \"\"\r\n              }`}\r\n            >\r\n              <div\r\n                className={`${\r\n                  disabled ? \"bg-gray-400\" : \"bg-blue-600 hover:bg-blue-700\"\r\n                } text-white px-4 py-2 rounded-md text-sm`}\r\n              >\r\n                Upload\r\n              </div>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                disabled={disabled}\r\n                className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n                onChange={handleFileChange}\r\n              />\r\n            </label>\r\n\r\n            {fileName ? (\r\n              <span className=\"text-sm text-gray-800\">{fileName}</span>\r\n            ) : (\r\n              <span className=\"text-gray-400 italic text-sm\">Belum ada logo</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </form>\r\n\r\n      {/*  Tombol navigasi */}\r\n      <div className=\"flex justify-end gap-4 mt-6\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Kembali\r\n        </button>\r\n\r\n        <button\r\n          onClick={handleSave}\r\n          disabled={saving || disabled}\r\n          className={`bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ${\r\n            saving || disabled ? \"opacity-70 cursor-not-allowed\" : \"\"\r\n          }`}\r\n        >\r\n          {saving ? \"Menyimpan...\" : \"Simpan\"}\r\n        </button>\r\n\r\n        <button\r\n          onClick={onNextStep}\r\n          className=\"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Lanjut\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1279, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/companydesignApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { CompanyDesign } from \"./data\";\r\n\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\r\n\r\nexport const getCompanyDesign = async (): Promise<ApiResponse<CompanyDesign[]>> => {\r\n  const response = await axios.get<ApiResponse<CompanyDesign[]>>(`${API_BASE}/companydesign`);\r\n  return response.data;\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AASA,MAAM,WAAW,2EAAmC;AAE7C,MAAM,mBAAmB;IAC9B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAA+B,GAAG,SAAS,cAAc,CAAC;IAC1F,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 1294, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormCompanyDesign.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\n// Impor React Flow\r\nimport ReactFlow, {\r\n  Controls,\r\n  Background,\r\n  useNodesState,\r\n  useEdgesState,\r\n  MarkerType,\r\n  Node,\r\n  Edge,\r\n} from \"reactflow\";\r\n// Impor CSS wajib untuk React Flow\r\nimport \"reactflow/dist/style.css\";\r\n\r\n// Impor Dagre untuk layout otomatis\r\nimport dagre from \"dagre\";\r\n\r\nimport { getCompanies, saveCompanyDesign } from \"@/api/companyApi\";\r\nimport { getCompanyDesign } from \"@/api/companydesignApi\";\r\nimport { Company, CompanyDesign } from \"@/api/data\";\r\n\r\ntype DesignType =\r\n  | \"\"\r\n  | \"Super Holding\"\r\n  | \"Holding\"\r\n  | \"Country Operation\"\r\n  | \"Subsidiary\"\r\n  | \"Stand Alone\";\r\n\r\ninterface DesignCompany extends Company {\r\n  design: DesignType;\r\n  reportTo: string;\r\n}\r\n\r\n// --- Helper Styling React Flow ---\r\nconst getNodeStyle = (design: DesignType) => {\r\n  const baseStyle = {\r\n    padding: \"8px 16px\",\r\n    borderWidth: \"1px\",\r\n    borderRadius: \"8px\",\r\n    fontSize: \"12px\",\r\n    textAlign: \"center\" as const,\r\n  };\r\n\r\n  switch (design) {\r\n    case \"Super Holding\":\r\n      return {\r\n        ...baseStyle,\r\n        backgroundColor: \"#DBEAFE\",\r\n        borderColor: \"#93C5FD\",\r\n        color: \"#1E3A8A\",\r\n      };\r\n    case \"Holding\":\r\n      return {\r\n        ...baseStyle,\r\n        backgroundColor: \"#E0F2FE\",\r\n        borderColor: \"#7DD3FC\",\r\n        color: \"#075985\",\r\n      };\r\n    case \"Country Operation\":\r\n      return {\r\n        ...baseStyle,\r\n        backgroundColor: \"#FEF9C3\",\r\n        borderColor: \"#FDE047\",\r\n        color: \"#713F12\",\r\n      };\r\n    case \"Subsidiary\":\r\n      return {\r\n        ...baseStyle,\r\n        backgroundColor: \"#DCFCE7\",\r\n        borderColor: \"#86EFAC\",\r\n        color: \"#166534\",\r\n      };\r\n    case \"Stand Alone\":\r\n      return {\r\n        ...baseStyle,\r\n        backgroundColor: \"#F3F4F6\",\r\n        borderColor: \"#D1D5DB\",\r\n        color: \"#374151\",\r\n      };\r\n    default:\r\n      return {\r\n        ...baseStyle,\r\n        backgroundColor: \"#FFFFFF\",\r\n        borderColor: \"#D1D5DB\",\r\n      };\r\n  }\r\n};\r\n\r\n// --- Konstanta untuk Layout Dagre ---\r\nconst nodeWidth = 180;\r\nconst nodeHeight = 60;\r\n\r\nconst getLayoutedElements = (\r\n  nodesToLayout: Node[],\r\n  edgesToLayout: Edge[]\r\n) => {\r\n  const g = new dagre.graphlib.Graph();\r\n  g.setGraph({ rankdir: 'TB', nodesep: 50, ranksep: 60 });\r\n  g.setDefaultEdgeLabel(() => ({}));\r\n\r\n  nodesToLayout.forEach((node) => {\r\n    g.setNode(node.id, { width: nodeWidth, height: nodeHeight });\r\n  });\r\n\r\n  edgesToLayout.forEach((edge) => {\r\n    g.setEdge(edge.source, edge.target);\r\n  });\r\n\r\n  dagre.layout(g);\r\n\r\n  const layoutedNodes = nodesToLayout.map((node) => {\r\n    const { x, y } = g.node(node.id);\r\n    return {\r\n      ...node,\r\n      position: { x: x - nodeWidth / 2, y: y - nodeHeight / 2 },\r\n    };\r\n  });\r\n\r\n  return { nodes: layoutedNodes, edges: edgesToLayout };\r\n};\r\n\r\n\r\n// --- Komponen Diagram React Flow ---\r\nfunction CompanyChart({ companies }: { companies: DesignCompany[] }) {\r\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\r\n  const nodeTypes = useMemo(() => ({}), []); \r\n\r\n  useEffect(() => {\r\n    // 1. Filter perusahaan yang memiliki desain\r\n    const validCompanies = companies.filter((c) => c.design !== \"\");\r\n\r\n    // 2. Buat Nodes (TANPA 'position' awal)\r\n    const initialNodes = validCompanies.map((c) => ({\r\n      id: c.companyid.toString(),\r\n      type: \"default\",\r\n      data: {\r\n        label: (\r\n          // Beri style agar lebar node konsisten\r\n          <div style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            height: \"100%\",\r\n          }}> {/* 32px = 16px padding L/R */}\r\n            <p className=\"font-semibold whitespace-normal\">{c.name}</p>\r\n            <p className=\"text-xs italic\">{c.design}</p>\r\n          </div>\r\n        ),\r\n      },\r\n      position: { x: 0, y: 0 }, // Tidak ada posisi awal\r\n      style: getNodeStyle(c.design),\r\n    }));\r\n\r\n    // 3. Buat Edges (sama seperti sebelumnya)\r\n    const initialEdges = validCompanies\r\n      .filter((c) => c.reportTo !== \"\") // Hanya yg \"melapor ke\"\r\n      .map((c) => {\r\n        // Cari parent\r\n        const parent = companies.find((p) => p.name === c.reportTo);\r\n        if (!parent) return null; // Jika parent tidak ditemukan\r\n\r\n        return {\r\n          id: `e-${parent.companyid}-${c.companyid}`,\r\n          source: parent.companyid.toString(), // ID parent\r\n          target: c.companyid.toString(), // ID child\r\n          type: \"smoothstep\", // Tipe garis\r\n          markerEnd: { type: MarkerType.ArrowClosed, color: \"#6b7280\" }, // Tanda panah\r\n          style: { stroke: \"#6b7280\" },\r\n        };\r\n      })\r\n      .filter((e): e is NonNullable<typeof e> => e !== null); // Hapus yg null\r\n\r\n    // 4. Hitung Layout menggunakan Dagre\r\n    const { nodes: layoutedNodes, edges: layoutedEdges } = getLayoutedElements(\r\n      initialNodes,\r\n      initialEdges\r\n    );\r\n\r\n    setNodes(layoutedNodes);\r\n    setEdges(layoutedEdges);\r\n  }, [companies, setNodes, setEdges]); // Dijalankan ulang saat `companies` berubah\r\n\r\n  return (\r\n    <ReactFlow\r\n      nodes={nodes}\r\n      edges={edges}\r\n      onNodesChange={onNodesChange}\r\n      onEdgesChange={onEdgesChange}\r\n      nodeTypes={nodeTypes}\r\n      fitView // Otomatis zoom & pan agar semua node terlihat\r\n      nodesDraggable={true} // Node bisa digeser\r\n    >\r\n      <Controls />\r\n      <Background />\r\n    </ReactFlow>\r\n  );\r\n}\r\n\r\nexport default function FormCompanyDesign({\r\n  onNextStep,\r\n  onBack,\r\n}: {\r\n  onNextStep: () => void;\r\n  onBack: () => void;\r\n}) {\r\n  const [companies, setCompanies] = useState<DesignCompany[]>([]);\r\n  const [companyDesign, setCompanyDesign] = useState<CompanyDesign[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  // Ambil data perusahaan & desain dari API\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [resCompanies, resDesigns] = await Promise.all([\r\n          getCompanies(),\r\n          getCompanyDesign(),\r\n        ]);\r\n\r\n        const apiCompanies = resCompanies.data.map((c) => ({\r\n          ...c,\r\n          design: (c.companydesign?.name || \"\") as DesignType,\r\n          reportTo: c.reporttocompany?.name || \"\",\r\n        }));\r\n\r\n        setCompanies(apiCompanies);\r\n        setCompanyDesign(resDesigns.data);\r\n      } catch (err) {\r\n        console.error(\"Gagal memuat data:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Handle perubahan dropdown\r\n  const handleChange = (\r\n    index: number,\r\n    field: keyof DesignCompany,\r\n    value: string\r\n  ) => {\r\n    const updated = [...companies];\r\n    updated[index] = { ...updated[index], [field]: value };\r\n\r\n    // Jika ubah design, reset reportTo\r\n    if (field === \"design\") {\r\n      updated[index].reportTo = \"\";\r\n    }\r\n\r\n    setCompanies(updated);\r\n  };\r\n\r\n  // Tentukan opsi \"melapor ke\" berdasarkan desain\r\n  const getReportToOptions = (currentDesign: DesignType) => {\r\n    switch (currentDesign) {\r\n      case \"Super Holding\":\r\n      case \"Stand Alone\":\r\n        return [];\r\n      case \"Holding\":\r\n        return companies.filter((c) => c.design === \"Super Holding\");\r\n      case \"Country Operation\":\r\n        return companies.filter(\r\n          (c) => c.design === \"Super Holding\" || c.design === \"Holding\"\r\n        );\r\n      case \"Subsidiary\":\r\n        return companies.filter(\r\n          (c) =>\r\n            c.design === \"Super Holding\" ||\r\n            c.design === \"Holding\" ||\r\n            c.design === \"Country Operation\"\r\n        );\r\n      default:\r\n        return [];\r\n    }\r\n  };\r\n\r\n  // Simpan ke backend\r\n  const handleSave = async () => {\r\n    try {\r\n      setSaving(true);\r\n\r\n      const payload = companies\r\n        .filter((c) => c.design !== \"\")\r\n        .map((c) => {\r\n          const selectedDesign = companyDesign.find(\r\n            (d) => d.name === c.design\r\n          );\r\n          const reportToCompany = companies.find(\r\n            (r) => r.name === c.reportTo\r\n          );\r\n\r\n          return {\r\n            companyid: c.companyid,\r\n            companydesignid: selectedDesign?.companydesignid ?? null,\r\n            reporttocompanyid: reportToCompany?.companyid ?? null,\r\n          };\r\n        });\r\n\r\n      await saveCompanyDesign(payload);\r\n      // Menggunakan alert bawaan seperti kode asli\r\n      alert(\"Desain perusahaan berhasil disimpan!\");\r\n      onNextStep();\r\n    } catch (err) {\r\n      console.error(\"Gagal menyimpan desain perusahaan:\", err);\r\n      alert(\"Terjadi kesalahan saat menyimpan data.\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // Memoize nilai-nilai ini agar tidak dihitung ulang pada setiap render\r\n  const { hasAnyDesign, hasRoot } = useMemo(() => {\r\n    const anyDesign = companies.some((c) => c.design !== \"\");\r\n    const root = companies.some(\r\n      (c) => c.design === \"Super Holding\" || c.design === \"Stand Alone\"\r\n    );\r\n    return { hasAnyDesign: anyDesign, hasRoot: root };\r\n  }, [companies]);\r\n\r\n  if (loading) return <p className=\"p-6 text-gray-600\">Memuat data...</p>;\r\n\r\n  // --- Render utama (Form + Diagram) ---\r\n  return (\r\n    <div className=\"p-6 w-full mx-auto\">\r\n      <h3 className=\"text-lg font-semibold mb-4\">\r\n        5. Masukan informasi group perusahaan\r\n      </h3>\r\n\r\n      {/* Header */}\r\n      <div className=\"grid grid-cols-4 font-semibold text-sm bg-gray-100 border border-gray-300 rounded-t-md\">\r\n        <div className=\"p-2 border-r border-gray-300\">Nama Perusahaan</div>\r\n        <div className=\"p-2 border-r border-gray-300\">Negara</div>\r\n        <div className=\"p-2 border-r border-gray-300\">Desain Perusahaan</div>\r\n        <div className=\"p-2\">Melapor Ke</div>\r\n      </div>\r\n\r\n      {/* Rows */}\r\n      {companies.map((company, index) => {\r\n        const reportOptions = getReportToOptions(company.design);\r\n        const isReportToDisabled =\r\n          company.design === \"Super Holding\" ||\r\n          company.design === \"Stand Alone\" ||\r\n          reportOptions.length === 0;\r\n\r\n        return (\r\n          <div\r\n            key={index}\r\n            className=\"grid grid-cols-4 border-x border-b border-gray-300 text-sm\"\r\n          >\r\n            <div className=\"p-2 border-r border-gray-300\">{company.name}</div>\r\n            <div className=\"p-2 border-r border-gray-300\">\r\n              {company.country?.name || \"\"}\r\n            </div>\r\n\r\n            <div className=\"p-2 border-r border-gray-300\">\r\n              <select\r\n                value={company.design}\r\n                onChange={(e) =>\r\n                  handleChange(index, \"design\", e.target.value)\r\n                }\r\n                className=\"w-full border border-gray-300 rounded-md p-1 bg-blue-50 focus:ring-2 focus:ring-blue-400\"\r\n              >\r\n                <option value=\"\">Pilih</option>\r\n                {companyDesign.map((opt) => (\r\n                  <option key={opt.companydesignid} value={opt.name}>\r\n                    {opt.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"p-2\">\r\n              <select\r\n                value={company.reportTo}\r\n                onChange={(e) =>\r\n                  handleChange(index, \"reportTo\", e.target.value)\r\n                }\r\n                disabled={isReportToDisabled}\r\n                className={`w-full border border-gray-300 rounded-md p-1 ${isReportToDisabled\r\n                    ? \"bg-gray-100 text-gray-400\"\r\n                    : \"bg-blue-50 focus:ring-2 focus:ring-blue-400\"\r\n                  }`}\r\n              >\r\n                <option value=\"\">â€”</option>\r\n                {reportOptions.map((c) => (\r\n                  <option key={c.name} value={c.name}>\r\n                    {c.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      {/* Diagram React Flow */}\r\n      <div\r\n        className=\"mt-6 w-full p-6 bg-gray-50 rounded-lg border overflow-hidden\"\r\n        style={{ height: \"500px\" }}\r\n      >\r\n        <h4 className=\"text-md font-semibold mb-4 text-center\">\r\n          Bagan Struktur Organisasi (Live Preview)\r\n        </h4>\r\n\r\n        {/* Logika untuk menampilkan placeholder atau error */}\r\n        {!hasAnyDesign && (\r\n          <div className=\"h-full flex flex-col justify-center items-center text-center text-gray-500\">\r\n            <p>Bagan struktur akan muncul di sini.</p>\r\n            <p className=\"text-sm\">\r\n              Mulai dengan memilih &quot;Super Holding&quot; atau &quot;Stand\r\n              Alone&quot; pada tabel di atas.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {hasAnyDesign && !hasRoot && (\r\n          <div className=\"h-full flex flex-col justify-center items-center text-center text-red-600\">\r\n            <p className=\"font-semibold\">Struktur Tidak Valid</p>\r\n            <p className=\"text-sm\">\r\n              Tidak ditemukan &quot;Super Holding&quot; atau &quot;Stand\r\n              Alone&quot; sebagai akar struktur.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Render chart hanya jika ada desain DAN ada root */}\r\n        {hasAnyDesign && hasRoot && <CompanyChart companies={companies} />}\r\n      </div>\r\n\r\n      {/* Tombol Navigasi */}\r\n      <div className=\"flex gap-4 justify-end mt-6\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition\"\r\n          disabled={saving}\r\n        >\r\n          Kembali\r\n        </button>\r\n\r\n        <button\r\n          onClick={handleSave}\r\n          disabled={saving}\r\n          className={`${saving ? \"bg-gray-400\" : \"bg-green-500 hover:bg-green-700\"\r\n            } text-sm text-white font-semibold py-2 px-6 rounded-full transition`}\r\n        >\r\n          {saving ? \"Menyimpan...\" : \"Simpan & Lanjut\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1883, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/companybaseorgstrucApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { BaseOrgStructure, CompanyBaseOrgStruc } from \"./data\";\r\n\r\n// Tipe standar respons dari backend\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL;\r\n\r\nexport const getBaseOrgStructure = async (): Promise<\r\n  ApiResponse<BaseOrgStructure[]>\r\n> => {\r\n  const response = await axios.get<ApiResponse<BaseOrgStructure[]>>(\r\n    `${API_BASE}/baseorgstructure`\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Ambil semua data perusahaan\r\nexport const getCompanyBaseOrgStruc = async (): Promise<\r\n  ApiResponse<CompanyBaseOrgStruc[]>\r\n> => {\r\n  const response = await axios.get<ApiResponse<CompanyBaseOrgStruc[]>>(\r\n    `${API_BASE}/companybaseorgstruc`\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Simpan data\r\nexport const saveCompanyBaseOrgStruc = async (\r\n  companybaseorgstruc: Partial<CompanyBaseOrgStruc>[]\r\n): Promise<ApiResponse<CompanyBaseOrgStruc[]>> => {\r\n  const response = await axios.put<ApiResponse<CompanyBaseOrgStruc[]>>(\r\n    `${API_BASE}/companybaseorgstruc`,\r\n    companybaseorgstruc,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAUA,MAAM;AAEC,MAAM,sBAAsB;IAGjC,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,iBAAiB,CAAC;IAEhC,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,yBAAyB;IAGpC,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,oBAAoB,CAAC;IAEnC,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,0BAA0B,OACrC;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,oBAAoB,CAAC,EACjC,qBACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 1914, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormCompanyBaseOrgStruc.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { getCompanies } from \"@/api/companyApi\";\r\nimport { getBaseOrgStructure, getCompanyBaseOrgStruc, saveCompanyBaseOrgStruc } from \"@/api/companybaseorgstrucApi\";\r\nimport { Company, BaseOrgStructure, CompanyBaseOrgStruc } from \"@/api/data\";\r\n\r\ninterface FormCompanyBaseOrgProps {\r\n    onNextStep: () => void;\r\n    onBack: () => void;\r\n}\r\n\r\nexport default function FormCompanyBaseOrgStruc({ onNextStep, onBack }: FormCompanyBaseOrgProps) {\r\n    const [companies, setCompanies] = useState<Company[]>([]);\r\n    const [baseOrgStructure, setBaseOrgStructure] = useState<BaseOrgStructure[]>([]);\r\n    const [companyBaseOrgStruc, setCompanyBaseOrgStruc] = useState<CompanyBaseOrgStruc[]>([]);\r\n    const [selectedCompany, setSelectedCompany] = useState<string>(\"\");\r\n    const [loading, setLoading] = useState<boolean>(true);\r\n    const [saving, setSaving] = useState<boolean>(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    // --- FETCH DATA ---\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const [resCompanies, resBase, resCompanyBase] = await Promise.all([\r\n                    getCompanies(),\r\n                    getBaseOrgStructure(),\r\n                    getCompanyBaseOrgStruc(),\r\n                ]);\r\n\r\n                setCompanies((resCompanies.data || []).sort((a, b) => a.companyid - b.companyid));\r\n                setBaseOrgStructure((resBase.data || []).sort((a, b) => a.ordeno - b.ordeno));\r\n                setCompanyBaseOrgStruc(resCompanyBase.data || []);\r\n            } catch (err) {\r\n                console.error(\"Gagal memuat data:\", err);\r\n                setError(\"Gagal memuat data perusahaan atau struktur organisasi\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    const selectedCompanyData = companies.find((c) => c.name === selectedCompany);\r\n\r\n    // --- HANDLE CHECKBOX ---\r\n    const handleCheckboxChange = (baseOrgId: number, isChecked: boolean) => {\r\n        if (!selectedCompanyData) return;\r\n        const companyId = selectedCompanyData.companyid;\r\n\r\n        const existingIndex = companyBaseOrgStruc.findIndex(\r\n            (cbos) => cbos.companyid === companyId && cbos.baseorgstructureid === baseOrgId\r\n        );\r\n\r\n        if (existingIndex > -1) {\r\n            // sudah ada di backend â†’ update selected saja\r\n            const updatedList = [...companyBaseOrgStruc];\r\n            updatedList[existingIndex] = {\r\n                ...updatedList[existingIndex],\r\n                selected: isChecked,\r\n            };\r\n            setCompanyBaseOrgStruc(updatedList);\r\n        } else {\r\n            // belum ada di backend â†’ buat data baru tanpa id\r\n            const newRelation: CompanyBaseOrgStruc = {\r\n                id: 0, // dummy\r\n                companyid: companyId,\r\n                baseorgstructureid: baseOrgId,\r\n                selected: isChecked,\r\n            };\r\n            setCompanyBaseOrgStruc((prev) => [...prev, newRelation]);\r\n        }\r\n    };\r\n\r\n    // --- HANDLE SAVE ---\r\n    const handleSave = async () => {\r\n        if (!selectedCompanyData) return;\r\n        setSaving(true);\r\n        setError(null);\r\n\r\n        const companyId = selectedCompanyData.companyid;\r\n\r\n        const dataToSave = baseOrgStructure.map((base) => {\r\n            const existing = companyBaseOrgStruc.find(\r\n                (cbos) =>\r\n                    cbos.companyid === companyId &&\r\n                    cbos.baseorgstructureid === base.baseorgstructureid\r\n            );\r\n\r\n            if (existing) {\r\n                // sudah ada data di backend â†’ kirim dengan id\r\n                return {\r\n                    id: existing.id !== 0 ? existing.id : undefined, // undefined agar backend auto-create\r\n                    companyid: companyId,\r\n                    baseorgstructureid: base.baseorgstructureid,\r\n                    selected: existing.selected,\r\n                };\r\n            } else {\r\n                // belum ada data di backend\r\n                return {\r\n                    companyid: companyId,\r\n                    baseorgstructureid: base.baseorgstructureid,\r\n                    selected: false,\r\n                };\r\n            }\r\n        });\r\n\r\n        try {\r\n            await saveCompanyBaseOrgStruc(dataToSave);\r\n            alert(\"Data berhasil disimpan!\");\r\n            const refreshed = await getCompanyBaseOrgStruc();\r\n            setCompanyBaseOrgStruc(refreshed.data || []);\r\n        } catch (err) {\r\n            console.error(\"Gagal menyimpan:\", err);\r\n            setError(\"Gagal menyimpan data. Silakan coba lagi.\");\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    const disabled = !selectedCompany;\r\n\r\n    return (\r\n        <div className=\"w-full mx-auto p-6\">\r\n            <h2 className=\"text-lg font-semibold mb-4\">\r\n                6. Selanjutnya, buatlah struktur organisasi dasar\r\n            </h2>\r\n\r\n            <div className=\"mb-6 px-5\">\r\n                {loading ? (\r\n                    <p className=\"text-sm text-gray-500\">Memuat data...</p>\r\n                ) : error ? (\r\n                    <p className=\"text-sm text-red-500\">{error}</p>\r\n                ) : (\r\n                    <select\r\n                        className=\"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500\"\r\n                        value={selectedCompany}\r\n                        onChange={(e) => setSelectedCompany(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Pilih Perusahaan</option>\r\n                        {companies.map((c) => (\r\n                            <option key={c.companyid} value={c.name}>\r\n                                {c.name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                )}\r\n            </div>\r\n\r\n            {!loading && !error && selectedCompanyData && (\r\n                <div className=\"w-full mb-6\">\r\n                    <div className=\"py-6 px-12\">\r\n                        <h3 className=\"font-semibold mb-4 text-center text-lg\">\r\n                            {selectedCompanyData.name}\r\n                        </h3>\r\n\r\n                        <div className=\"flex justify-center\">\r\n                            <ul className=\"w-full max-w-xl space-y-2\">\r\n                                {baseOrgStructure.map((item, idx) => {\r\n                                    const relation = companyBaseOrgStruc.find(\r\n                                        (cbos) =>\r\n                                            cbos.companyid === selectedCompanyData.companyid &&\r\n                                            cbos.baseorgstructureid === item.baseorgstructureid\r\n                                    );\r\n\r\n                                    const isChecked = relation ? relation.selected : false;\r\n\r\n                                    return (\r\n                                        <li\r\n                                            key={item.baseorgstructureid}\r\n                                            className=\"flex items-center justify-between px-4 py-2\"\r\n                                        >\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <span className=\"text-sm text-gray-500 w-6 text-right\">\r\n                                                    {idx + 1}.\r\n                                                </span>\r\n                                                <span className=\"text-sm text-gray-800\">{item.nama}</span>\r\n                                            </div>\r\n\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={isChecked}\r\n                                                onChange={(e) =>\r\n                                                    handleCheckboxChange(item.baseorgstructureid, e.target.checked)\r\n                                                }\r\n                                                className=\"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                                            />\r\n                                        </li>\r\n                                    );\r\n                                })}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <p className=\"text-xs text-red-500 font-semibold mt-6\">\r\n                CHECKLIST INI AKAN BERPENGARUH KE SUB-MODUL JOB REPOSITORY\r\n            </p>\r\n\r\n            <div className=\"flex justify-end gap-4 mt-6\">\r\n                <button\r\n                    onClick={onBack}\r\n                    className=\"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full\"\r\n                >\r\n                    Kembali\r\n                </button>\r\n                <button\r\n                    onClick={handleSave}\r\n                    disabled={saving || disabled}\r\n                    className={`bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ${saving || disabled ? \"opacity-70 cursor-not-allowed\" : \"\"\r\n                        }`}\r\n                >\r\n                    {saving ? \"Menyimpan...\" : \"Simpan\"}\r\n                </button>\r\n                <button\r\n                    onClick={onNextStep}\r\n                    className=\"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full\"\r\n                >\r\n                    Lanjut\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAYe,SAAS,wBAAwB,EAAE,UAAU,EAAE,MAAM,EAA2B;IAC3F,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACxD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAqB,EAAE;IAC/E,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,iNAAQ,EAAwB,EAAE;IACxF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAS;IAC/D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAChD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAU;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,qBAAqB;IACrB,IAAA,kNAAS,EAAC;QACN,MAAM,YAAY;YACd,IAAI;gBACA,WAAW;gBACX,MAAM,CAAC,cAAc,SAAS,eAAe,GAAG,MAAM,QAAQ,GAAG,CAAC;oBAC9D,IAAA,wIAAY;oBACZ,IAAA,2JAAmB;oBACnB,IAAA,8JAAsB;iBACzB;gBAED,aAAa,CAAC,aAAa,IAAI,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;gBAC/E,oBAAoB,CAAC,QAAQ,IAAI,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,MAAM,GAAG,EAAE,MAAM;gBAC3E,uBAAuB,eAAe,IAAI,IAAI,EAAE;YACpD,EAAE,OAAO,KAAK;gBACV,QAAQ,KAAK,CAAC,sBAAsB;gBACpC,SAAS;YACb,SAAU;gBACN,WAAW;YACf;QACJ;QACA;IACJ,GAAG,EAAE;IAEL,MAAM,sBAAsB,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;IAE7D,0BAA0B;IAC1B,MAAM,uBAAuB,CAAC,WAAmB;QAC7C,IAAI,CAAC,qBAAqB;QAC1B,MAAM,YAAY,oBAAoB,SAAS;QAE/C,MAAM,gBAAgB,oBAAoB,SAAS,CAC/C,CAAC,OAAS,KAAK,SAAS,KAAK,aAAa,KAAK,kBAAkB,KAAK;QAG1E,IAAI,gBAAgB,CAAC,GAAG;YACpB,8CAA8C;YAC9C,MAAM,cAAc;mBAAI;aAAoB;YAC5C,WAAW,CAAC,cAAc,GAAG;gBACzB,GAAG,WAAW,CAAC,cAAc;gBAC7B,UAAU;YACd;YACA,uBAAuB;QAC3B,OAAO;YACH,iDAAiD;YACjD,MAAM,cAAmC;gBACrC,IAAI;gBACJ,WAAW;gBACX,oBAAoB;gBACpB,UAAU;YACd;YACA,uBAAuB,CAAC,OAAS;uBAAI;oBAAM;iBAAY;QAC3D;IACJ;IAEA,sBAAsB;IACtB,MAAM,aAAa;QACf,IAAI,CAAC,qBAAqB;QAC1B,UAAU;QACV,SAAS;QAET,MAAM,YAAY,oBAAoB,SAAS;QAE/C,MAAM,aAAa,iBAAiB,GAAG,CAAC,CAAC;YACrC,MAAM,WAAW,oBAAoB,IAAI,CACrC,CAAC,OACG,KAAK,SAAS,KAAK,aACnB,KAAK,kBAAkB,KAAK,KAAK,kBAAkB;YAG3D,IAAI,UAAU;gBACV,8CAA8C;gBAC9C,OAAO;oBACH,IAAI,SAAS,EAAE,KAAK,IAAI,SAAS,EAAE,GAAG;oBACtC,WAAW;oBACX,oBAAoB,KAAK,kBAAkB;oBAC3C,UAAU,SAAS,QAAQ;gBAC/B;YACJ,OAAO;gBACH,4BAA4B;gBAC5B,OAAO;oBACH,WAAW;oBACX,oBAAoB,KAAK,kBAAkB;oBAC3C,UAAU;gBACd;YACJ;QACJ;QAEA,IAAI;YACA,MAAM,IAAA,+JAAuB,EAAC;YAC9B,MAAM;YACN,MAAM,YAAY,MAAM,IAAA,8JAAsB;YAC9C,uBAAuB,UAAU,IAAI,IAAI,EAAE;QAC/C,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,oBAAoB;YAClC,SAAS;QACb,SAAU;YACN,UAAU;QACd;IACJ;IAEA,MAAM,WAAW,CAAC;IAElB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAI3C,8OAAC;gBAAI,WAAU;0BACV,wBACG,8OAAC;oBAAE,WAAU;8BAAwB;;;;;2BACrC,sBACA,8OAAC;oBAAE,WAAU;8BAAwB;;;;;yCAErC,8OAAC;oBACG,WAAU;oBACV,OAAO;oBACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;;sCAElD,8OAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,UAAU,GAAG,CAAC,CAAC,kBACZ,8OAAC;gCAAyB,OAAO,EAAE,IAAI;0CAClC,EAAE,IAAI;+BADE,EAAE,SAAS;;;;;;;;;;;;;;;;YAQvC,CAAC,WAAW,CAAC,SAAS,qCACnB,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCACT,oBAAoB,IAAI;;;;;;sCAG7B,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAG,WAAU;0CACT,iBAAiB,GAAG,CAAC,CAAC,MAAM;oCACzB,MAAM,WAAW,oBAAoB,IAAI,CACrC,CAAC,OACG,KAAK,SAAS,KAAK,oBAAoB,SAAS,IAChD,KAAK,kBAAkB,KAAK,KAAK,kBAAkB;oCAG3D,MAAM,YAAY,WAAW,SAAS,QAAQ,GAAG;oCAEjD,qBACI,8OAAC;wCAEG,WAAU;;0DAEV,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAK,WAAU;;4DACX,MAAM;4DAAE;;;;;;;kEAEb,8OAAC;wDAAK,WAAU;kEAAyB,KAAK,IAAI;;;;;;;;;;;;0DAGtD,8OAAC;gDACG,MAAK;gDACL,SAAS;gDACT,UAAU,CAAC,IACP,qBAAqB,KAAK,kBAAkB,EAAE,EAAE,MAAM,CAAC,OAAO;gDAElE,WAAU;;;;;;;uCAhBT,KAAK,kBAAkB;;;;;gCAoBxC;;;;;;;;;;;;;;;;;;;;;;0BAOpB,8OAAC;gBAAE,WAAU;0BAA0C;;;;;;0BAIvD,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,SAAS;wBACT,WAAU;kCACb;;;;;;kCAGD,8OAAC;wBACG,SAAS;wBACT,UAAU,UAAU;wBACpB,WAAW,CAAC,wFAAwF,EAAE,UAAU,WAAW,kCAAkC,IACvJ;kCAEL,SAAS,iBAAiB;;;;;;kCAE/B,8OAAC;wBACG,SAAS;wBACT,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAMjB","debugId":null}},
    {"offset": {"line": 2229, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/companyhrruleApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { HRBaseRule, CompanyHRRule } from \"./data\";\r\n\r\n// Tipe standar respons dari backend\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL;\r\n\r\nexport const getHRBaseRule = async (): Promise<ApiResponse<HRBaseRule[]>> => {\r\n  const response = await axios.get<ApiResponse<HRBaseRule[]>>(`${API_BASE}/hrbaserule`);\r\n  return response.data;\r\n};\r\n\r\n// Ambil semua data \r\nexport const getCompanyHRRule = async (): Promise<ApiResponse<CompanyHRRule[]>> => {\r\n  const response = await axios.get<ApiResponse<CompanyHRRule[]>>(`${API_BASE}/companyhrrule`);\r\n  return response.data;\r\n};\r\n\r\n// Simpan data\r\nexport const saveCompanyHRRule = async (\r\n  companyhrrule: Partial<CompanyHRRule>[]\r\n): Promise<ApiResponse<CompanyHRRule[]>> => {\r\n  const response = await axios.put<ApiResponse<CompanyHRRule[]>>(\r\n    `${API_BASE}/companyhrrule`,\r\n    companyhrrule,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;AAAA;;AAUA,MAAM;AAEC,MAAM,gBAAgB;IAC3B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAA4B,GAAG,SAAS,WAAW,CAAC;IACpF,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,mBAAmB;IAC9B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAA+B,GAAG,SAAS,cAAc,CAAC;IAC1F,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,oBAAoB,OAC/B;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,cAAc,CAAC,EAC3B,eACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 2260, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormHRRule.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { getCompanies } from \"@/api/companyApi\";\r\nimport { Company, HRBaseRule, CompanyHRRule } from \"@/api/data\";\r\nimport { getHRBaseRule, getCompanyHRRule, saveCompanyHRRule } from \"@/api/companyhrruleApi\";\r\n\r\ninterface FormHRRuleProps {\r\n    onNextStep: () => void;\r\n    onBack: () => void;\r\n}\r\n\r\nexport default function FormHRRule({ onNextStep, onBack }: FormHRRuleProps) {\r\n    const [companies, setCompanies] = useState<Company[]>([]);\r\n    const [baseRules, setBaseRules] = useState<HRBaseRule[]>([]);\r\n    const [groupedRules, setGroupedRules] = useState<Record<string, string[]>>({});\r\n    const [selectedCompany, setSelectedCompany] = useState<string>(\"\");\r\n    const [isAdding, setIsAdding] = useState<Record<string, boolean>>({});\r\n    const [tempNewRule, setTempNewRule] = useState<Record<string, string>>({});\r\n    const [companyRules, setCompanyRules] = useState<CompanyHRRule[]>([]);\r\n    const [baseGroupedRules, setBaseGroupedRules] = useState<Record<string, string[]>>({});\r\n    const [saving, setSaving] = useState(false);\r\n    const [disabled, setDisabled] = useState(false);\r\n    const [loading, setLoading] = useState<boolean>(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const [resCompanies, resHRBaseRule] = await Promise.all([\r\n                    getCompanies(),\r\n                    getHRBaseRule(),\r\n                ]);\r\n\r\n                // Urutkan perusahaan\r\n                setCompanies((resCompanies.data || []).sort((a, b) => a.companyid - b.companyid));\r\n\r\n                // Kelompokkan HR Base Rule berdasarkan group rule\r\n                const data = resHRBaseRule.data || [];\r\n                setBaseRules(data);\r\n\r\n                const grouped = data.reduce((acc: Record<string, string[]>, item: HRBaseRule) => {\r\n                    if (!acc[item.grouprule]) acc[item.grouprule] = [];\r\n                    acc[item.grouprule].push(item.rulename);\r\n                    return acc;\r\n                }, {});\r\n                setBaseGroupedRules(grouped);\r\n                setGroupedRules(grouped);\r\n            } catch (err) {\r\n                console.error(\"Gagal memuat data:\", err);\r\n                setError(\"Gagal memuat data perusahaan atau aturan dasar HR\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    //  Ambil data companyhrrule saat perusahaan dipilih\r\n    useEffect(() => {\r\n        const fetchCompanyRules = async () => {\r\n            if (!selectedCompany || companies.length === 0) return;\r\n\r\n            try {\r\n                setLoading(true);\r\n                const res = await getCompanyHRRule();\r\n                const selectedCompanyData = companies.find(c => c.name === selectedCompany);\r\n                if (!selectedCompanyData) return;\r\n\r\n                const rules = (res.data || []).filter(\r\n                    (r) => r.companyid === selectedCompanyData.companyid\r\n                );\r\n                setCompanyRules(rules);\r\n\r\n                const newGrouped = JSON.parse(JSON.stringify(baseGroupedRules));\r\n\r\n                rules.forEach((r) => {\r\n                    if (r.hrbaseruleid === 0) {\r\n                        if (!newGrouped[r.grouprule]) newGrouped[r.grouprule] = [];\r\n                        // hindari duplikasi nama rule\r\n                        if (!newGrouped[r.grouprule].includes(r.rulename)) {\r\n                            newGrouped[r.grouprule].push(r.rulename);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                setGroupedRules(newGrouped);\r\n            } catch (err) {\r\n                console.error(\"Gagal memuat aturan perusahaan:\", err);\r\n                setError(\"Gagal memuat aturan HR untuk perusahaan ini\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchCompanyRules();\r\n    }, [selectedCompany, companies, baseGroupedRules]);\r\n\r\n    //  Tambah rule baru\r\n    const commitNewRule = (group: string) => {\r\n        const newRuleName = tempNewRule[group]?.trim();\r\n\r\n        if (newRuleName) {\r\n            // Cek apakah rule sudah ada di daftar\r\n            const existingInList = groupedRules[group]?.includes(newRuleName);\r\n\r\n            if (!existingInList) {\r\n                // 1. Tambahkan ke state 'groupedRules' agar muncul di UI\r\n                setGroupedRules((prev) => ({\r\n                    ...prev,\r\n                    [group]: [...(prev[group] || []), newRuleName],\r\n                }));\r\n\r\n                // 2. Tambahkan ke state 'companyRules' sebagai rule baru (custom)\r\n                //    dan default-nya 'selected: false'\r\n                if (\r\n                    !companyRules.find(\r\n                        (r) => r.rulename === newRuleName && r.grouprule === group\r\n                    )\r\n                ) {\r\n                    setCompanyRules((prevRules) => [\r\n                        ...prevRules,\r\n                        {\r\n                            companyid:\r\n                                companies.find((c) => c.name === selectedCompany)?.companyid ||\r\n                                0,\r\n                            hrbaseruleid: 0, // ID 0 menandakan ini rule kustom\r\n                            grouprule: group,\r\n                            rulename: newRuleName,\r\n                            selected: false, // Default tidak terceklis\r\n                        } as CompanyHRRule,\r\n                    ]);\r\n                }\r\n            }\r\n        }\r\n\r\n        // 3. Sembunyikan input dan reset nilainya\r\n        setIsAdding((prev) => ({ ...prev, [group]: false }));\r\n        setTempNewRule((prev) => ({ ...prev, [group]: \"\" }));\r\n    };\r\n\r\n    //  Cek apakah checkbox aktif (selected)\r\n    const isRuleSelected = (ruleName: string, group: string) => {\r\n        const rule = companyRules.find(\r\n            (r) => r.rulename === ruleName && r.grouprule === group\r\n        );\r\n        return rule ? rule.selected === true : false;\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        if (!selectedCompany) {\r\n            alert(\"Pilih perusahaan terlebih dahulu!\");\r\n            return;\r\n        }\r\n\r\n        const selectedCompanyData = companies.find(c => c.name === selectedCompany);\r\n        if (!selectedCompanyData) return;\r\n\r\n        const companyId = selectedCompanyData.companyid;\r\n\r\n        setSaving(true);\r\n        setDisabled(true);\r\n\r\n        try {\r\n            // Bentuk array untuk dikirim ke backend\r\n            const payload: Partial<CompanyHRRule>[] = [];\r\n\r\n            Object.entries(groupedRules).forEach(([group, ruleNames]) => {\r\n                ruleNames.forEach((ruleName) => {\r\n                    // 'existing' -> data dari CompanyHRRule (jika sudah pernah disimpan)\r\n                    const existing = companyRules.find(\r\n                        (r) => r.rulename === ruleName && r.grouprule === group\r\n                    );\r\n\r\n                    // 'base' -> data dari HRBaseRule (master data)\r\n                    const base = baseRules.find(\r\n                        (r) => r.rulename === ruleName && r.grouprule === group\r\n                    );\r\n\r\n                    const isChecked = existing ? existing.selected : false;\r\n\r\n                    const hrBaseRuleIdToSave = existing?.hrbaseruleid ?? base?.hrbaseruleid ?? 0;\r\n                    const companyHrRuleId = existing?.companyhrruleid ?? undefined;\r\n                    payload.push({\r\n                        companyhrruleid: companyHrRuleId,\r\n                        companyid: companyId,\r\n                        hrbaseruleid: hrBaseRuleIdToSave,\r\n                        grouprule: group,\r\n                        rulename: ruleName,\r\n                        selected: isChecked,\r\n                    });\r\n                });\r\n            });\r\n\r\n            // Kirim ke backend\r\n            const res = await saveCompanyHRRule(payload);\r\n            console.log(\"Data tersimpan:\", res);\r\n\r\n            alert(\"Aturan HR berhasil disimpan!\");\r\n\r\n            // Refresh ulang data perusahaan biar sinkron\r\n            const updated = await getCompanyHRRule();\r\n            const rules = updated.data.filter(\r\n                (r) => r.companyid === selectedCompanyData.companyid\r\n            );\r\n            setCompanyRules(rules);\r\n        } catch (err) {\r\n            console.error(\"Gagal menyimpan aturan:\", err);\r\n            alert(\"Gagal menyimpan aturan HR!\");\r\n        } finally {\r\n            setSaving(false);\r\n            setDisabled(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-full mx-auto p-6\">\r\n            {/* Judul */}\r\n            <h2 className=\"text-lg font-semibold mb-4\">7. Aturan Dasar HR</h2>\r\n\r\n            {/* Dropdown Perusahaan */}\r\n            <div className=\"mb-6 px-5\">\r\n                {loading ? (\r\n                    <p className=\"text-sm text-gray-500\">Memuat data...</p>\r\n                ) : error ? (\r\n                    <p className=\"text-sm text-red-500\">{error}</p>\r\n                ) : (\r\n                    <select\r\n                        className=\"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500\"\r\n                        value={selectedCompany}\r\n                        onChange={(e) => setSelectedCompany(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Pilih Perusahaan</option>\r\n                        {companies.map((c) => (\r\n                            <option key={c.companyid} value={c.name}>\r\n                                {c.name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                )}\r\n            </div>\r\n\r\n            {/* Grid Grouprule */}\r\n            {!loading && !error && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-6 text-sm\">\r\n                    {Object.entries(groupedRules).map(([group, ruleNames]) => (\r\n                        <div\r\n                            key={group}\r\n                            className=\"flex flex-col border border-gray-300 rounded-md overflow-hidden\"\r\n                        >\r\n                            <div className=\"bg-blue-900 text-white text-center font-semibold py-1\">\r\n                                {group}\r\n                            </div>\r\n\r\n                            <div className=\"p-3 space-y-1 flex-1\">\r\n                                {ruleNames.map((rule, idx) => (\r\n                                    <label key={idx} className=\"flex items-center justify-between\">\r\n                                        <span>{rule}</span>\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            data-rule={`${rule}-${group}`}\r\n                                            className=\"h-4 w-4 text-blue-600 border-gray-300 rounded\"\r\n                                            checked={isRuleSelected(rule, group)}\r\n                                            onChange={(e) => {\r\n                                                const updated = [...companyRules];\r\n                                                const existing = updated.find(r => r.rulename === rule && r.grouprule === group);\r\n\r\n                                                if (existing) {\r\n                                                    // Jika sudah ada, update status 'selected'\r\n                                                    existing.selected = e.target.checked;\r\n                                                } else {\r\n                                                    // Jika belum ada, buat entri baru\r\n\r\n                                                    // Cari di master 'baseRules' untuk dapat ID aslinya\r\n                                                    const base = baseRules.find(r => r.rulename === rule && r.grouprule === group);\r\n\r\n                                                    updated.push({\r\n                                                        companyid: companies.find(c => c.name === selectedCompany)?.companyid || 0,\r\n                                                        // Jika ada di 'base', pakai ID-nya. Jika tidak (rule kustom), pakai 0\r\n                                                        hrbaseruleid: base ? base.hrbaseruleid : 0,\r\n                                                        grouprule: group,\r\n                                                        rulename: rule,\r\n                                                        selected: e.target.checked,\r\n                                                    } as CompanyHRRule);\r\n                                                }\r\n                                                setCompanyRules(updated);\r\n                                            }}\r\n                                        />\r\n                                    </label>\r\n                                ))}\r\n\r\n                                {/* Tambah rule baru */}\r\n                                {isAdding[group] && (\r\n                                    <div className=\"mt-2 pt-2 border-t border-gray-200\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={tempNewRule[group] || \"\"}\r\n                                            onChange={(e) =>\r\n                                                setTempNewRule((prev) => ({\r\n                                                    ...prev,\r\n                                                    [group]: e.target.value,\r\n                                                }))\r\n                                            }\r\n                                            // autoFocus agar kursor langsung aktif\r\n                                            autoFocus\r\n                                            // 'onBlur' akan commit perubahan jika input tidak kosong\r\n                                            onBlur={() => commitNewRule(group)}\r\n                                            // 'onKeyDown' untuk commit jika menekan Enter\r\n                                            onKeyDown={(e) => {\r\n                                                if (e.key === 'Enter') {\r\n                                                    commitNewRule(group);\r\n                                                }\r\n                                            }}\r\n                                            className=\"border border-gray-300 rounded-md px-2 py-1 w-full text-sm focus:ring-blue-500 focus:border-blue-500\"\r\n                                        />\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Tampilkan Tombol \"Tambah\" jika TIDAK sedang mode 'isAdding' */}\r\n                                {!isAdding[group] && (\r\n                                    <div className=\"mt-2 border-t border-gray-200 pt-2\">\r\n                                        <button\r\n                                            onClick={() =>\r\n                                                setIsAdding((prev) => ({ ...prev, [group]: true }))\r\n                                            }\r\n                                            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm py-1 transition\"\r\n                                            disabled={!selectedCompany} // Tombol disable jika belum pilih perusahaan\r\n                                        >\r\n                                            + Tambah\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"flex justify-end gap-4 mt-6\">\r\n                <button\r\n                    onClick={onBack}\r\n                    className=\"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full\"\r\n                >\r\n                    Kembali\r\n                </button>\r\n                <button\r\n                    onClick={handleSave}\r\n                    disabled={saving || disabled || !selectedCompany}\r\n                    className={`bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ${saving || disabled ? \"opacity-70 cursor-not-allowed\" : \"\"\r\n                        }`}\r\n                >\r\n                    {saving ? \"Menyimpan...\" : \"Simpan\"}\r\n                </button>\r\n                <button\r\n                    onClick={onNextStep}\r\n                    className=\"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full\"\r\n                >\r\n                    Lanjut\r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2683, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/cutiizinApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { DaftarCuti, DaftarIzin, CompanyCuti, CompanyIzin } from \"./data\";\r\n\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\r\n\r\nexport const getDaftarCuti = async (): Promise<ApiResponse<DaftarCuti[]>> => {\r\n  const response = await axios.get<ApiResponse<DaftarCuti[]>>(`${API_BASE}/daftarcuti`);\r\n  return response.data;\r\n};\r\n\r\nexport const getDaftarIzin = async (): Promise<ApiResponse<DaftarIzin[]>> => {\r\n  const response = await axios.get<ApiResponse<DaftarIzin[]>>(`${API_BASE}/daftarizin`);\r\n  return response.data;\r\n};\r\n\r\nexport const getCompanyCuti = async (): Promise<ApiResponse<CompanyCuti[]>> => {\r\n  const response = await axios.get<ApiResponse<CompanyCuti[]>>(`${API_BASE}/companycuti`);\r\n  return response.data;\r\n};\r\n\r\nexport const getCompanyIzin = async (): Promise<ApiResponse<CompanyIzin[]>> => {\r\n  const response = await axios.get<ApiResponse<CompanyIzin[]>>(`${API_BASE}/companyizin`);\r\n  return response.data;\r\n};\r\n\r\n// Simpan data\r\nexport const saveCompanyCuti = async (\r\n  companycuti: Partial<CompanyCuti>[]\r\n): Promise<ApiResponse<CompanyCuti[]>> => {\r\n  const response = await axios.put<ApiResponse<CompanyCuti[]>>(\r\n    `${API_BASE}/companycuti`,\r\n    companycuti,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const saveCompanyIzin = async (companyizin: Partial<CompanyIzin>[]): Promise<ApiResponse<CompanyIzin[]>> => {\r\n  const response = await axios.put<ApiResponse<CompanyIzin[]>>(\r\n    `${API_BASE}/companyizin`,\r\n    companyizin,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AASA,MAAM,WAAW,2EAAmC;AAE7C,MAAM,gBAAgB;IAC3B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAA4B,GAAG,SAAS,WAAW,CAAC;IACpF,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,gBAAgB;IAC3B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAA4B,GAAG,SAAS,WAAW,CAAC;IACpF,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,iBAAiB;IAC5B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAA6B,GAAG,SAAS,YAAY,CAAC;IACtF,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,iBAAiB;IAC5B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAA6B,GAAG,SAAS,YAAY,CAAC;IACtF,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,kBAAkB,OAC7B;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,YAAY,CAAC,EACzB,aACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,kBAAkB,OAAO;IACpC,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,YAAY,CAAC,EACzB,aACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 2736, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormCutiIzin.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { getCompanies } from \"@/api/companyApi\";\r\nimport {\r\n  getDaftarCuti,\r\n  getDaftarIzin,\r\n  getCompanyCuti,\r\n  getCompanyIzin,\r\n  saveCompanyCuti,\r\n  saveCompanyIzin,\r\n} from \"@/api/cutiizinApi\";\r\nimport {\r\n  Company,\r\n  DaftarCuti,\r\n  DaftarIzin,\r\n  CompanyCuti,\r\n  CompanyIzin,\r\n} from \"@/api/data\";\r\n\r\ninterface FormCutiIzinProps {\r\n  onNextStep: () => void;\r\n  onBack: () => void;\r\n}\r\n\r\nexport default function FormCutiIzin({ onNextStep, onBack }: FormCutiIzinProps) {\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [selectedCompany, setSelectedCompany] = useState<string>(\"\");\r\n  const [daftarCuti, setDaftarCuti] = useState<DaftarCuti[]>([]);\r\n  const [daftarIzin, setDaftarIzin] = useState<DaftarIzin[]>([]);\r\n  const [companyCuti, setCompanyCuti] = useState<CompanyCuti[]>([]);\r\n  const [companyIzin, setCompanyIzin] = useState<CompanyIzin[]>([]);\r\n  const [saving, setSaving] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  //  Ambil master data & perusahaan\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const [resCompanies, resCuti, resIzin] = await Promise.all([\r\n          getCompanies(),\r\n          getDaftarCuti(),\r\n          getDaftarIzin(),\r\n        ]);\r\n        setCompanies(\r\n          (resCompanies.data || []).sort((a, b) => a.companyid - b.companyid)\r\n        );\r\n        setDaftarCuti(resCuti.data || []);\r\n        setDaftarIzin(resIzin.data || []);\r\n      } catch (err) {\r\n        console.error(\"Gagal memuat data master:\", err);\r\n        setError(\"Gagal memuat data perusahaan atau daftar cuti/izin\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  //  Ambil data companycuti dan companyizin ketika perusahaan dipilih\r\n  useEffect(() => {\r\n    if (!selectedCompany) return;\r\n\r\n    const fetchCompanyData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const selected = companies.find((c) => c.name === selectedCompany);\r\n        if (!selected) return;\r\n\r\n        const [resCompCuti, resCompIzin] = await Promise.all([\r\n          getCompanyCuti(),\r\n          getCompanyIzin(),\r\n        ]);\r\n\r\n        const allCompanyCuti: CompanyCuti[] = resCompCuti.data || [];\r\n        const allCompanyIzin: CompanyIzin[] = resCompIzin.data || [];\r\n\r\n        const filteredCuti = allCompanyCuti.filter(\r\n          (x) => x.companyid === selected.companyid\r\n        );\r\n        const filteredIzin = allCompanyIzin.filter(\r\n          (x) => x.companyid === selected.companyid\r\n        );\r\n\r\n        //  Merge daftar cuti master + data company\r\n        const mergedCuti: CompanyCuti[] = daftarCuti.map((master) => {\r\n          const existing = filteredCuti.find(\r\n            (c) => c.daftarcutiid === master.daftarcutiid\r\n          );\r\n          return {\r\n            companycutiid: existing?.companycutiid ?? 0,\r\n            companyid: selected.companyid,\r\n            daftarcutiid: master.daftarcutiid,\r\n            deskripsi: master.deskripsi,\r\n            jumlahhari: existing?.jumlahhari ?? 0,\r\n          };\r\n        });\r\n\r\n        // tambahkan data baru (daftarcutiid = 0)\r\n        const newCuti = filteredCuti.filter((c) => c.daftarcutiid === 0);\r\n        const finalCuti = [...mergedCuti, ...newCuti];\r\n\r\n        //  Merge daftar izin master + data company\r\n        const mergedIzin: CompanyIzin[] = daftarIzin.map((master) => {\r\n          const existing = filteredIzin.find(\r\n            (i) => i.daftarizinid === master.daftarizinid\r\n          );\r\n          return {\r\n            companyizinid: existing?.companyizinid ?? 0,\r\n            companyid: selected.companyid,\r\n            daftarizinid: master.daftarizinid,\r\n            deskripsi: master.deskripsi,\r\n            jumlahhari: existing?.jumlahhari ?? 0,\r\n          };\r\n        });\r\n\r\n        // tambahkan data baru (daftarizinid = 0)\r\n        const newIzin = filteredIzin.filter((i) => i.daftarizinid === 0);\r\n        const finalIzin = [...mergedIzin, ...newIzin];\r\n\r\n        setCompanyCuti(finalCuti);\r\n        setCompanyIzin(finalIzin);\r\n      } catch (err) {\r\n        console.error(\"Gagal memuat company cuti/izin:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCompanyData();\r\n  }, [selectedCompany, daftarCuti, daftarIzin, companies]);\r\n\r\n  //  Checkbox toggle logic\r\n  const handleCheckboxChange = (type: \"cuti\" | \"izin\", index: number) => {\r\n    if (type === \"cuti\") {\r\n      setCompanyCuti((prev) =>\r\n        prev.map((item, idx) =>\r\n          idx === index\r\n            ? { ...item, jumlahhari: item.jumlahhari > 0 ? 0 : 1 }\r\n            : item\r\n        )\r\n      );\r\n    } else {\r\n      setCompanyIzin((prev) =>\r\n        prev.map((item, idx) =>\r\n          idx === index\r\n            ? { ...item, jumlahhari: item.jumlahhari > 0 ? 0 : 1 }\r\n            : item\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  //  Input jumlah hari\r\n  const handleJumlahHariChange = (\r\n    type: \"cuti\" | \"izin\",\r\n    index: number,\r\n    value: number\r\n  ) => {\r\n    if (type === \"cuti\") {\r\n      setCompanyCuti((prev) =>\r\n        prev.map((item, idx) =>\r\n          idx === index ? { ...item, jumlahhari: value } : item\r\n        )\r\n      );\r\n    } else {\r\n      setCompanyIzin((prev) =>\r\n        prev.map((item, idx) =>\r\n          idx === index ? { ...item, jumlahhari: value } : item\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  //  Edit deskripsi\r\n  const handleDeskripsiChange = (\r\n    type: \"cuti\" | \"izin\",\r\n    index: number,\r\n    value: string\r\n  ) => {\r\n    if (type === \"cuti\") {\r\n      setCompanyCuti((prev) =>\r\n        prev.map((item, idx) =>\r\n          idx === index ? { ...item, deskripsi: value } : item\r\n        )\r\n      );\r\n    } else {\r\n      setCompanyIzin((prev) =>\r\n        prev.map((item, idx) =>\r\n          idx === index ? { ...item, deskripsi: value } : item\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  //  Tambah baris baru\r\n  const handleAddRow = (type: \"cuti\" | \"izin\") => {\r\n    const selected = companies.find((c) => c.name === selectedCompany);\r\n    if (!selected) return;\r\n\r\n    if (type === \"cuti\") {\r\n      setCompanyCuti((prev) => [\r\n        ...prev,\r\n        {\r\n          companycutiid: 0, // data baru\r\n          companyid: selected.companyid,\r\n          daftarcutiid: 0,\r\n          deskripsi: \"\",\r\n          jumlahhari: 0,\r\n        },\r\n      ]);\r\n    } else {\r\n      setCompanyIzin((prev) => [\r\n        ...prev,\r\n        {\r\n          companyizinid: 0,\r\n          companyid: selected.companyid,\r\n          daftarizinid: 0,\r\n          deskripsi: \"\",\r\n          jumlahhari: 0,\r\n        },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  //  Simpan data (array)\r\n  const handleSave = async () => {\r\n    const selected = companies.find((c) => c.name === selectedCompany);\r\n    if (!selected) return;\r\n\r\n    try {\r\n      setSaving(true);\r\n\r\n      // filter hanya data valid (ada deskripsi)\r\n      const validCuti = companyCuti\r\n        .filter((c) => c.deskripsi.trim() !== \"\")\r\n        .map((c) => ({\r\n          ...(c.companycutiid ? { companycutiid: c.companycutiid } : {}),\r\n          companyid: selected.companyid,\r\n          daftarcutiid: c.daftarcutiid,\r\n          deskripsi: c.deskripsi,\r\n          jumlahhari: Number(c.jumlahhari) || 0,\r\n        }));\r\n\r\n      const validIzin = companyIzin\r\n        .filter((i) => i.deskripsi.trim() !== \"\")\r\n        .map((i) => ({\r\n          ...(i.companyizinid ? { companyizinid: i.companyizinid } : {}),\r\n          companyid: selected.companyid,\r\n          daftarizinid: i.daftarizinid,\r\n          deskripsi: i.deskripsi,\r\n          jumlahhari: Number(i.jumlahhari) || 0,\r\n        }));\r\n\r\n      await saveCompanyCuti(validCuti);\r\n      await saveCompanyIzin(validIzin);\r\n\r\n      alert(\"Data cuti & izin berhasil disimpan!\");\r\n    } catch (err) {\r\n      console.error(\"Gagal menyimpan:\", err);\r\n      alert(\"Gagal menyimpan data, cek console!\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n\r\n  const disabled = !selectedCompany;\r\n\r\n  return (\r\n    <main className=\"p-6\">\r\n      <h1 className=\"text-2xl font-semibold text-gray-800 mb-3\">\r\n        8. Cuti dan Izin\r\n      </h1>\r\n\r\n      <div className=\"px-5 mb-4\">\r\n        {loading ? (\r\n          <p className=\"text-sm text-gray-500\">Memuat data...</p>\r\n        ) : error ? (\r\n          <p className=\"text-sm text-red-500\">{error}</p>\r\n        ) : (\r\n          <select\r\n            className=\"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500\"\r\n            value={selectedCompany}\r\n            onChange={(e) => setSelectedCompany(e.target.value)}\r\n          >\r\n            <option value=\"\">Pilih Perusahaan</option>\r\n            {companies.map((c) => (\r\n              <option key={c.companyid} value={c.name}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        )}\r\n      </div>\r\n\r\n      {selectedCompany && (\r\n        <>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n            {/* === CUTI === */}\r\n            <div className=\"bg-white rounded-2xl shadow p-6\">\r\n              <h2 className=\"bg-blue-900 text-white text-lg font-bold text-center py-2 rounded-lg mb-4\">\r\n                Tipe Cuti + Hari\r\n              </h2>\r\n              <table className=\"w-full text-sm text-gray-700\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-left py-2\">Jenis Cuti</th>\r\n                    <th className=\"text-center py-2\">Checklist</th>\r\n                    <th className=\"text-center py-2\">Jumlah Hari</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {companyCuti.map((item, idx) => (\r\n                    <tr key={idx} className=\"hover:bg-gray-50\">\r\n                      <td className=\"py-1\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={item.deskripsi}\r\n                          onChange={(e) =>\r\n                            handleDeskripsiChange(\"cuti\", idx, e.target.value)\r\n                          }\r\n                          className={`w-full px-2 py-1 text-sm ${item.daftarcutiid !== 0\r\n                            ? \"cursor-not-allowed\"\r\n                            : \"bg-white\"\r\n                            }`}\r\n                          placeholder=\"Tulis jenis cuti...\"\r\n                          readOnly={item.daftarcutiid !== 0}\r\n                        />\r\n                      </td>\r\n                      <td className=\"text-center\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={item.jumlahhari > 0}\r\n                          onChange={() => handleCheckboxChange(\"cuti\", idx)}\r\n                          className=\"w-4 h-4 accent-blue-600\"\r\n                        />\r\n                      </td>\r\n                      <td className=\"text-center\">\r\n                        <input\r\n                          type=\"number\"\r\n                          value={item.jumlahhari || \"\"}\r\n                          onChange={(e) =>\r\n                            handleJumlahHariChange(\"cuti\", idx, Number(e.target.value))\r\n                          }\r\n                          className=\"px-2 py-1 w-16 text-center\"\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n              <button\r\n                onClick={() => handleAddRow(\"cuti\")}\r\n                className=\"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-semibold\"\r\n              >\r\n                + Tambah Cuti\r\n              </button>\r\n            </div>\r\n\r\n            {/* === IZIN === */}\r\n            <div className=\"bg-white rounded-2xl shadow p-6\">\r\n              <h2 className=\"bg-blue-900 text-white text-lg font-bold text-center py-2 rounded-lg mb-4\">\r\n                Tipe Izin + Hari\r\n              </h2>\r\n              <table className=\"w-full text-sm text-gray-700\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-left py-2\">Jenis Izin</th>\r\n                    <th className=\"text-center py-2\">Checklist</th>\r\n                    <th className=\"text-center py-2\">Jumlah Hari</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {companyIzin.map((item, idx) => (\r\n                    <tr key={idx} className=\"hover:bg-gray-50\">\r\n                      <td className=\"py-1\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={item.deskripsi}\r\n                          onChange={(e) =>\r\n                            handleDeskripsiChange(\"izin\", idx, e.target.value)\r\n                          }\r\n                          className={`w-full px-2 py-1 text-sm ${item.daftarizinid !== 0\r\n                              ? \"cursor-not-allowed\"\r\n                              : \"bg-white\"\r\n                            }`}\r\n                          placeholder=\"Tulis jenis izin...\"\r\n                          readOnly={item.daftarizinid !== 0}\r\n                        />\r\n                      </td>\r\n                      <td className=\"text-center\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={item.jumlahhari > 0}\r\n                          onChange={() => handleCheckboxChange(\"izin\", idx)}\r\n                          className=\"w-4 h-4 accent-blue-600\"\r\n                        />\r\n                      </td>\r\n                      <td className=\"text-center\">\r\n                        <input\r\n                          type=\"number\"\r\n                          value={item.jumlahhari || \"\"}\r\n                          onChange={(e) =>\r\n                            handleJumlahHariChange(\"izin\", idx, Number(e.target.value))\r\n                          }\r\n                          className=\"px-2 py-1 w-16 text-center\"\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n              <button\r\n                onClick={() => handleAddRow(\"izin\")}\r\n                className=\"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-semibold\"\r\n              >\r\n                + Tambah Izin\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <p className=\"text-xs text-red-500 italic mt-6\">\r\n            *Jika di-checklist maka akan muncul di pilihan cuti pegawai\r\n          </p>\r\n        </>\r\n      )}\r\n\r\n      <div className=\"flex justify-end gap-4 mt-6\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Kembali\r\n        </button>\r\n        <button\r\n          onClick={handleSave}\r\n          disabled={saving || disabled}\r\n          className={`bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ${saving || disabled ? \"opacity-70 cursor-not-allowed\" : \"\"\r\n            }`}\r\n        >\r\n          {saving ? \"Menyimpan...\" : \"Simpan\"}\r\n        </button>\r\n        <button\r\n          onClick={onNextStep}\r\n          className=\"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Lanjut\r\n        </button>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3362, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/liburnasionalApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { HariLiburNasional, CompLiburNasional } from \"./data\";\r\n\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE =  process.env.NEXT_PUBLIC_API_URL ||\"http://localhost:8000\";\r\n\r\nexport const getHariLiburNasional = async (): Promise<ApiResponse<HariLiburNasional[]>> => {\r\n  const response = await axios.get<ApiResponse<HariLiburNasional[]>>(`${API_BASE}/hariliburnasional`);\r\n  return response.data;\r\n};\r\n\r\nexport const getCompLiburNasional = async (): Promise<ApiResponse<CompLiburNasional[]>> => {\r\n  const response = await axios.get<ApiResponse<CompLiburNasional[]>>(`${API_BASE}/compliburnasional`);\r\n  return response.data;\r\n};\r\n\r\n// Simpan data\r\nexport const saveCompLiburNasional = async (\r\n  formData: FormData\r\n): Promise<ApiResponse<CompLiburNasional>> => {\r\n  const response = await axios.post<ApiResponse<CompLiburNasional>>(\r\n    `${API_BASE}/compliburnasional`,\r\n    formData,\r\n    {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Hapus data\r\nexport const deleteCompLiburNasional = async (id: number): Promise<ApiResponse<null>> => {\r\n  const response = await axios.delete<ApiResponse<null>>(`${API_BASE}/compliburnasional/${id}`);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;AAAA;;AASA,MAAM,WAAY,2EAAkC;AAE7C,MAAM,uBAAuB;IAClC,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAmC,GAAG,SAAS,kBAAkB,CAAC;IAClG,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,uBAAuB;IAClC,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAmC,GAAG,SAAS,kBAAkB,CAAC;IAClG,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,wBAAwB,OACnC;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,GAAG,SAAS,kBAAkB,CAAC,EAC/B,UACA;QACE,SAAS;YAAE,gBAAgB;QAAsB;IACnD;IAEF,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,0BAA0B,OAAO;IAC5C,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAAoB,GAAG,SAAS,mBAAmB,EAAE,IAAI;IAC5F,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 3399, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormHariLibur.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport { getCompanies } from \"@/api/companyApi\";\r\nimport { getHariLiburNasional, getCompLiburNasional, saveCompLiburNasional, deleteCompLiburNasional } from \"@/api/liburnasionalApi\";\r\nimport { Company, HariLiburNasional, CompLiburNasional } from \"@/api/data\";\r\nimport Calendar from \"react-calendar\";\r\nimport \"react-calendar/dist/Calendar.css\";\r\n\r\ntype CalendarValue = Date | [Date, Date] | null;\r\n\r\ninterface FormHariLiburProps {\r\n  onNextStep: () => void;\r\n  onBack: () => void;\r\n}\r\n\r\nfunction toLocalYYYYMMDD(date: Date) {\r\n  const year = date.getFullYear();\r\n  // getMonth() berbasis 0 (0 = Januari), jadi kita tambah 1\r\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n  const day = date.getDate().toString().padStart(2, '0');\r\n\r\n  return `${year}-${month}-${day}`;\r\n}\r\n\r\nexport default function FormHariLibur({ onNextStep, onBack }: FormHariLiburProps) {\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [selectedCompany, setSelectedCompany] = useState<string>(\"\");\r\n  const [hariLiburNasional, setHariLiburNasional] = useState<HariLiburNasional[]>([]);\r\n  const [compLiburNasional, setCompLiburNasional] = useState<CompLiburNasional[]>([]);\r\n  const [selectedLibur, setSelectedLibur] = useState<HariLiburNasional | null>(null);\r\n  const [namatanggal, setNamatanggal] = useState<string>(\"\");\r\n  const [date, setDate] = useState<CalendarValue>(new Date());\r\n  const [potongCuti, setPotongCuti] = useState<string>(\"Tidak\");\r\n  const [dokumenfilename, setDokumen] = useState<File | null>(null);\r\n  const [saving, setSaving] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  //  Ambil master data & perusahaan\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const [resCompanies, resHariLibur] = await Promise.all([\r\n          getCompanies(),\r\n          getHariLiburNasional(),\r\n        ]);\r\n        setCompanies(\r\n          (resCompanies.data || []).sort((a, b) => a.companyid - b.companyid)\r\n        );\r\n        setHariLiburNasional(resHariLibur.data || []);\r\n      } catch (err) {\r\n        console.error(\"Gagal memuat data master:\", err);\r\n        setError(\"Gagal memuat data perusahaan\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Fungsi untuk membersihkan file\r\n  const clearFile = () => {\r\n    setDokumen(null);\r\n    const fileInput = document.getElementById(\r\n      \"file-upload\"\r\n    ) as HTMLInputElement;\r\n    if (fileInput) {\r\n      fileInput.value = \"\"; // Mereset input file browser\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk mereset semua input form\r\n  const resetForm = () => {\r\n    setNamatanggal(\"\");\r\n    setDate(new Date());\r\n    setPotongCuti(\"Tidak\");\r\n    setSelectedLibur(null);\r\n    clearFile(); // Memanggil fungsi clear file\r\n  };\r\n\r\n  const fetchCompLiburNasional = useCallback(async () => {\r\n    if (!selectedCompany) {\r\n      setCompLiburNasional([]); // Kosongkan daftar jika tidak ada perusahaan\r\n      return;\r\n    }\r\n    try {\r\n      setLoading(true);\r\n      const selected = companies.find((c) => c.name === selectedCompany);\r\n      if (!selected) return;\r\n\r\n      const [resCompLibur] = await Promise.all([getCompLiburNasional()]);\r\n\r\n      const allCompLiburNasional: CompLiburNasional[] = resCompLibur.data || [];\r\n\r\n      const filteredLibur = allCompLiburNasional.filter(\r\n        (x) => x.companyid === selected.companyid\r\n      );\r\n\r\n      //  Merge daftar libur + data company\r\n      const mergedLibur: CompLiburNasional[] = hariLiburNasional.map(\r\n        (master) => {\r\n          const existing = filteredLibur.find(\r\n            (c) => c.hariliburnasid === master.hariliburnasid\r\n          );\r\n          return {\r\n            compliburnasionalid: existing?.compliburnasionalid ?? 0,\r\n            companyid: selected.companyid,\r\n            hariliburnasid: master.hariliburnasid,\r\n            startdate: master.startdate,\r\n            enddate: master.enddate,\r\n            namatanggal: master.namatanggal, \r\n            potongcutitahunan: existing\r\n              ? existing.potongcutitahunan\r\n              : undefined,\r\n            dokumenfilename: existing?.dokumenfilename ?? \"\",\r\n            dokumen_url: existing?.dokumen_url ?? null,\r\n          };\r\n        }\r\n      );\r\n\r\n      // tambahkan data baru (hariliburnasid = 0)\r\n      const newLibur = filteredLibur.filter((c) => c.hariliburnasid === 0);\r\n      const finalLibur = [...mergedLibur, ...newLibur];\r\n\r\n      setCompLiburNasional(finalLibur);\r\n    } catch (err) {\r\n      console.error(\"Gagal memuat company libur:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [selectedCompany, hariLiburNasional, companies]); // dependensi\r\n\r\n  //  Ambil data compliburnasional ketika perusahaan dipilih\r\n  useEffect(() => {\r\n    fetchCompLiburNasional();\r\n  }, [fetchCompLiburNasional]); // Panggil fungsi useCallback\r\n\r\n  // Mengecek apakah user pilih range atau tanggal tunggal\r\n  const isRange = Array.isArray(date);\r\n\r\n  //  Saat memilih keterangan libur, otomatis tampilkan tanggal di kalender\r\n  const handleSelectKeterangan = (nama: string) => {\r\n    const libur = hariLiburNasional.find((l) => l.namatanggal === nama);\r\n    setSelectedLibur(libur || null);\r\n    if (libur) {\r\n      setDate([new Date(libur.startdate), new Date(libur.enddate)]);\r\n    } else {\r\n      setDate(new Date());\r\n    }\r\n  };\r\n\r\n  //  Upload dokumen handler\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      setDokumen(e.target.files[0]);\r\n    } else {\r\n      // Jika user cancel dialog, clear file\r\n      setDokumen(null);\r\n    }\r\n  };\r\n\r\n  //  Simpan data (baru atau update)\r\n  const handleSave = async () => {\r\n    if (!selectedCompany || !date) return;\r\n    try {\r\n      setSaving(true);\r\n      const selected = companies.find((c) => c.name === selectedCompany);\r\n      if (!selected) return;\r\n\r\n      const formData = new FormData();\r\n\r\n      // jika user pilih dari master â†’ pakai hariliburnasid dan compliburnasionalid\r\n      if (selectedLibur) {\r\n        const existing = compLiburNasional.find(\r\n          (x) => x.hariliburnasid === selectedLibur.hariliburnasid\r\n        );\r\n        if (existing && existing.compliburnasionalid !== 0) {\r\n          formData.append(\"compliburnasionalid\", existing.compliburnasionalid.toString());\r\n        }\r\n        formData.append(\"hariliburnasid\", selectedLibur.hariliburnasid.toString());\r\n        formData.append(\"namatanggal\", selectedLibur.namatanggal);\r\n      } else {\r\n        // data baru (tidak dari master)\r\n        formData.append(\"hariliburnasid\", \"0\");\r\n        formData.append(\"namatanggal\", namatanggal);\r\n      }\r\n\r\n      formData.append(\"companyid\", selected.companyid.toString());\r\n      formData.append(\r\n        \"startdate\",\r\n        toLocalYYYYMMDD(isRange ? date[0] : (date as Date))\r\n      );\r\n\r\n      // Kirim enddate hanya jika range\r\n      if (isRange && date[1] && date[0].getTime() !== date[1].getTime()) {\r\n        formData.append(\"enddate\", toLocalYYYYMMDD(date[1] as Date));\r\n      }\r\n      formData.append(\"potongcutitahunan\", potongCuti === \"Ya\" ? \"1\" : \"0\");\r\n\r\n      if (dokumenfilename) formData.append(\"dokumenfilename\", dokumenfilename);\r\n\r\n      await saveCompLiburNasional(formData);\r\n      alert(\"Data berhasil disimpan!\");\r\n\r\n      resetForm();\r\n      fetchCompLiburNasional();\r\n    } catch (err) {\r\n      console.error(\"Gagal menyimpan data:\", err);\r\n      alert(\"Gagal menyimpan data\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // Hapus data compliburnasional\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm(\"Apakah Anda yakin ingin menghapus data ini?\")) return;\r\n    try {\r\n      await deleteCompLiburNasional(id);\r\n      alert(\"Data berhasil dihapus!\");\r\n      fetchCompLiburNasional();\r\n    } catch (err) {\r\n      console.error(\"Gagal menghapus data:\", err);\r\n      alert(\"Gagal menghapus data\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen p-6\">\r\n      <h1 className=\"text-2xl font-semibold text-gray-800 mb-6\">\r\n        9. Hari Libur Nasional\r\n      </h1>\r\n\r\n      <div className=\"px-5 mb-3\">\r\n        {loading ? (\r\n          <p className=\"text-sm text-gray-500\">Memuat data...</p>\r\n        ) : error ? (\r\n          <p className=\"text-sm text-red-500\">{error}</p>\r\n        ) : (\r\n          <select\r\n            className=\"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500\"\r\n            value={selectedCompany}\r\n            onChange={(e) => setSelectedCompany(e.target.value)}\r\n          >\r\n            <option value=\"\">Pilih Perusahaan</option>\r\n            {companies.map((c) => (\r\n              <option key={c.companyid} value={c.name}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        )}\r\n      </div>\r\n\r\n      {selectedCompany && (\r\n        <>\r\n          <div className=\"flex gap-4\">\r\n            {/* --- Kolom Input --- */}\r\n            <div className=\"w-1/4 p-6\">\r\n              <h2 className=\"bg-blue-900 text-white font-semibold text-center py-2 rounded-lg mb-4\">\r\n                Masukkan/Edit Daftar Libur\r\n              </h2>\r\n\r\n              {/* Keterangan */}\r\n              <div className=\"relative overflow-visible\">\r\n                <label className=\"block mb-1 font-medium\">Keterangan</label>\r\n                <input\r\n                  list=\"daftar-libur\"\r\n                  type=\"text\"\r\n                  value={namatanggal}\r\n                  onChange={(e) => {\r\n                    const value = e.target.value;\r\n                    setNamatanggal(value);\r\n                    handleSelectKeterangan(value);\r\n                  }}\r\n                  placeholder=\"Libur Nasional\"\r\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none\"\r\n                />\r\n                <datalist id=\"daftar-libur\">\r\n                  {compLiburNasional.map((item, idx) => (\r\n                    <option key={idx} value={item.namatanggal} />\r\n                  ))}\r\n                </datalist>\r\n              </div>\r\n\r\n              {/* Kalender */}\r\n              <div className=\"mt-4\">\r\n                <label className=\"block mb-2 font-medium text-gray-800\">\r\n                  Kalender\r\n                </label>\r\n                <div>\r\n                  <Calendar\r\n                    onChange={(value) => {\r\n                      if (Array.isArray(value)) {\r\n                        const [start, end] = value;\r\n\r\n                        if (start && end) {\r\n                          const startDate = toLocalYYYYMMDD(start);\r\n                          const endDate = toLocalYYYYMMDD(end);\r\n                          // Kalau tanggal sama â†’ single date\r\n                          if (startDate === endDate) {\r\n                            setDate(start);\r\n                          } else {\r\n                            setDate([start, end]);\r\n                          }\r\n                        }\r\n                      } else if (value instanceof Date) {\r\n                        setDate(value);\r\n                      }\r\n                    }}\r\n                    value={date}\r\n                    selectRange={true}\r\n                    className=\"rounded-lg\"\r\n                  />\r\n\r\n                  <div className=\"mt-2 text-sm text-gray-600\">\r\n                    {isRange && date ? (\r\n                      <>\r\n                        <p>\r\n                          <strong>Dari:</strong> {date[0].toLocaleDateString(\"id-ID\")}\r\n                        </p>\r\n                        <p>\r\n                          <strong>Sampai:</strong> {date[1].toLocaleDateString(\"id-ID\")}\r\n                        </p>\r\n                      </>\r\n                    ) : (\r\n                      date && (\r\n                        <p>\r\n                          <strong>Tanggal:</strong> {date.toLocaleDateString(\"id-ID\")}\r\n                        </p>\r\n                      )\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Potong Cuti Tahunan */}\r\n              <div className=\"mt-4\">\r\n                <label className=\"block mb-1 font-medium\">Potong Cuti Tahunan</label>\r\n                <select\r\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none\"\r\n                  value={potongCuti}\r\n                  onChange={(e) => setPotongCuti(e.target.value)}\r\n                >\r\n                  <option>Ya</option>\r\n                  <option>Tidak</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Upload Dokumen */}\r\n              <div className=\"mt-4\">\r\n                <label className=\"block mb-1 font-medium\">Upload Dokumen</label>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"file-upload\"\r\n                  accept=\"application/pdf,image/*\"\r\n                  onChange={handleFileChange}\r\n                  className=\"hidden\"\r\n                />\r\n\r\n                {/* UI kustom */}\r\n                <div className=\"flex items-center gap-3\">\r\n                  <label\r\n                    htmlFor=\"file-upload\"\r\n                    className=\"cursor-pointer flex-shrink-0 rounded-lg border border-gray-400 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\r\n                  >\r\n                    Pilih File\r\n                  </label>\r\n                  <span className=\"text-sm text-gray-600 flex-1 truncate overflow-hidden whitespace-nowrap\">\r\n                    {dokumenfilename ? dokumenfilename.name : \"Belum ada file dipilih\"}\r\n                  </span>\r\n                  {dokumenfilename && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={clearFile}\r\n                      className=\"flex-shrink-0 text-red-500 hover:text-red-700 text-xl font-bold\"\r\n                      aria-label=\"Hapus file\"\r\n                    >\r\n                      &times;\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Tombol Tambah */}\r\n              <div className=\"mt-3\">\r\n                <button\r\n                  onClick={handleSave}\r\n                  disabled={saving}\r\n                  className={`bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-full text-sm w-full transition ${saving ? \"opacity-70 cursor-not-allowed\" : \"\"\r\n                    }`}\r\n                >\r\n                  {saving ? \"Menyimpan...\" : \"Simpan\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* --- Kolom Daftar Hari Libur --- */}\r\n            <div className=\"w-3/4 p-6\">\r\n              <h2 className=\"bg-blue-900 text-white font-semibold text-center py-2 rounded-lg mb-4\">\r\n                Daftar Hari Libur Nasional\r\n              </h2>\r\n\r\n              <table className=\"min-w-full border border-gray-300 text-sm text-gray-800 rounded-lg overflow-hidden\">\r\n                <thead className=\"bg-gray-100 text-left\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-2 border-b\">Keterangan</th>\r\n                    <th className=\"px-4 py-2 border-b\">Tanggal</th>\r\n                    <th className=\"px-4 py-2 border-b text-center\">Potong Cuti Tahunan</th>\r\n                    <th className=\"px-4 py-2 border-b\">Dokumen</th>\r\n                    <th className=\"px-4 py-2 border-b text-center\">Aksi</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {compLiburNasional.map((item, idx) => (\r\n                    <tr key={idx} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-4 py-2 border-b border-gray-200\">{item.namatanggal}</td>\r\n                      <td className=\"px-4 py-2 border-b border-gray-200\">{item.startdate ? toLocalYYYYMMDD(new Date(item.startdate)) : ''} {item.enddate ? ` / ${toLocalYYYYMMDD(new Date(item.enddate))}` : ''}</td>\r\n                      <td className=\"px-4 py-2 border-b border-gray-200 text-center\">\r\n                        {item.potongcutitahunan === undefined ||\r\n                          item.potongcutitahunan === null\r\n                          ? \"-\"\r\n                          : item.potongcutitahunan\r\n                            ? \"Ya\"\r\n                            : \"Tidak\"}\r\n                      </td>\r\n                      <td className=\"px-4 py-2 border-b border-gray-200 text-center\">\r\n                        {item.dokumen_url ? (\r\n                          <a\r\n                            href={item.dokumen_url}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"text-blue-600 hover:underline\"\r\n                          >\r\n                            Lihat Dokumen\r\n                          </a>\r\n                        ) : (\r\n                          \"-\"\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-4 py-2 border-b border-gray-200 text-center\">\r\n                        {item.compliburnasionalid && item.compliburnasionalid !== 0 ? (\r\n                          <button\r\n                            onClick={() => handleDelete(item.compliburnasionalid!)}\r\n                            className=\"text-red-600 hover:text-red-800 font-semibold cursor-pointer\"\r\n                          >\r\n                            Hapus\r\n                          </button>\r\n                        ) : (\r\n                          \"-\"\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      <div className=\"flex justify-end gap-4 mt-6\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Kembali\r\n        </button>\r\n        <button\r\n          onClick={onNextStep}\r\n          className=\"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Lanjut\r\n        </button>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4168, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/companyworkingApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { WorkingBreak, WorkingHours } from \"./data\";\r\n\r\n// Tipe standar respons dari backend\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL;\r\n\r\nexport const getCompanyWorkingHours = async (): Promise<\r\n  ApiResponse<WorkingHours[]>\r\n> => {\r\n  const response = await axios.get<ApiResponse<WorkingHours[]>>(\r\n    `${API_BASE}/companyworkinghours`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const saveCompanyWorkingHours = async (\r\n  companyworkinghours: Partial<WorkingHours>[]\r\n): Promise<ApiResponse<WorkingHours[]>> => {\r\n  const response = await axios.put<ApiResponse<WorkingHours[]>>(\r\n    `${API_BASE}/companyworkinghours`,\r\n    companyworkinghours,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Hapus data\r\nexport const deleteCompanyWorkingHours = async (id: number): Promise<ApiResponse<null>> => {\r\n  const response = await axios.delete<ApiResponse<null>>(`${API_BASE}/companyworkinghours/${id}`);\r\n  return response.data;\r\n};\r\n\r\nexport const getCompanyWorkingBreak = async (): Promise<\r\n  ApiResponse<WorkingBreak[]>\r\n> => {\r\n  const response = await axios.get<ApiResponse<WorkingBreak[]>>(\r\n    `${API_BASE}/companyworkingbreaktime`\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Simpan data\r\nexport const saveCompanyWorkingBreak = async (\r\n  companyworkingbreaktime: Partial<WorkingBreak>[]\r\n): Promise<ApiResponse<WorkingBreak[]>> => {\r\n  const response = await axios.put<ApiResponse<WorkingBreak[]>>(\r\n    `${API_BASE}/companyworkingbreaktime`,\r\n    companyworkingbreaktime,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const deleteCompanyWorkingBreak = async (id: number): Promise<ApiResponse<null>> => {\r\n  const response = await axios.delete<ApiResponse<null>>(`${API_BASE}/companyworkingbreaktime/${id}`);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAUA,MAAM;AAEC,MAAM,yBAAyB;IAGpC,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,oBAAoB,CAAC;IAEnC,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,0BAA0B,OACrC;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,oBAAoB,CAAC,EACjC,qBACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,4BAA4B,OAAO;IAC9C,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAAoB,GAAG,SAAS,qBAAqB,EAAE,IAAI;IAC9F,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,yBAAyB;IAGpC,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,wBAAwB,CAAC;IAEvC,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,0BAA0B,OACrC;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,wBAAwB,CAAC,EACrC,yBACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,4BAA4B,OAAO;IAC9C,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAAoB,GAAG,SAAS,yBAAyB,EAAE,IAAI;IAClG,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 4221, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormAturJamKerja.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useMemo } from \"react\";\r\nimport { getCompanies } from \"@/api/companyApi\";\r\nimport {\r\n  getCompanyWorkingHours,\r\n  getCompanyWorkingBreak,\r\n  saveCompanyWorkingHours,\r\n  saveCompanyWorkingBreak,\r\n  deleteCompanyWorkingHours,\r\n  deleteCompanyWorkingBreak,\r\n} from \"@/api/companyworkingApi\";\r\nimport { Company, WorkingHours, WorkingBreak } from \"@/api/data\";\r\n\r\ninterface FormAturJamKerjaProps {\r\n  onNextStep: () => void;\r\n  onBack: () => void;\r\n}\r\n\r\ninterface WorkingDataDisplay extends WorkingHours {\r\n  breaks: WorkingBreak[];\r\n}\r\n\r\ninterface FormBreakState {\r\n  id?: number | null;\r\n  companyworkinghoursid?: number | null;\r\n  starttime: string;\r\n  endtime: string;\r\n}\r\n\r\nexport default function FormAturJamKerja({ onNextStep, onBack }: FormAturJamKerjaProps) {\r\n  // helper: konversi \"HH:MM:SS\" atau \"HH:MM\" => \"HH:MM\"\r\n  const toHM = (time?: string | null) => {\r\n    if (!time && time !== \"\") return \"\";\r\n    const t = String(time ?? \"\");\r\n    // jika sudah \"HH:MM\" return langsung (safety)\r\n    if (/^\\d{1,2}:\\d{2}$/.test(t)) {\r\n      const [hh, mm] = t.split(\":\");\r\n      return `${hh.padStart(2, \"0\")}:${mm}`;\r\n    }\r\n    // jika \"HH:MM:SS\" atau \"HH:MM:SS.sss\" -> ambil dua bagian pertama\r\n    if (t.includes(\":\")) {\r\n      const parts = t.split(\":\");\r\n      const hh = (parts[0] || \"00\").padStart(2, \"0\");\r\n      const mm = (parts[1] || \"00\").slice(0, 2);\r\n      return `${hh}:${mm}`;\r\n    }\r\n    // fallback\r\n    return t.slice(0, 5);\r\n  };\r\n\r\n  // --- STATE DATA MASTER ---\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [rawHours, setRawHours] = useState<WorkingHours[]>([]);\r\n  const [rawBreaks, setRawBreaks] = useState<WorkingBreak[]>([]);\r\n\r\n  // --- STATE FILTERS ---\r\n  const [selectedCompanyId, setSelectedCompanyId] = useState<number | string>(\"\");\r\n  const [filterTipe, setFilterTipe] = useState<string>(\"\");\r\n  const [filterKategori, setFilterKategori] = useState<string>(\"\");\r\n  const [filterSkema, setFilterSkema] = useState<string>(\"\");\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // --- STATE UNTUK ADD / EDIT FORM (MODAL) ---\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [editingId, setEditingId] = useState<number | null>(null);\r\n\r\n  // State untuk Validasi Error di Modal\r\n  const [validationMsg, setValidationMsg] = useState<string | null>(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    tipejadwal: \"Shift\",\r\n    kategori: \"Pagi\",\r\n    skema: \"6-1\",\r\n    durasi: 8,\r\n    durasiistirahat: 1,\r\n    jammasuk: \"08:00\",\r\n    jamkeluar: \"16:00\",\r\n    kodeshift: \"\",\r\n  });\r\n\r\n  const [formBreaks, setFormBreaks] = useState<FormBreakState[]>([]);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  // Fetch Data\r\n  const fetchAll = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const [resCompanies, resHours, resBreaks] = await Promise.all([\r\n        getCompanies(),\r\n        getCompanyWorkingHours(),\r\n        getCompanyWorkingBreak(),\r\n      ]);\r\n      const companiesData = (resCompanies.data || []).sort((a, b) => a.companyid - b.companyid);\r\n      const hoursData = resHours.data || [];\r\n      const breaksData = resBreaks.data || [];\r\n\r\n      setCompanies(companiesData);\r\n      setRawHours(hoursData);\r\n      setRawBreaks(breaksData);\r\n    } catch (err) {\r\n      console.error(\"Error fetching data:\", err);\r\n      setError(\"Gagal memuat data dari server.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAll();\r\n  }, []);\r\n\r\n  // Logic Filter & Join\r\n  const filteredData: WorkingDataDisplay[] = useMemo(() => {\r\n    if (!selectedCompanyId) return [];\r\n\r\n    let data = rawHours.filter((h) => h.companyid === Number(selectedCompanyId));\r\n\r\n    if (filterTipe) data = data.filter((item) => item.tipejadwal === filterTipe);\r\n    if (filterKategori) data = data.filter((item) => item.kategori === filterKategori);\r\n    if (filterSkema) data = data.filter((item) => item.skema === filterSkema);\r\n\r\n    return data.map((hourItem) => {\r\n      // NOTE: normalisasi jam untuk tampilan: tampilkan hanya HH:MM\r\n      const myBreaks = rawBreaks\r\n        .filter((b) => b.companyworkinghoursid === hourItem.companyworkinghoursid)\r\n        .map((b) => ({ ...b, starttime: toHM(b.starttime), endtime: toHM(b.endtime) }));\r\n      myBreaks.sort((a, b) => a.starttime.localeCompare(b.starttime));\r\n\r\n      return {\r\n        ...hourItem,\r\n        jammasuk: toHM(hourItem.jammasuk),\r\n        jamkeluar: toHM(hourItem.jamkeluar),\r\n        breaks: myBreaks,\r\n      };\r\n    });\r\n  }, [rawHours, rawBreaks, selectedCompanyId, filterTipe, filterKategori, filterSkema]);\r\n\r\n  // --- MODAL HELPERS ---\r\n  const openCreateModal = () => {\r\n    if (!selectedCompanyId) {\r\n      alert(\"Mohon pilih perusahaan terlebih dahulu.\");\r\n      return;\r\n    }\r\n    setEditingId(null);\r\n    setValidationMsg(null); // Reset pesan error\r\n    setFormData({\r\n      tipejadwal: filterTipe || \"Shift\",\r\n      kategori: filterKategori || \"Pagi\",\r\n      skema: filterSkema || \"6-1\",\r\n      durasi: 8,\r\n      durasiistirahat: 1,\r\n      jammasuk: \"08:00\",\r\n      jamkeluar: \"16:00\",\r\n      kodeshift: \"\",\r\n    });\r\n    setFormBreaks([]);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const openEditModal = (row: WorkingDataDisplay) => {\r\n    setEditingId(row.companyworkinghoursid);\r\n    setValidationMsg(null); // Reset pesan error\r\n    setFormData({\r\n      tipejadwal: row.tipejadwal,\r\n      kategori: row.kategori,\r\n      skema: row.skema,\r\n      durasi: row.durasi,\r\n      durasiistirahat: row.durasiistirahat,\r\n      jammasuk: toHM(row.jammasuk),\r\n      jamkeluar: toHM(row.jamkeluar),\r\n      kodeshift: row.kodeshift || \"\",\r\n    });\r\n\r\n    setFormBreaks(\r\n      (row.breaks || []).map((b) => ({\r\n        id: b.id,\r\n        companyworkinghoursid: b.companyworkinghoursid,\r\n        starttime: toHM(b.starttime),\r\n        endtime: toHM(b.endtime),\r\n      }))\r\n    );\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const addBreakField = () => {\r\n    setFormBreaks((prev) => [\r\n      ...prev,\r\n      { id: null, companyworkinghoursid: editingId ?? null, starttime: \"12:00\", endtime: \"13:00\" },\r\n    ]);\r\n  };\r\n\r\n  const removeBreakField = (index: number) => {\r\n    setFormBreaks((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const updateBreakField = (index: number, key: \"starttime\" | \"endtime\", value: string) => {\r\n    setFormBreaks((prev) => prev.map((b, i) => (i === index ? { ...b, [key]: value } : b)));\r\n  };\r\n\r\n  // --- SUBMIT HANDLER ---\r\n  const handleFormSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setValidationMsg(null);\r\n\r\n    if (!selectedCompanyId) {\r\n      alert(\"Perusahaan belum dipilih.\");\r\n      console.groupEnd();\r\n      return;\r\n    }\r\n\r\n    // Cek Dropdown (Tipe, Kategori, Skema)\r\n    if (!formData.tipejadwal || !formData.kategori || !formData.skema) {\r\n      setValidationMsg(\"Tipe Jadwal, Kategori, dan Skema wajib dipilih.\");\r\n      return;\r\n    }\r\n\r\n    // Cek Kode Shift (Wajib diisi & tidak spasi kosong)\r\n    if (!formData.kodeshift || formData.kodeshift.trim() === \"\") {\r\n      setValidationMsg(\"Kode Shift wajib diisi.\");\r\n      return;\r\n    }\r\n\r\n    // Cek Jam (Masuk & Keluar)\r\n    if (!formData.jammasuk || !formData.jamkeluar) {\r\n      setValidationMsg(\"Jam Masuk dan Jam Keluar wajib diisi.\");\r\n      return;\r\n    }\r\n\r\n    // Cek Durasi (Tidak boleh kosong atau minus)\r\n    if (formData.durasi === undefined || Number(formData.durasi) <= 0) {\r\n      setValidationMsg(\"Durasi Kerja wajib diisi dan harus lebih dari 0.\");\r\n      return;\r\n    }\r\n    if (formData.durasiistirahat === undefined || Number(formData.durasiistirahat) < 0) {\r\n      setValidationMsg(\"Durasi Istirahat wajib diisi (boleh 0).\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsSaving(true);\r\n      const companyidNum = Number(selectedCompanyId);\r\n\r\n      // 1. Build Payload Jam Kerja\r\n      const hourPayload: Partial<WorkingHours> = {\r\n        ...(editingId ? { companyworkinghoursid: editingId } : {}),\r\n        companyid: companyidNum,\r\n        tipejadwal: formData.tipejadwal,\r\n        kategori: formData.kategori,\r\n        skema: formData.skema,\r\n        durasi: Number(formData.durasi),\r\n        durasiistirahat: Number(formData.durasiistirahat),\r\n        jammasuk: toHM(formData.jammasuk),\r\n        jamkeluar: toHM(formData.jamkeluar),\r\n        kodeshift: formData.kodeshift,\r\n      };\r\n\r\n      // 2. Simpan Header\r\n      const resHours = await saveCompanyWorkingHours([hourPayload]);\r\n\r\n      // --- EKSTRAKSI ID ---\r\n      let targetCompanyWorkingHoursId: number | null = editingId ?? null;\r\n      const respUnknown: unknown = resHours;\r\n\r\n      const extractNumberProp = (obj: Record<string, unknown>, propNames: string[]) => {\r\n        for (const p of propNames) {\r\n          if (p in obj) {\r\n            const v = obj[p];\r\n            if (typeof v === \"number\") return v;\r\n            if (typeof v === \"string\" && v.trim() !== \"\" && !Number.isNaN(Number(v))) return Number(v);\r\n          }\r\n        }\r\n        return null;\r\n      };\r\n\r\n      if (respUnknown && typeof respUnknown === \"object\") {\r\n        const respObj = respUnknown as Record<string, unknown>;\r\n        if (\"data\" in respObj) {\r\n          const d = respObj[\"data\"];\r\n          if (Array.isArray(d) && d.length > 0 && typeof d[0] === \"object\") {\r\n            const first = d[0] as Record<string, unknown>;\r\n            const maybe = extractNumberProp(first, [\"companyworkinghoursid\", \"id\", \"companyworkinghours_id\"]);\r\n            if (maybe) targetCompanyWorkingHoursId = maybe;\r\n          } else if (d && typeof d === \"object\") {\r\n            const obj = d as Record<string, unknown>;\r\n            const maybe = extractNumberProp(obj, [\"companyworkinghoursid\", \"id\", \"companyworkinghours_id\"]);\r\n            if (maybe) targetCompanyWorkingHoursId = maybe;\r\n          }\r\n        }\r\n        if (!targetCompanyWorkingHoursId && \"results\" in respObj) {\r\n          const r = respObj[\"results\"];\r\n          if (Array.isArray(r) && r.length > 0 && typeof r[0] === \"object\") {\r\n            const firstRes = r[0] as Record<string, unknown>;\r\n            if (\"data\" in firstRes && firstRes[\"data\"] && typeof firstRes[\"data\"] === \"object\") {\r\n              const inner = firstRes[\"data\"] as Record<string, unknown>;\r\n              const maybe = extractNumberProp(inner, [\"companyworkinghoursid\", \"id\", \"companyworkinghours_id\"]);\r\n              if (maybe) targetCompanyWorkingHoursId = maybe;\r\n            } else {\r\n              const maybe = extractNumberProp(firstRes, [\"companyworkinghoursid\", \"id\", \"companyworkinghours_id\"]);\r\n              if (maybe) targetCompanyWorkingHoursId = maybe;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // 4. Fallback GET (compare times tanpa detik)\r\n      if (!targetCompanyWorkingHoursId) {\r\n        const resGet = await getCompanyWorkingHours();\r\n        const freshHours: WorkingHours[] = resGet.data || [];\r\n        const matched = freshHours.find(\r\n          (h) =>\r\n            h.companyid === companyidNum &&\r\n            h.tipejadwal === formData.tipejadwal &&\r\n            h.kategori === formData.kategori &&\r\n            toHM(h.jammasuk) === toHM(formData.jammasuk) &&\r\n            toHM(h.jamkeluar) === toHM(formData.jamkeluar) &&\r\n            ((h.kodeshift ?? \"\") === (formData.kodeshift ?? \"\"))\r\n        );\r\n        if (matched) targetCompanyWorkingHoursId = matched.companyworkinghoursid;\r\n      }\r\n\r\n      if (!targetCompanyWorkingHoursId) {\r\n        throw new Error(\r\n          \"Gagal mendapatkan ID Jam Kerja untuk menyimpan detail istirahat. Backend mungkin tidak mengembalikan ID.\"\r\n        );\r\n      }\r\n\r\n      // 5. Build Payload Breaks (pastikan kirim HH:MM juga)\r\n      const validBreaks = formBreaks.filter((b) => b.starttime && b.endtime);\r\n\r\n      if (validBreaks.length > 0) {\r\n        const breaksPayload: Partial<WorkingBreak>[] = validBreaks.map((b) => ({\r\n          ...(b.id ? { id: b.id } : {}),\r\n          companyworkinghoursid: targetCompanyWorkingHoursId ?? undefined,\r\n          starttime: toHM(b.starttime),\r\n          endtime: toHM(b.endtime),\r\n        }));\r\n\r\n        await saveCompanyWorkingBreak(breaksPayload);\r\n      }\r\n\r\n      // 6. Refresh & Close\r\n      await fetchAll();\r\n      alert(\"Simpan berhasil.\");\r\n      setIsModalOpen(false);\r\n    } catch (err) {\r\n      console.error(\"Gagal menyimpan:\", err);\r\n      alert(\"Terjadi kesalahan saat menyimpan.\");\r\n    } finally {\r\n      setIsSaving(false);\r\n      console.groupEnd();\r\n    }\r\n  };\r\n\r\n  const handleDeleteWorkingHours = async () => {\r\n    if (!editingId) return;\r\n    const c = confirm(\"Anda yakin ingin menghapus jadwal ini beserta semua detail istirahat terkait?\");\r\n    if (!c) return;\r\n\r\n    try {\r\n      setIsDeleting(true);\r\n      await deleteCompanyWorkingHours(editingId);\r\n      await fetchAll(); // refresh data\r\n      setIsModalOpen(false);\r\n      alert(\"Jadwal berhasil dihapus.\");\r\n    } catch (err) {\r\n      console.error(\"Gagal menghapus jadwal:\", err);\r\n      alert(\"Gagal menghapus jadwal.\");\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteBreak = async (index: number) => {\r\n    const b = formBreaks[index];\r\n    // jika tidak ada id -> hanya hapus di UI\r\n    if (!b || !b.id) {\r\n      setFormBreaks((prev) => prev.filter((_, i) => i !== index));\r\n      return;\r\n    }\r\n\r\n    const c = confirm(\"Anda yakin ingin menghapus detail istirahat ini?\");\r\n    if (!c) return;\r\n\r\n    try {\r\n      setIsDeleting(true);\r\n      await deleteCompanyWorkingBreak(b.id as number);\r\n      await fetchAll();\r\n      // jika modal masih terbuka, juga update formBreaks agar UI modal ter-sync\r\n      const freshBreaks = (await getCompanyWorkingBreak()).data || [];\r\n      // filter breaks yang milik editingId dan ambil untuk setFormBreaks (transform ke HM jika perlu)\r\n      const myBreaks = (freshBreaks.filter(x => x.companyworkinghoursid === editingId) || []).map(x => ({\r\n        id: x.id,\r\n        companyworkinghoursid: x.companyworkinghoursid,\r\n        starttime: toHM(x.starttime),\r\n        endtime: toHM(x.endtime),\r\n      }));\r\n      setFormBreaks(myBreaks);\r\n      alert(\"Detail istirahat berhasil dihapus.\");\r\n    } catch (err) {\r\n      console.error(\"Gagal menghapus detail istirahat:\", err);\r\n      alert(\"Gagal menghapus detail istirahat.\");\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen px-6 py-10 relative\">\r\n      <h1 className=\"text-2xl font-semibold text-gray-800 mb-2\">10. Atur Jam Kerja</h1>\r\n      <p className=\"text-sm text-gray-600 mb-6\">Data Jam Kerja & Detail Istirahat â€” klik baris untuk edit</p>\r\n\r\n      {/* FILTER SECTION */}\r\n      <div className=\"p-5 shadow rounded-sm mb-6 bg-white\">\r\n        {loading ? (\r\n          <p className=\"text-sm text-gray-500\">Sedang memuat data...</p>\r\n        ) : error ? (\r\n          <p className=\"text-sm text-red-500\">{error}</p>\r\n        ) : (\r\n          <div className=\"flex flex-wrap md:flex-nowrap gap-4 items-end justify-between\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 flex-grow\">\r\n              {/* Filter Perusahaan */}\r\n              <div className=\"flex flex-col gap-1\">\r\n                <label className=\"text-xs font-semibold text-gray-700\">Perusahaan</label>\r\n                <select\r\n                  className=\"border border-gray-300 rounded-md px-3 py-2 text-sm w-full\"\r\n                  value={selectedCompanyId}\r\n                  onChange={(e) => setSelectedCompanyId(e.target.value)}\r\n                >\r\n                  <option value=\"\">Pilih Perusahaan</option>\r\n                  {companies.map((c) => (\r\n                    <option key={c.companyid} value={c.companyid}>\r\n                      {c.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Filter Tipe */}\r\n              <div className=\"flex flex-col gap-1\">\r\n                <label className=\"text-xs font-semibold text-gray-700\">Tipe Jadwal</label>\r\n                <select\r\n                  className=\"border border-gray-300 rounded-md px-3 py-2 text-sm w-full\"\r\n                  value={filterTipe}\r\n                  onChange={(e) => setFilterTipe(e.target.value)}\r\n                  disabled={!selectedCompanyId}\r\n                >\r\n                  <option value=\"\">Semua</option>\r\n                  <option value=\"Shift\">Shift</option>\r\n                  <option value=\"Non Shift\">Non Shift</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Filter Kategori */}\r\n              <div className=\"flex flex-col gap-1\">\r\n                <label className=\"text-xs font-semibold text-gray-700\">Kategori</label>\r\n                <select\r\n                  className=\"border border-gray-300 rounded-md px-3 py-2 text-sm w-full\"\r\n                  value={filterKategori}\r\n                  onChange={(e) => setFilterKategori(e.target.value)}\r\n                  disabled={!selectedCompanyId}\r\n                >\r\n                  <option value=\"\">Semua</option>\r\n                  <option value=\"Pagi\">Pagi</option>\r\n                  <option value=\"Siang\">Siang</option>\r\n                  <option value=\"Malam\">Malam</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Filter Skema */}\r\n              <div className=\"flex flex-col gap-1\">\r\n                <label className=\"text-xs font-semibold text-gray-700\">Skema</label>\r\n                <select\r\n                  className=\"border border-gray-300 rounded-md px-3 py-2 text-sm w-full\"\r\n                  value={filterSkema}\r\n                  onChange={(e) => setFilterSkema(e.target.value)}\r\n                  disabled={!selectedCompanyId}\r\n                >\r\n                  <option value=\"\">Semua</option>\r\n                  <option value=\"6-1\">6-1</option>\r\n                  <option value=\"5-2\">5-2</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex-shrink-0\">\r\n              <button\r\n                onClick={openCreateModal}\r\n                disabled={!selectedCompanyId || isSaving}\r\n                className=\"bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-md text-sm font-medium shadow disabled:opacity-50 disabled:cursor-not-allowed transition-colors cursor-pointer\"\r\n              >\r\n                + Tambah Jadwal\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* TABLE SECTION */}\r\n      <div className=\"overflow-x-auto rounded-sm shadow mb-10 bg-white\">\r\n        <table className=\"w-full text-sm border-collapse\">\r\n          <thead>\r\n            <tr className=\"bg-blue-900 text-white text-center\">\r\n              <th className=\"px-4 py-2\">Tipe Jadwal</th>\r\n              <th className=\"px-4 py-2\">Kategori</th>\r\n              <th className=\"px-4 py-2\">Skema</th>\r\n              <th className=\"px-4 py-2\">Durasi</th>\r\n              <th className=\"px-4 py-2\">Durasi Istirahat</th>\r\n              <th className=\"px-4 py-2\">Jam Masuk</th>\r\n              <th className=\"px-4 py-2\">Jam Keluar</th>\r\n              <th className=\"px-4 py-2\">Istirahat Mulai</th>\r\n              <th className=\"px-4 py-2\">Istirahat Selesai</th>\r\n              <th className=\"px-4 py-2\">Kode Shift</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {!selectedCompanyId && (\r\n              <tr>\r\n                <td colSpan={10} className=\"px-4 py-8 text-center text-gray-500 italic\">\r\n                  Pilih perusahaan untuk melihat data.\r\n                </td>\r\n              </tr>\r\n            )}\r\n            {selectedCompanyId && filteredData.length === 0 && (\r\n              <tr>\r\n                <td colSpan={10} className=\"px-4 py-8 text-center text-gray-500 italic\">\r\n                  Data tidak ditemukan untuk filter ini.\r\n                </td>\r\n              </tr>\r\n            )}\r\n\r\n            {filteredData.map((row, idx) => (\r\n              <tr\r\n                key={row.companyworkinghoursid}\r\n                className={`text-center items-center ${idx % 2 === 0 ? \"bg-gray-50\" : \"bg-white\"} hover:bg-blue-50 cursor-pointer`}\r\n                onClick={() => openEditModal(row)}\r\n                title=\"Klik untuk edit\"\r\n              >\r\n                <td className=\"px-4 py-2 align-top pt-3\">{row.tipejadwal}</td>\r\n                <td className=\"px-4 py-2 align-top pt-3\">{row.kategori}</td>\r\n                <td className=\"px-4 py-2 align-top pt-3\">{row.skema}</td>\r\n                <td className=\"px-4 py-2 align-top pt-3\">{row.durasi} Jam</td>\r\n                <td className=\"px-4 py-2 align-top pt-3\">{row.durasiistirahat} Jam</td>\r\n                <td className=\"px-4 py-2 align-top pt-3\">{toHM(row.jammasuk)}</td>\r\n                <td className=\"px-4 py-2 align-top pt-3\">{toHM(row.jamkeluar)}</td>\r\n                <td className=\"px-4 py-2 align-top\">\r\n                  {row.breaks.length > 0 ? (\r\n                    <div className=\"flex flex-col gap-1\">\r\n                      {row.breaks.map((b) => (\r\n                        <span key={b.id} className=\"block border-b border-blue-100 last:border-0 pb-1 pt-1\">\r\n                          {toHM(b.starttime)}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    \"-\"\r\n                  )}\r\n                </td>\r\n                <td className=\"px-4 py-2 align-top\">\r\n                  {row.breaks.length > 0 ? (\r\n                    <div className=\"flex flex-col gap-1\">\r\n                      {row.breaks.map((b) => (\r\n                        <span key={b.id} className=\"block border-b border-blue-100 last:border-0 pb-1 pt-1\">\r\n                          {toHM(b.endtime)}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    \"-\"\r\n                  )}\r\n                </td>\r\n                <td className=\"px-4 py-2 align-top pt-3 font-mono text-gray-600\">{row.kodeshift}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* MODAL ADD / EDIT DATA */}\r\n      {isModalOpen && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\r\n          <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h2 className=\"text-xl font-bold text-gray-800\">{editingId ? \"Edit Jadwal\" : \"Tambah Jadwal Baru\"}</h2>\r\n              <div className=\"flex items-center gap-3\">\r\n                {editingId && (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleDeleteWorkingHours}\r\n                    disabled={isDeleting}\r\n                    className=\"text-xs bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded\"\r\n                  >\r\n                    {isDeleting ? \"Menghapus...\" : \"Hapus Jadwal\"}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* ERROR ALERT BOX */}\r\n            {validationMsg && (\r\n              <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm\">\r\n                <strong>Perhatian:</strong> {validationMsg}\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleFormSubmit} className=\"space-y-4\">\r\n              {/* Row 1: Tipe & Kategori */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">Tipe Jadwal</label>\r\n                  <select\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\r\n                    value={formData.tipejadwal}\r\n                    onChange={(e) => setFormData({ ...formData, tipejadwal: e.target.value })}\r\n                    required\r\n                  >\r\n                    <option value=\"Shift\">Shift</option>\r\n                    <option value=\"Non Shift\">Non Shift</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">Kategori</label>\r\n                  <select\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\r\n                    value={formData.kategori}\r\n                    onChange={(e) => setFormData({ ...formData, kategori: e.target.value })}\r\n                    required\r\n                  >\r\n                    <option value=\"Pagi\">Pagi</option>\r\n                    <option value=\"Siang\">Siang</option>\r\n                    <option value=\"Malam\">Malam</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Row 2: Skema & Kode Shift */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">Skema</label>\r\n                  <select\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\r\n                    value={formData.skema}\r\n                    onChange={(e) => setFormData({ ...formData, skema: e.target.value })}\r\n                    required\r\n                  >\r\n                    <option value=\"6-1\">6-1</option>\r\n                    <option value=\"5-2\">5-2</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">Kode Shift</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\r\n                    value={formData.kodeshift}\r\n                    onChange={(e) => setFormData({ ...formData, kodeshift: e.target.value })}\r\n                    placeholder=\"Contoh: PAGI-A\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Row 3: Jam Masuk, Keluar, Durasi Kerja & Durasi Istirahat */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">Jam Masuk</label>\r\n                  <input\r\n                    type=\"time\"\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\r\n                    value={formData.jammasuk}\r\n                    onChange={(e) => setFormData({ ...formData, jammasuk: e.target.value })}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">Jam Keluar</label>\r\n                  <input\r\n                    type=\"time\"\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\r\n                    value={formData.jamkeluar}\r\n                    onChange={(e) => setFormData({ ...formData, jamkeluar: e.target.value })}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">Durasi Kerja (Jam)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    step={0.5}\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\r\n                    value={formData.durasi}\r\n                    onChange={(e) => setFormData({ ...formData, durasi: Number(e.target.value) })}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">Durasi Istirahat (Jam)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    step={0.5}\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\r\n                    value={formData.durasiistirahat}\r\n                    onChange={(e) => setFormData({ ...formData, durasiistirahat: Number(e.target.value) })}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Breaks list */}\r\n              <div>\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <label className=\"text-sm font-semibold text-gray-700\">Waktu Istirahat (Detail)</label>\r\n                  <div>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={addBreakField}\r\n                      className=\"text-xs bg-blue-900 text-white px-3 py-1 rounded mr-2\"\r\n                    >\r\n                      + Tambah Istirahat\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {formBreaks.length === 0 ? (\r\n                  <div className=\"text-sm text-gray-500 italic\">Belum ada detail istirahat</div>\r\n                ) : (\r\n                  <div className=\"grid gap-2\">\r\n                    {formBreaks.map((b, i) => (\r\n                      <div key={i} className=\"grid grid-cols-3 gap-2 items-center\">\r\n                        <input\r\n                          type=\"time\"\r\n                          value={b.starttime}\r\n                          onChange={(ev) => updateBreakField(i, \"starttime\", ev.target.value)}\r\n                          className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\r\n                        />\r\n                        <input\r\n                          type=\"time\"\r\n                          value={b.endtime}\r\n                          onChange={(ev) => updateBreakField(i, \"endtime\", ev.target.value)}\r\n                          className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\r\n                        />\r\n                        <div className=\"flex gap-2 justify-end\">\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => handleDeleteBreak(i)}\r\n                            disabled={isDeleting}\r\n                            className=\"text-xs bg-red-600 text-white px-2 py-1 rounded\"\r\n                            title={b.id ? \"Hapus dari server\" : \"Hapus dari UI\"}\r\n                          >\r\n                            Hapus\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n\r\n              </div>\r\n\r\n              <div className=\"pt-4 flex justify-end gap-2 border-t border-gray-100 mt-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setIsModalOpen(false)}\r\n                  className=\"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded cursor-pointer\"\r\n                  disabled={isSaving}\r\n                >\r\n                  Batal\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"px-4 py-2 text-sm bg-blue-900 text-white rounded hover:bg-blue-800 cursor-pointer\"\r\n                  disabled={isSaving}\r\n                >\r\n                  {isSaving ? \"Menyimpan...\" : \"Simpan Jadwal\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex justify-end gap-4 mt-6\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Kembali\r\n        </button>\r\n        <button\r\n          onClick={onNextStep}\r\n          className=\"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Lanjut\r\n        </button>\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5737, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/menugrouproleApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { Menu, GroupRole } from \"./data\";\r\n\r\n// Tipe standar respons dari backend\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL;\r\n\r\nexport const getGroupRole = async (): Promise<\r\n  ApiResponse<GroupRole[]>\r\n> => {\r\n  const response = await axios.get<ApiResponse<GroupRole[]>>(\r\n    `${API_BASE}/grouprole`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getMenu = async (): Promise<\r\n  ApiResponse<Menu[]>\r\n> => {\r\n  const response = await axios.get<ApiResponse<Menu[]>>(\r\n    `${API_BASE}/menu`\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Simpan data\r\nexport const saveMenu = async (\r\n  menu: Partial<Menu>[]\r\n): Promise<ApiResponse<Menu[]>> => {\r\n  const response = await axios.put<ApiResponse<Menu[]>>(\r\n    `${API_BASE}/menu`,\r\n    menu,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const deleteMenu = async (id: number): Promise<ApiResponse<null>> => {\r\n  const response = await axios.delete<ApiResponse<null>>(`${API_BASE}/menu/${id}`);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAUA,MAAM;AAEC,MAAM,eAAe;IAG1B,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,UAAU,CAAC;IAEzB,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,UAAU;IAGrB,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,KAAK,CAAC;IAEpB,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,WAAW,OACtB;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,KAAK,CAAC,EAClB,MACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAAoB,GAAG,SAAS,MAAM,EAAE,IAAI;IAC/E,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 5774, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormSG.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getCompanies } from \"@/api/companyApi\";\r\nimport { getGroupRole, getMenu, saveMenu } from \"@/api/menugrouproleApi\";\r\nimport { Company, GroupRole, Menu } from \"@/api/data\";\r\n\r\ninterface FormSGProps {\r\n  onNextStep: () => void;\r\n  onBack: () => void;\r\n}\r\n\r\ninterface MenuGroup {\r\n  title: string;\r\n  parentid: number;\r\n}\r\n\r\n// 1. DEFINISI MENU MASTER (HARDCODED)\r\nconst MASTER_MENU_ITEMS = [\r\n  \"Desain Perusahaan\",\r\n  \"Manajemen Pengguna\",\r\n  \"Dasar Kompensasi dan Benefit\"\r\n];\r\n\r\nexport default function FormSG({ onNextStep, onBack }: FormSGProps) {\r\n  // --- STATE DATA ---\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [groupRoles, setGroupRoles] = useState<GroupRole[]>([]);\r\n  const [menuList, setMenuList] = useState<Menu[]>([]);\r\n\r\n  // --- STATE FILTER ---\r\n  const [selectedCompany, setSelectedCompany] = useState<string>(\"\");\r\n  const [selectedType, setSelectedType] = useState<string>(\"HR\");\r\n\r\n  // --- STATE UI ---\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [saving, setSaving] = useState(false);\r\n  const [disabled, setDisabled] = useState(false);\r\n\r\n  const MODULE_STRUCTURE: MenuGroup[] = [\r\n    { title: \"MODUL MASTER ADMIN\", parentid: 1 },\r\n    { title: \"MODUL LAYANAN MANDIRI\", parentid: 2 },\r\n  ];\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [resCompanies, resGroupRoles, resMenus] = await Promise.all([\r\n        getCompanies(),\r\n        getGroupRole(),\r\n        getMenu(),\r\n      ]);\r\n\r\n      const sortedCompanies = (resCompanies.data || []).sort((a, b) => a.companyid - b.companyid);\r\n      setCompanies(sortedCompanies);\r\n\r\n      setGroupRoles((resGroupRoles.data || []).sort((a, b) => a.grouproleid - b.grouproleid));\r\n      setMenuList(resMenus.data || []);\r\n\r\n    } catch (err) {\r\n      console.error(\"Gagal memuat data:\", err);\r\n      setError(\"Gagal memuat data referensi.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  // --- HANDLER CHECKBOX ---\r\n  const handleCheckboxChange = (parentMenuId: number, menuName: string, roleId: number, currentStatus: boolean) => {\r\n\r\n    // Jika belum pilih perusahaan, jangan lakukan apa-apa (atau alert)\r\n    if (!selectedCompany) {\r\n      alert(\"Mohon pilih perusahaan terlebih dahulu.\");\r\n      return;\r\n    }\r\n\r\n    setMenuList((prevMenus) => {\r\n      // 1. Cek apakah menu ini sudah ada di state menuList?\r\n      const existingIndex = prevMenus.findIndex(m =>\r\n        m.menuname === menuName &&\r\n        m.parentmenuid === parentMenuId &&\r\n        m.companyid === Number(selectedCompany)\r\n      );\r\n\r\n      // A. JIKA SUDAH ADA (Update)\r\n      if (existingIndex !== -1) {\r\n        const updatedMenus = [...prevMenus];\r\n        const menu = { ...updatedMenus[existingIndex] };\r\n\r\n        let currentIds = menu.grouprole_ids ? [...menu.grouprole_ids] : [];\r\n        if (currentStatus) {\r\n          currentIds = currentIds.filter(id => id !== roleId); // Uncheck\r\n        } else {\r\n          currentIds.push(roleId); // Check\r\n        }\r\n\r\n        // Update format string #..#\r\n        const newGroupRoleString = currentIds.length > 0 ? '#' + currentIds.join('#') + '#' : \"\";\r\n\r\n        updatedMenus[existingIndex] = {\r\n          ...menu,\r\n          grouprole_ids: currentIds,\r\n          grouprole: newGroupRoleString\r\n        };\r\n\r\n        return updatedMenus;\r\n      }\r\n\r\n      // B. JIKA BELUM ADA (Insert baru ke state)\r\n      else {\r\n        // Buat objek menu baru\r\n        const newMenu: Menu = {\r\n          menuid: 0, // ID sementara 0\r\n          companyid: Number(selectedCompany),\r\n          menuname: menuName,\r\n          parentmenuid: parentMenuId,\r\n          hrgroup: selectedType === \"HR\",\r\n          active: true,\r\n          grouprole_ids: [roleId],\r\n          grouprole: `#${roleId}#`\r\n        };\r\n\r\n        return [...prevMenus, newMenu];\r\n      }\r\n    });\r\n  };\r\n\r\n  // --- BUILD PAYLOAD & SAVE ---\r\n  const handleSave = async () => {\r\n    // Validasi\r\n    if (!selectedCompany) {\r\n      alert(\"Mohon pilih perusahaan sebelum menyimpan.\");\r\n      return;\r\n    }\r\n\r\n    if (!selectedType) {\r\n      alert(\"Mohon pilih tipe Security Group (HR / Non HR) sebelum menyimpan.\");\r\n      return;\r\n    }\r\n\r\n    // Siapkan payload: hanya menu yang berhubungan dengan perusahaan dan modul yang tampil di layar\r\n    const parentIds = MODULE_STRUCTURE.map(m => m.parentid);\r\n    const masterSet = new Set(MASTER_MENU_ITEMS);\r\n\r\n    const toSave = menuList\r\n      .filter(m => m.companyid === Number(selectedCompany) && parentIds.includes(m.parentmenuid) && masterSet.has(m.menuname))\r\n      .map(m => {\r\n        // Pastikan hrgroup sesuai dengan filter saat ini\r\n        const hrgroupFlag = selectedType === \"HR\";\r\n        // Format grouprole string jika ada\r\n        const grouproleIds = m.grouprole_ids ?? [];\r\n        const grouproleStr = grouproleIds.length > 0 ? `#${grouproleIds.join('#')}#` : \"\";\r\n\r\n        // Hanya sertakan menuid jika > 0, jika 0 -> create\r\n        const base: Partial<Menu> = {\r\n          companyid: Number(selectedCompany),\r\n          menuname: m.menuname,\r\n          parentmenuid: m.parentmenuid,\r\n          hrgroup: hrgroupFlag,\r\n          active: m.active ?? true,\r\n          grouprole: grouproleStr,\r\n          grouprole_ids: grouproleIds,\r\n        };\r\n\r\n        if (m.menuid && m.menuid > 0) {\r\n          // update\r\n          return { ...base, menuid: m.menuid };\r\n        }\r\n\r\n        // create\r\n        return base;\r\n      });\r\n\r\n    if (toSave.length === 0) {\r\n      alert(\"Tidak ada perubahan untuk disimpan pada perusahaan dan tipe Security Group ini.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSaving(true);\r\n      setDisabled(true);\r\n      const res = await saveMenu(toSave);\r\n      const returnedMenus = res.data || [];\r\n\r\n      // Update state: hapus menu lama untuk perusahaan ini yang berada dalam parentIds, lalu gabungkan hasil dari backend\r\n      setMenuList(prev => {\r\n        const others = prev.filter(x => !(x.companyid === Number(selectedCompany) && parentIds.includes(x.parentmenuid) && masterSet.has(x.menuname)));\r\n        return [...others, ...returnedMenus];\r\n      });\r\n\r\n      await fetchData();\r\n      alert('Sukses menyimpan menu.');\r\n    } catch (err) {\r\n      console.error('Gagal menyimpan menu:', err);\r\n      alert('Gagal menyimpan data. Silakan coba lagi.');\r\n    } finally {\r\n      setSaving(false);\r\n      setDisabled(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <h2 className=\"text-xl font-bold text-gray-800 mb-6\">11. Security Group - SG</h2>\r\n\r\n        {/* --- FILTER SECTION --- */}\r\n        <div className=\"p-5 rounded-lg shadow mb-6 bg-white border border-gray-100\">\r\n          <div className=\"flex flex-col md:flex-row gap-6 items-end\">\r\n\r\n            {/* Filter Perusahaan */}\r\n            <div className=\"flex-1 w-full md:max-w-xs\">\r\n              <label className=\"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2\">\r\n                Pilih Perusahaan\r\n              </label>\r\n              <div className=\"relative\">\r\n                <select\r\n                  className=\"w-full appearance-none bg-white border border-gray-300 text-gray-700 py-2.5 px-4 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n                  value={selectedCompany}\r\n                  onChange={(e) => setSelectedCompany(e.target.value)}\r\n                >\r\n                  <option value=\"\">Pilih Perusahaan</option>\r\n                  {companies.map((c) => (\r\n                    <option key={c.companyid} value={c.companyid}>\r\n                      {c.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                  <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" /></svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Filter HR/Non-HR */}\r\n            <div className=\"flex-1 w-full md:max-w-xs\">\r\n              <label className=\"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2\">\r\n                Tipe Security Group\r\n              </label>\r\n              <div className=\"relative\">\r\n                <select\r\n                  className=\"w-full appearance-none bg-white border border-gray-300 text-gray-700 py-2.5 px-4 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n                  value={selectedType}\r\n                  onChange={(e) => setSelectedType(e.target.value)}\r\n                >\r\n                  <option value=\"HR\">HR</option>\r\n                  <option value=\"NON_HR\">Non HR</option>\r\n                </select>\r\n                <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                  <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" /></svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- TABLE SECTION --- */}\r\n        <div className=\"overflow-hidden bg-white rounded-xl shadow-sm border border-gray-200\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full border-collapse text-sm text-left\">\r\n              <thead className=\"bg-gray-50 text-gray-700\">\r\n                <tr>\r\n                  <th className=\"px-6 py-4 font-semibold border-b border-gray-200 min-w-[250px] sticky left-0 bg-gray-50 z-10\">\r\n                    Modul / Menu\r\n                  </th>\r\n                  {groupRoles.map((role) => (\r\n                    <th key={role.grouproleid} className=\"px-2 py-4 font-semibold border-b border-gray-200 text-center whitespace-nowrap min-w-[80px]\">\r\n                      {role.grouprolename}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody className=\"divide-y divide-gray-100\">\r\n                {/* LOOP PARENT (Modul) */}\r\n                {MODULE_STRUCTURE.map((moduleGroup) => {\r\n                  return (\r\n                    <React.Fragment key={moduleGroup.parentid}>\r\n                      {/* Header Modul */}\r\n                      <tr className=\"bg-blue-100/50\">\r\n                        <td colSpan={groupRoles.length + 1} className=\"px-6 py-3 font-bold text-blue-900 text-xs uppercase tracking-wide border-t border-blue-100\">\r\n                          {moduleGroup.title}\r\n                        </td>\r\n                      </tr>\r\n\r\n                      {/* LOOP ITEM MENU MASTER */}\r\n                      {MASTER_MENU_ITEMS.map((masterMenuName, idx) => {\r\n\r\n                        const dbMenu = menuList.find(m =>\r\n                          m.menuname === masterMenuName &&\r\n                          m.parentmenuid === moduleGroup.parentid &&\r\n                          m.companyid === Number(selectedCompany) &&\r\n                          ((selectedType === \"HR\") ? (m.hrgroup === true) : (m.hrgroup === false || !m.hrgroup))\r\n                        );\r\n\r\n                        return (\r\n                          <tr key={`${moduleGroup.parentid}-${idx}`} className=\"hover:bg-gray-50 transition-colors group\">\r\n\r\n                            {/* Nama Menu (Hardcoded dari Master) */}\r\n                            <td className=\"px-6 py-3 font-medium text-gray-700 border-r border-gray-100 sticky left-0 bg-white group-hover:bg-gray-50\">\r\n                              {masterMenuName}\r\n                            </td>\r\n\r\n                            {/* Checkbox Roles */}\r\n                            {groupRoles.map((role) => {\r\n                              const isChecked = dbMenu?.grouprole_ids?.includes(role.grouproleid) ?? false;\r\n\r\n                              return (\r\n                                <td key={role.grouproleid} className=\"px-2 py-3 text-center border-r border-gray-50 last:border-0\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    checked={isChecked}\r\n                                    onChange={() => handleCheckboxChange(moduleGroup.parentid, masterMenuName, role.grouproleid, isChecked)}\r\n                                    className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed\"\r\n                                    disabled={!selectedCompany}\r\n                                  />\r\n                                </td>\r\n                              );\r\n                            })}\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </React.Fragment>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-end gap-4 mt-6\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Kembali\r\n        </button>\r\n        <button\r\n          onClick={handleSave}\r\n          disabled={saving || disabled}\r\n          className={`bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ${saving || disabled ? \"opacity-70 cursor-not-allowed\" : \"\"\r\n            }`}\r\n        >\r\n          {saving ? \"Menyimpan...\" : \"Simpan\"}\r\n        </button>\r\n        <button\r\n          onClick={onNextStep}\r\n          className=\"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Lanjut\r\n        </button>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAiBA,sCAAsC;AACtC,MAAM,oBAAoB;IACxB;IACA;IACA;CACD;AAEc,SAAS,OAAO,EAAE,UAAU,EAAE,MAAM,EAAe;IAChE,qBAAqB;IACrB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACxD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAc,EAAE;IAC5D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAEnD,uBAAuB;IACvB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAS;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAS;IAEzD,mBAAmB;IACnB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,mBAAgC;QACpC;YAAE,OAAO;YAAsB,UAAU;QAAE;QAC3C;YAAE,OAAO;YAAyB,UAAU;QAAE;KAC/C;IACD,MAAM,YAAY;QAChB,IAAI;YACF,WAAW;YACX,MAAM,CAAC,cAAc,eAAe,SAAS,GAAG,MAAM,QAAQ,GAAG,CAAC;gBAChE,IAAA,wIAAY;gBACZ,IAAA,8IAAY;gBACZ,IAAA,yIAAO;aACR;YAED,MAAM,kBAAkB,CAAC,aAAa,IAAI,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;YAC1F,aAAa;YAEb,cAAc,CAAC,cAAc,IAAI,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,WAAW,GAAG,EAAE,WAAW;YACrF,YAAY,SAAS,IAAI,IAAI,EAAE;QAEjC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sBAAsB;YACpC,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,2BAA2B;IAC3B,MAAM,uBAAuB,CAAC,cAAsB,UAAkB,QAAgB;QAEpF,mEAAmE;QACnE,IAAI,CAAC,iBAAiB;YACpB,MAAM;YACN;QACF;QAEA,YAAY,CAAC;YACX,sDAAsD;YACtD,MAAM,gBAAgB,UAAU,SAAS,CAAC,CAAA,IACxC,EAAE,QAAQ,KAAK,YACf,EAAE,YAAY,KAAK,gBACnB,EAAE,SAAS,KAAK,OAAO;YAGzB,6BAA6B;YAC7B,IAAI,kBAAkB,CAAC,GAAG;gBACxB,MAAM,eAAe;uBAAI;iBAAU;gBACnC,MAAM,OAAO;oBAAE,GAAG,YAAY,CAAC,cAAc;gBAAC;gBAE9C,IAAI,aAAa,KAAK,aAAa,GAAG;uBAAI,KAAK,aAAa;iBAAC,GAAG,EAAE;gBAClE,IAAI,eAAe;oBACjB,aAAa,WAAW,MAAM,CAAC,CAAA,KAAM,OAAO,SAAS,UAAU;gBACjE,OAAO;oBACL,WAAW,IAAI,CAAC,SAAS,QAAQ;gBACnC;gBAEA,4BAA4B;gBAC5B,MAAM,qBAAqB,WAAW,MAAM,GAAG,IAAI,MAAM,WAAW,IAAI,CAAC,OAAO,MAAM;gBAEtF,YAAY,CAAC,cAAc,GAAG;oBAC5B,GAAG,IAAI;oBACP,eAAe;oBACf,WAAW;gBACb;gBAEA,OAAO;YACT,OAGK;gBACH,uBAAuB;gBACvB,MAAM,UAAgB;oBACpB,QAAQ;oBACR,WAAW,OAAO;oBAClB,UAAU;oBACV,cAAc;oBACd,SAAS,iBAAiB;oBAC1B,QAAQ;oBACR,eAAe;wBAAC;qBAAO;oBACvB,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;gBAC1B;gBAEA,OAAO;uBAAI;oBAAW;iBAAQ;YAChC;QACF;IACF;IAEA,+BAA+B;IAC/B,MAAM,aAAa;QACjB,WAAW;QACX,IAAI,CAAC,iBAAiB;YACpB,MAAM;YACN;QACF;QAEA,IAAI,CAAC,cAAc;YACjB,MAAM;YACN;QACF;QAEA,gGAAgG;QAChG,MAAM,YAAY,iBAAiB,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ;QACtD,MAAM,YAAY,IAAI,IAAI;QAE1B,MAAM,SAAS,SACZ,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK,OAAO,oBAAoB,UAAU,QAAQ,CAAC,EAAE,YAAY,KAAK,UAAU,GAAG,CAAC,EAAE,QAAQ,GACrH,GAAG,CAAC,CAAA;YACH,iDAAiD;YACjD,MAAM,cAAc,iBAAiB;YACrC,mCAAmC;YACnC,MAAM,eAAe,EAAE,aAAa,IAAI,EAAE;YAC1C,MAAM,eAAe,aAAa,MAAM,GAAG,IAAI,CAAC,CAAC,EAAE,aAAa,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG;YAE/E,mDAAmD;YACnD,MAAM,OAAsB;gBAC1B,WAAW,OAAO;gBAClB,UAAU,EAAE,QAAQ;gBACpB,cAAc,EAAE,YAAY;gBAC5B,SAAS;gBACT,QAAQ,EAAE,MAAM,IAAI;gBACpB,WAAW;gBACX,eAAe;YACjB;YAEA,IAAI,EAAE,MAAM,IAAI,EAAE,MAAM,GAAG,GAAG;gBAC5B,SAAS;gBACT,OAAO;oBAAE,GAAG,IAAI;oBAAE,QAAQ,EAAE,MAAM;gBAAC;YACrC;YAEA,SAAS;YACT,OAAO;QACT;QAEF,IAAI,OAAO,MAAM,KAAK,GAAG;YACvB,MAAM;YACN;QACF;QAEA,IAAI;YACF,UAAU;YACV,YAAY;YACZ,MAAM,MAAM,MAAM,IAAA,0IAAQ,EAAC;YAC3B,MAAM,gBAAgB,IAAI,IAAI,IAAI,EAAE;YAEpC,oHAAoH;YACpH,YAAY,CAAA;gBACV,MAAM,SAAS,KAAK,MAAM,CAAC,CAAA,IAAK,CAAC,CAAC,EAAE,SAAS,KAAK,OAAO,oBAAoB,UAAU,QAAQ,CAAC,EAAE,YAAY,KAAK,UAAU,GAAG,CAAC,EAAE,QAAQ,CAAC;gBAC5I,OAAO;uBAAI;uBAAW;iBAAc;YACtC;YAEA,MAAM;YACN,MAAM;QACR,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,yBAAyB;YACvC,MAAM;QACR,SAAU;YACR,UAAU;YACV,YAAY;QACd;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAuC;;;;;;kCAGrD,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CAGb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAA0E;;;;;;sDAG3F,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDACC,WAAU;oDACV,OAAO;oDACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;;sEAElD,8OAAC;4DAAO,OAAM;sEAAG;;;;;;wDAChB,UAAU,GAAG,CAAC,CAAC,kBACd,8OAAC;gEAAyB,OAAO,EAAE,SAAS;0EACzC,EAAE,IAAI;+DADI,EAAE,SAAS;;;;;;;;;;;8DAK5B,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC;wDAAI,WAAU;wDAAuB,OAAM;wDAA6B,SAAQ;kEAAY,cAAA,8OAAC;4DAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CAM3G,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAA0E;;;;;;sDAG3F,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDACC,WAAU;oDACV,OAAO;oDACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;;sEAE/C,8OAAC;4DAAO,OAAM;sEAAK;;;;;;sEACnB,8OAAC;4DAAO,OAAM;sEAAS;;;;;;;;;;;;8DAEzB,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC;wDAAI,WAAU;wDAAuB,OAAM;wDAA6B,SAAQ;kEAAY,cAAA,8OAAC;4DAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAS/G,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAM,WAAU;;kDACf,8OAAC;wCAAM,WAAU;kDACf,cAAA,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;8DAA+F;;;;;;gDAG5G,WAAW,GAAG,CAAC,CAAC,qBACf,8OAAC;wDAA0B,WAAU;kEAClC,KAAK,aAAa;uDADZ,KAAK,WAAW;;;;;;;;;;;;;;;;kDAO/B,8OAAC;wCAAM,WAAU;kDAEd,iBAAiB,GAAG,CAAC,CAAC;4CACrB,qBACE,8OAAC,gNAAK,CAAC,QAAQ;;kEAEb,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAG,SAAS,WAAW,MAAM,GAAG;4DAAG,WAAU;sEAC3C,YAAY,KAAK;;;;;;;;;;;oDAKrB,kBAAkB,GAAG,CAAC,CAAC,gBAAgB;wDAEtC,MAAM,SAAS,SAAS,IAAI,CAAC,CAAA,IAC3B,EAAE,QAAQ,KAAK,kBACf,EAAE,YAAY,KAAK,YAAY,QAAQ,IACvC,EAAE,SAAS,KAAK,OAAO,oBACvB,CAAC,AAAC,iBAAiB,OAAS,EAAE,OAAO,KAAK,OAAS,EAAE,OAAO,KAAK,SAAS,CAAC,EAAE,OAAO,AAAC;wDAGvF,qBACE,8OAAC;4DAA0C,WAAU;;8EAGnD,8OAAC;oEAAG,WAAU;8EACX;;;;;;gEAIF,WAAW,GAAG,CAAC,CAAC;oEACf,MAAM,YAAY,QAAQ,eAAe,SAAS,KAAK,WAAW,KAAK;oEAEvE,qBACE,8OAAC;wEAA0B,WAAU;kFACnC,cAAA,8OAAC;4EACC,MAAK;4EACL,SAAS;4EACT,UAAU,IAAM,qBAAqB,YAAY,QAAQ,EAAE,gBAAgB,KAAK,WAAW,EAAE;4EAC7F,WAAU;4EACV,UAAU,CAAC;;;;;;uEANN,KAAK,WAAW;;;;;gEAU7B;;2DAtBO,GAAG,YAAY,QAAQ,CAAC,CAAC,EAAE,KAAK;;;;;oDAyB7C;;+CA5CmB,YAAY,QAAQ;;;;;wCA+C7C;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;kCAGD,8OAAC;wBACC,SAAS;wBACT,UAAU,UAAU;wBACpB,WAAW,CAAC,wFAAwF,EAAE,UAAU,WAAW,kCAAkC,IACzJ;kCAEH,SAAS,iBAAiB;;;;;;kCAE7B,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 6324, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/organizationApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { CompanyDirectorate, CompanyDivision, CompanyDepartment, CompanyUnitKerja } from \"./data\";\r\n\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\r\n\r\nexport const getOrganization = async (\r\n  companyid: number\r\n): Promise<ApiResponse<CompanyDirectorate[]>> => {\r\n  const response = await axios.get<ApiResponse<CompanyDirectorate[]>>(\r\n    `${API_BASE}/organization`,\r\n    {\r\n      params: { companyid },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const saveHierarchy = async (formData: FormData): Promise<ApiResponse<CompanyDirectorate[]>> => {\r\n  const response = await axios.post<ApiResponse<CompanyDirectorate[]>>(\r\n    `${API_BASE}/organization`,\r\n    formData,{\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Payload ini bisa berisi field APAPUN yang ada di Directorate, Division, Department, ATAU UnitKerja\r\ntype NonActiveData = Partial<CompanyDirectorate & CompanyDivision & CompanyDepartment & CompanyUnitKerja>;\r\n\r\nexport const saveNonactive = async (\r\n  nonactive: NonActiveData\r\n): Promise<ApiResponse<CompanyDirectorate[]>> => {\r\n  const response = await axios.post<ApiResponse<CompanyDirectorate[]>>(\r\n    `${API_BASE}/organization/nonactive`,\r\n    nonactive,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;AAAA;;AASA,MAAM,WAAW,2EAAmC;AAE7C,MAAM,kBAAkB,OAC7B;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,GAAG,SAAS,aAAa,CAAC,EAC1B;QACE,QAAQ;YAAE;QAAU;IACtB;IAEF,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,gBAAgB,OAAO;IAClC,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,GAAG,SAAS,aAAa,CAAC,EAC1B,UAAS;QACP,SAAS;YACP,gBAAgB;QAClB;IACF;IAEF,OAAO,SAAS,IAAI;AACtB;AAKO,MAAM,gBAAgB,OAC3B;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,GAAG,SAAS,uBAAuB,CAAC,EACpC,WACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 6363, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/FormOrganization.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, ChangeEvent, useRef } from \"react\";\r\nimport { getCompanies } from \"@/api/companyApi\";\r\nimport { getOrganization, saveHierarchy, saveNonactive } from \"@/api/organizationApi\";\r\nimport {\r\n  Company,\r\n  CompanyDirectorate,\r\n  CompanyDivision,\r\n  CompanyDepartment,\r\n  CompanyUnitKerja\r\n} from \"@/api/data\";\r\n\r\ninterface FormOrganizationProps {\r\n  onNextStep: () => void;\r\n  onBack: () => void;\r\n}\r\n\r\n// --- 1. TYPE DEFINITIONS & GENERIC COMPONENT ---\r\n\r\n// Tipe Generic untuk opsi dropdown\r\ninterface AutocompleteOption<T> {\r\n  id: number;\r\n  name: string;\r\n  original: T;\r\n}\r\n\r\ninterface AutocompleteProps<T> {\r\n  label: string;\r\n  value: string;\r\n  onChange: (val: string) => void;\r\n  onSelect: (item: T) => void;\r\n  options: AutocompleteOption<T>[];\r\n  placeholder?: string;\r\n  disabled?: boolean;\r\n}\r\n\r\n// Kita gunakan function declaration agar Generic <T> lebih aman di parsing TSX\r\nfunction AutocompleteInput<T>({\r\n  label,\r\n  value,\r\n  onChange,\r\n  onSelect,\r\n  options,\r\n  placeholder,\r\n  disabled = false,\r\n}: AutocompleteProps<T>) {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const wrapperRef = useRef<HTMLDivElement>(null);\r\n\r\n  const filteredOptions = options.filter((opt) =>\r\n    opt.name.toLowerCase().includes(value.toLowerCase())\r\n  );\r\n\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target as Node)) {\r\n        setShowDropdown(false);\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"relative\" ref={wrapperRef}>\r\n      <label className=\"text-xs block mb-1 font-medium uppercase\">{label}</label>\r\n      <input\r\n        className={`w-full border border-gray-300 rounded px-2 py-2 ${disabled ? \"bg-gray-100 cursor-not-allowed\" : \"\"\r\n          }`}\r\n        value={value}\r\n        onChange={(e) => {\r\n          onChange(e.target.value);\r\n          setShowDropdown(true);\r\n        }}\r\n        onFocus={() => setShowDropdown(true)}\r\n        placeholder={placeholder}\r\n        disabled={disabled}\r\n      />\r\n      {showDropdown && filteredOptions.length > 0 && !disabled && (\r\n        <ul className=\"absolute z-10 w-full bg-white border border-gray-300 mt-1 max-h-48 overflow-y-auto shadow-lg rounded-sm text-sm\">\r\n          {filteredOptions.map((opt) => (\r\n            <li\r\n              key={opt.id}\r\n              className=\"px-3 py-2 hover:bg-blue-50 cursor-pointer text-gray-700\"\r\n              onClick={() => {\r\n                onSelect(opt.original);\r\n                setShowDropdown(false);\r\n              }}\r\n            >\r\n              {opt.name}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function FormOrganization({ onNextStep, onBack }: FormOrganizationProps) {\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [selectedCompanyId, setSelectedCompanyId] = useState<number | \"\">(\"\");\r\n  const [loadingCompanies, setLoadingCompanies] = useState(true);\r\n  const [loadingOrg, setLoadingOrg] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [successMsg, setSuccessMsg] = useState<string | null>(null);\r\n\r\n  const [organization, setOrganization] = useState<CompanyDirectorate[] | null>(null);\r\n\r\n  // State Form\r\n  const [dirId, setDirId] = useState<number | null>(null);\r\n  const [dirName, setDirName] = useState(\"\");\r\n\r\n  const [divId, setDivId] = useState<number | null>(null);\r\n  const [divName, setDivName] = useState(\"\");\r\n\r\n  const [deptId, setDeptId] = useState<number | null>(null);\r\n  const [deptName, setDeptName] = useState(\"\");\r\n\r\n  const [unitName, setUnitName] = useState(\"\");\r\n  const [dokumenFile, setDokumenFile] = useState<File | null>(null);\r\n  const [dokumenDisplayName, setDokumenDisplayName] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchCompanies = async () => {\r\n      try {\r\n        setLoadingCompanies(true);\r\n        setError(null);\r\n        const res = await getCompanies();\r\n        const companiesData = (res.data || []).sort(\r\n          (a: Company, b: Company) => a.companyid - b.companyid\r\n        );\r\n        setCompanies(companiesData);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setError(\"Gagal memuat daftar perusahaan.\");\r\n      } finally {\r\n        setLoadingCompanies(false);\r\n      }\r\n    };\r\n    fetchCompanies();\r\n  }, []);\r\n\r\n  const fetchOrg = async (companyId: number) => {\r\n    try {\r\n      setLoadingOrg(true);\r\n      setError(null);\r\n      const res = await getOrganization(companyId);\r\n      setOrganization(res.data || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\"Gagal memuat struktur organisasi.\");\r\n    } finally {\r\n      setLoadingOrg(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!selectedCompanyId) {\r\n      setOrganization(null);\r\n      resetForm();\r\n      return;\r\n    }\r\n    fetchOrg(Number(selectedCompanyId));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedCompanyId]);\r\n\r\n  const resetForm = () => {\r\n    setDirId(null); setDirName(\"\");\r\n    setDivId(null); setDivName(\"\");\r\n    setDeptId(null); setDeptName(\"\");\r\n    setUnitName(\"\");\r\n    handleClearFile();\r\n    setError(null);\r\n    setSuccessMsg(null);\r\n  };\r\n\r\n  const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      setDokumenFile(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleClearFile = () => {\r\n    setDokumenFile(null);\r\n    setDokumenDisplayName(\"\");\r\n    const fileInput = document.getElementById(\"file-upload\") as HTMLInputElement;\r\n    if (fileInput) fileInput.value = \"\";\r\n  };\r\n\r\n  // --- BUILD OPTIONS (TYPED) ---\r\n\r\n  // 1. Options untuk Directorate (Generic T = CompanyDirectorate)\r\n  const directorateOptions: AutocompleteOption<CompanyDirectorate>[] = (organization || [])\r\n    .filter((d) => d.active)\r\n    .map((d) => ({\r\n      id: d.companydirectorateid,\r\n      name: d.directoratename,\r\n      original: d,\r\n    }));\r\n\r\n  // 2. Options untuk Division (Generic T = CompanyDivision)\r\n  const divisionOptions: AutocompleteOption<CompanyDivision>[] = dirId\r\n    ? (organization?.find((d) => d.companydirectorateid === dirId)?.divisions || [])\r\n      .filter((d) => d.active)\r\n      .map((d) => ({\r\n        id: d.companydivisionid,\r\n        name: d.divisionname,\r\n        original: d,\r\n      }))\r\n    : [];\r\n\r\n  // 3. Options untuk Department (Generic T = CompanyDepartment)\r\n  const getDepartmentOptions = (): AutocompleteOption<CompanyDepartment>[] => {\r\n    if (!dirId || !divId) return [];\r\n    const dir = organization?.find((d) => d.companydirectorateid === dirId);\r\n    const div = dir?.divisions?.find((v) => v.companydivisionid === divId);\r\n    return (div?.departments || [])\r\n      .filter((d) => d.active)\r\n      .map((d) => ({\r\n        id: d.companydepartmentid,\r\n        name: d.departmentname,\r\n        original: d,\r\n      }));\r\n  };\r\n  const departmentOptions = getDepartmentOptions();\r\n\r\n  // --- SAVE HANDLER ---\r\n  const handleSave = async () => {\r\n    setError(null);\r\n    setSuccessMsg(null);\r\n\r\n    if (!selectedCompanyId) {\r\n      setError(\"Pilih perusahaan terlebih dahulu.\");\r\n      return;\r\n    }\r\n\r\n    // Validasi\r\n    if (!dirName.trim()) {\r\n      setError(\"Nama Direktorat wajib diisi.\");\r\n      return;\r\n    }\r\n    if (divName.trim() && !dirName.trim()) {\r\n      setError(\"Isi Direktorat sebelum mengisi Divisi.\");\r\n      return;\r\n    }\r\n    if (deptName.trim() && !divName.trim()) {\r\n      setError(\"Isi Divisi sebelum mengisi Department.\");\r\n      return;\r\n    }\r\n    if (unitName.trim() && !deptName.trim()) {\r\n      setError(\"Isi Department sebelum mengisi Unit Kerja.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"companyid\", String(selectedCompanyId));\r\n\r\n      if (dirId) formData.append(\"companydirectorateid\", String(dirId));\r\n      formData.append(\"directoratename\", dirName);\r\n\r\n      if (divName.trim()) {\r\n        if (divId) formData.append(\"companydivisionid\", String(divId));\r\n        formData.append(\"divisionname\", divName);\r\n      }\r\n\r\n      if (deptName.trim()) {\r\n        if (deptId) formData.append(\"companydepartmentid\", String(deptId));\r\n        formData.append(\"departmentname\", deptName);\r\n      }\r\n\r\n      if (unitName.trim()) {\r\n        formData.append(\"unitkerjaname\", unitName);\r\n      }\r\n\r\n      if (dokumenDisplayName.trim()) {\r\n        formData.append(\"dokumenname\", dokumenDisplayName);\r\n      }\r\n      if (dokumenFile) formData.append(\"dokumenfile\", dokumenFile, dokumenFile.name);\r\n\r\n      formData.append(\"active\", \"true\");\r\n\r\n      await saveHierarchy(formData);\r\n\r\n      setSuccessMsg(\"Data berhasil disimpan!\");\r\n      fetchOrg(Number(selectedCompanyId));\r\n      resetForm();\r\n\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\"Gagal menyimpan data.\");\r\n    }\r\n  };\r\n\r\n  // Helper Row Type\r\n  type Row = {\r\n    directorateId: number;\r\n    directoratename: string;\r\n    divisionId?: number | null;\r\n    divisionname: string;\r\n    departmentId?: number | null;\r\n    departmentname: string;\r\n    unitId?: number | null;\r\n    unitkerjaname: string | null;\r\n    dokumenname?: string | null;\r\n    dokumen_url?: string | null;\r\n  };\r\n\r\n  const buildRows = (): Row[] => {\r\n    if (!organization) return [];\r\n    const rows: Row[] = [];\r\n    organization.forEach((dir) => {\r\n      if (!dir.active) return;\r\n      if (!dir.divisions || dir.divisions.length === 0) {\r\n        rows.push({\r\n          directorateId: dir.companydirectorateid,\r\n          directoratename: dir.directoratename,\r\n          divisionId: null, divisionname: \"-\",\r\n          departmentId: null, departmentname: \"-\",\r\n          unitId: null, unitkerjaname: null\r\n        });\r\n        return;\r\n      }\r\n\r\n      dir.divisions.forEach((div) => {\r\n        if (!div.active) return;\r\n        if (!div.departments || div.departments.length === 0) {\r\n          rows.push({\r\n            directorateId: dir.companydirectorateid,\r\n            directoratename: dir.directoratename,\r\n            divisionId: div.companydivisionid,\r\n            divisionname: div.divisionname,\r\n            departmentId: null, departmentname: \"-\",\r\n            unitId: null, unitkerjaname: null\r\n          });\r\n          return;\r\n        }\r\n\r\n        div.departments.forEach((dep) => {\r\n          if (!dep.active) return;\r\n          const activeUnits = (dep.unit_kerjas || []).filter((u) => u && u.active) || [];\r\n\r\n          if (activeUnits.length === 0) {\r\n            rows.push({\r\n              directorateId: dir.companydirectorateid,\r\n              directoratename: dir.directoratename,\r\n              divisionId: div.companydivisionid,\r\n              divisionname: div.divisionname,\r\n              departmentId: dep.companydepartmentid,\r\n              departmentname: dep.departmentname,\r\n              unitId: null,\r\n              unitkerjaname: null,\r\n            });\r\n          } else {\r\n            activeUnits.forEach((u) => {\r\n              rows.push({\r\n                directorateId: dir.companydirectorateid,\r\n                directoratename: dir.directoratename,\r\n                divisionId: div.companydivisionid,\r\n                divisionname: div.divisionname,\r\n                departmentId: dep.companydepartmentid,\r\n                departmentname: dep.departmentname,\r\n                unitId: u.companyunitkerjaid,\r\n                unitkerjaname: u.unitkerjaname,\r\n                dokumenname: u.dokumenname ?? null,\r\n                dokumen_url: u.dokumen_url ?? null,\r\n              });\r\n            });\r\n          }\r\n        });\r\n      });\r\n    });\r\n    return rows;\r\n  };\r\n\r\n  const rows = buildRows();\r\n\r\n  // --- HANDLE NONACTIVE ---\r\n  const handleNonactive = async (row: Row) => {\r\n    if (!selectedCompanyId) return;\r\n\r\n    // 1. Konfirmasi\r\n    const isConfirmed = window.confirm(\"Apakah Anda yakin ingin menonaktifkan data ini?\");\r\n    if (!isConfirmed) return;\r\n\r\n    try {\r\n      setLoadingOrg(true);\r\n      const payload: Partial<CompanyDirectorate & CompanyDivision & CompanyDepartment & CompanyUnitKerja> = {\r\n        companyid: Number(selectedCompanyId),\r\n        active: false\r\n      };\r\n\r\n      if (row.unitId) {\r\n        payload.companyunitkerjaid = row.unitId;\r\n      } else if (row.departmentId) {\r\n        payload.companydepartmentid = row.departmentId;\r\n      } else if (row.divisionId) {\r\n        payload.companydivisionid = row.divisionId;\r\n      } else {\r\n        payload.companydirectorateid = row.directorateId;\r\n      }\r\n\r\n      await saveNonactive(payload);\r\n      fetchOrg(Number(selectedCompanyId));\r\n\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\"Gagal menonaktifkan data.\");\r\n      setLoadingOrg(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white text-sm\">\r\n      <h2 className=\"text-xl font-bold mb-4\">12. HIRARKI ORGANISASI</h2>\r\n\r\n      <div className=\"mb-6 px-5\">\r\n        {loadingCompanies ? (\r\n          <p className=\"text-sm text-gray-500\">Memuat data perusahaan...</p>\r\n        ) : (\r\n          <select\r\n            className=\"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500\"\r\n            value={selectedCompanyId}\r\n            onChange={(e) =>\r\n              setSelectedCompanyId(e.target.value === \"\" ? \"\" : Number(e.target.value))\r\n            }\r\n          >\r\n            <option value=\"\">Pilih Perusahaan</option>\r\n            {companies.map((c) => (\r\n              <option key={c.companyid} value={c.companyid}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"w-full flex gap-4 items-start\">\r\n        {/* FORM SIDE */}\r\n        <div className=\"w-1/4 space-y-4 px-5\">\r\n          <div className=\"text-center py-2 bg-blue-900 text-white rounded-sm text-sm font-medium\">\r\n            Tambah Hirarki Organisasi\r\n          </div>\r\n\r\n          {error && <div className=\"text-red-600 text-xs bg-red-50 p-2 rounded border border-red-200\">{error}</div>}\r\n          {successMsg && <div className=\"text-green-600 text-xs bg-green-50 p-2 rounded border border-green-200\">{successMsg}</div>}\r\n\r\n          {/* Autocomplete Directorate */}\r\n          <AutocompleteInput<CompanyDirectorate>\r\n            label=\"Direktorat\"\r\n            value={dirName}\r\n            options={directorateOptions}\r\n            onChange={(val) => {\r\n              setDirName(val);\r\n              setDirId(null);\r\n              setDivId(null); setDivName(\"\");\r\n              setDeptId(null); setDeptName(\"\");\r\n            }}\r\n            onSelect={(item) => {\r\n              setDirName(item.directoratename);\r\n              setDirId(item.companydirectorateid);\r\n              setDivId(null); setDivName(\"\");\r\n              setDeptId(null); setDeptName(\"\");\r\n            }}\r\n            placeholder=\"Nama direktorat\"\r\n            disabled={!selectedCompanyId}\r\n          />\r\n\r\n          {/* Autocomplete Division */}\r\n          <AutocompleteInput<CompanyDivision>\r\n            label=\"Divisi\"\r\n            value={divName}\r\n            options={divisionOptions}\r\n            onChange={(val) => {\r\n              setDivName(val);\r\n              setDivId(null);\r\n              setDeptId(null); setDeptName(\"\");\r\n            }}\r\n            onSelect={(item) => {\r\n              setDivName(item.divisionname);\r\n              setDivId(item.companydivisionid);\r\n              setDeptId(null); setDeptName(\"\");\r\n            }}\r\n            placeholder=\"Nama divisi\"\r\n            disabled={!dirName}\r\n          />\r\n\r\n          {/* Autocomplete Department */}\r\n          <AutocompleteInput<CompanyDepartment>\r\n            label=\"Department\"\r\n            value={deptName}\r\n            options={departmentOptions}\r\n            onChange={(val) => {\r\n              setDeptName(val);\r\n              setDeptId(null);\r\n            }}\r\n            onSelect={(item) => {\r\n              setDeptName(item.departmentname);\r\n              setDeptId(item.companydepartmentid);\r\n            }}\r\n            placeholder=\"Nama department\"\r\n            disabled={!divName}\r\n          />\r\n\r\n          {/* Unit Kerja (Manual Input) */}\r\n          <div>\r\n            <label className=\"text-xs block mb-1 font-medium uppercase\">Unit Kerja</label>\r\n            <input\r\n              className={`w-full border border-gray-300 rounded px-2 py-2 ${!deptName ? \"bg-gray-100\" : \"\"}`}\r\n              value={unitName}\r\n              onChange={(e) => setUnitName(e.target.value)}\r\n              placeholder=\"Nama unit kerja\"\r\n              disabled={!deptName}\r\n            />\r\n          </div>\r\n\r\n          {/* Upload */}\r\n          <div>\r\n            <label className=\"text-xs block mb-1 font-medium uppercase\">Upload Dokumen</label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"file-upload\"\r\n              onChange={handleFileChange}\r\n              className=\"hidden\"\r\n              disabled={!unitName}\r\n            />\r\n            <div className=\"flex items-center gap-2 mt-1\">\r\n              <label\r\n                htmlFor=\"file-upload\"\r\n                className={`cursor-pointer flex-shrink-0 rounded border border-gray-300 px-3 py-2 text-xs font-medium transition ${!unitName ? \"bg-gray-200 text-gray-400 cursor-not-allowed\" : \"bg-gray-50 text-gray-700 hover:bg-gray-100\"\r\n                  }`}\r\n              >\r\n                Pilih File\r\n              </label>\r\n              <span className=\"text-xs text-gray-500 truncate flex-1\">\r\n                {dokumenFile ? dokumenFile.name : \"Belum ada file dipilih\"}\r\n              </span>\r\n              {dokumenFile && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleClearFile}\r\n                  className=\"text-red-500 hover:text-red-700 font-bold px-1\"\r\n                >\r\n                  &#x2715;\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {dokumenFile && (\r\n              <div className=\"mt-3 animate-in fade-in slide-in-from-top-1 duration-300\">\r\n                <label className=\"text-xs block mb-1 font-medium\">NAMA DOKUMEN</label>\r\n                <input\r\n                  className=\"w-full border border-gray-300 rounded px-2 py-2\"\r\n                  value={dokumenDisplayName}\r\n                  onChange={(e) => setDokumenDisplayName(e.target.value)}\r\n                  placeholder=\"Nama display dokumen...\"\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              onClick={handleSave}\r\n              disabled={!selectedCompanyId}\r\n              className={`w-full text-white px-4 py-2 rounded cursor-pointer ${!selectedCompanyId ? \"bg-gray-400 cursor-not-allowed\" : \"bg-green-600 hover:bg-green-700\"\r\n                }`}\r\n            >\r\n              + Tambah\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* TABLE SIDE */}\r\n        <div className=\"w-3/4\">\r\n          <div className=\"overflow-x-auto rounded-sm shadow mb-10 bg-white\">\r\n            <table className=\"min-w-full border-collapse text-sm\">\r\n              <thead>\r\n                <tr className=\"bg-blue-900 text-white text-center\">\r\n                  <th className=\"px-4 py-2\">DIREKTORAT</th>\r\n                  <th className=\"px-4 py-2\">DIVISI</th>\r\n                  <th className=\"px-4 py-2\">DEPARTMENT</th>\r\n                  <th className=\"px-4 py-2\">UNIT KERJA</th>\r\n                  <th className=\"px-4 py-2\">DOKUMEN</th>\r\n                  <th className=\"px-4 py-2\">AKSI</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {loadingOrg ? (\r\n                  Array.from({ length: 3 }).map((_, i) => (\r\n                    <tr key={i} className=\"odd:bg-white even:bg-gray-50 text-center\">\r\n                      <td colSpan={6} className=\"px-4 py-4 text-gray-400 animate-pulse\">Loading data...</td>\r\n                    </tr>\r\n                  ))\r\n                ) : !selectedCompanyId ? (\r\n                  <tr>\r\n                    <td colSpan={6} className=\"px-4 py-6 text-center text-gray-500\">\r\n                      Pilih perusahaan untuk melihat data.\r\n                    </td>\r\n                  </tr>\r\n                ) : rows.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={6} className=\"px-4 py-6 text-center text-gray-500\">\r\n                      Belum ada data struktur organisasi.\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  rows.map((r, i) => (\r\n                    <tr key={i} className=\"odd:bg-white even:bg-gray-50 text-center\">\r\n                      <td className=\"px-4 py-2 align-top pt-3\">{r.directoratename}</td>\r\n                      <td className=\"px-4 py-2 align-top pt-3\">{r.divisionname}</td>\r\n                      <td className=\"px-4 py-2 align-top pt-3\">{r.departmentname}</td>\r\n                      <td className=\"px-4 py-2 align-top pt-3\">{r.unitkerjaname ?? \"-\"}</td>\r\n                      <td className=\"px-4 py-2 align-top pt-3\">\r\n                        {r.dokumen_url ? (\r\n                          <a href={r.dokumen_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 hover:underline\">\r\n                            {r.dokumenname || \"Unduh\"}\r\n                          </a>\r\n                        ) : (\r\n                          \"-\"\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-4 py-2 align-top pt-3\">\r\n                        <button\r\n                          onClick={() => handleNonactive(r)}\r\n                          className=\"px-2 py-1 rounded-sm bg-red-600 text-white hover:bg-red-700 transition\"\r\n                        >\r\n                          Nonaktif\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-end gap-4 mt-6\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Kembali\r\n        </button>\r\n        <button\r\n          onClick={onNextStep}\r\n          className=\"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full\"\r\n        >\r\n          Lanjut\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7249, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/Form11.tsx"],"sourcesContent":["\"use client\";\r\n\r\nexport default function Form11() {\r\n  return (\r\n    <div className=\"p-8 bg-white text-gray-900 min-h-screen\">\r\n      {/* === TITLE === */}\r\n      <h1 className=\"text-xl font-bold mb-4\">\r\n        13. KELOMPOK JABATAN <i>(JOB FAMILY)</i>\r\n      </h1>\r\n\r\n      {/* === MAIN LAYOUT === */}\r\n      <div className=\"grid grid-cols-[300px_100px_1fr] gap-4 items-start\">\r\n        {/* === LEFT COLUMN === */}\r\n        <div className=\"space-y-4\">\r\n          {/* Kolom 1 */}\r\n          <div>\r\n            <div className=\"bg-blue-900 text-white text-sm font-bold text-center py-2 rounded-t\">\r\n              MASUKAN NAMA KELOMPOK JABATAN\r\n            </div>\r\n            <div className=\"border border-gray-300 rounded-b p-2 text-xs bg-gray-50\">\r\n              PRODUKSI (CONTOH) free text\r\n              <br />\r\n              tambah\r\n            </div>\r\n            <p className=\"text-right text-xs text-gray-500 mt-1\">Open text</p>\r\n          </div>\r\n\r\n          {/* Kolom 2 */}\r\n          <div>\r\n            <div className=\"bg-blue-900 text-white text-sm font-bold text-center py-2 rounded-t\">\r\n              MASUKAN NAMA SUB-KELOMPOK JABATAN\r\n            </div>\r\n            <div className=\"border border-gray-300 rounded-b p-2 text-xs bg-gray-50\">\r\n              MANAJEMEN PRODUKSI\r\n            </div>\r\n            <p className=\"text-right text-xs text-gray-500 mt-1\">Open text</p>\r\n          </div>\r\n\r\n          {/* Upload Dokumen */}\r\n          <button className=\"bg-black text-white text-xs px-3 py-2 rounded flex items-center gap-2\">\r\n            UPLOAD DOKUMEN\r\n          </button>\r\n\r\n          {/* Keterangan bawah */}\r\n          <div className=\"text-[10px] text-gray-600 space-y-1\">\r\n            <p>\r\n              * Job Family adalah pengelompokan utama berdasarkan fungsi atau\r\n              divisi besar, seperti Produksi, Teknik, Keuangan, dll.\r\n            </p>\r\n            <p>\r\n              * Sub-Job Family adalah pengelompokan lebih spesifik di dalam Job\r\n              Family, misalnya dalam Produksi ada Manajemen Produksi dan\r\n              Operasional Produksi.\r\n            </p>\r\n            <p>\r\n              * Posisi adalah jabatan atau posisi spesifik yang diisi oleh satu\r\n              orang karyawan, seperti Direktur Produksi, Operator Produksi,\r\n              Kepala Bagian Keuangan, dll.\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* === MIDDLE COLUMN (BUTTON TAMBAH) === */}\r\n        <div className=\"flex flex-col justify-start items-center gap-10 mt-8\">\r\n          <button className=\"bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-1 rounded\">\r\n            Tambah\r\n          </button>\r\n          <button className=\"bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-1 rounded\">\r\n            Tambah\r\n          </button>\r\n        </div>\r\n\r\n        {/* === RIGHT COLUMN (TABLE) === */}\r\n        <div className=\"overflow-x-auto border\">\r\n          <table className=\"min-w-full text-xs border-collapse\">\r\n            <thead>\r\n              <tr className=\"bg-blue-900 text-white text-left\">\r\n                <th className=\"px-2 py-1 border\">Kelompok Jabatan (Job Family)</th>\r\n                <th className=\"px-2 py-1 border\">Kode Job Family</th>\r\n                <th className=\"px-2 py-1 border\">Sub-Kelompok Jabatan (Sub-Job Family)</th>\r\n                <th className=\"px-2 py-1 border\">Kode Jabatan</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {[\r\n                [\"Manajemen Eksekutif\", \"JF00000001\", \"Manajemen Produksi\", \"JC00000001\"],\r\n                [\"Produksi\", \"JF00000002\", \"Pengawasan Produksi\", \"JC00000002\"],\r\n                [\"Teknik & Pemeliharaan\", \"JF00000003\", \"Teknik Mesin\", \"JC00000003\"],\r\n                [\"Keuangan & Akuntansi\", \"JF00000004\", \"Utilitas & Perawatan\", \"JC00000004\"],\r\n                [\"Pemasaran & Penjualan\", \"JF00000005\", \"Keuangan\", \"JC00000005\"],\r\n                [\"Logistik & Gudang\", \"JF00000006\", \"Marketing\", \"JC00000006\"],\r\n                [\"Administrasi Umum\", \"JF00000007\", \"Gudang\", \"JC00000007\"],\r\n                [\"Quality Control\", \"JF00000008\", \"Manajemen SDM\", \"JC00000008\"],\r\n                [\"SDM\", \"JF00000009\", \"Rekrutmen & Seleksi\", \"JC00000009\"],\r\n                [\"K3\", \"JF00000010\", \"Kesehatan, Keselamatan, dan Lingkungan (K3)\", \"JC00000010\"],\r\n              ].map((row, i) => (\r\n                <tr key={i} className=\"even:bg-gray-50\">\r\n                  {row.map((cell, j) => (\r\n                    <td key={j} className=\"px-2 py-1 border\">\r\n                      {cell}\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAG,WAAU;;oBAAyB;kCAChB,8OAAC;kCAAE;;;;;;;;;;;;0BAI1B,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;;kDACC,8OAAC;wCAAI,WAAU;kDAAsE;;;;;;kDAGrF,8OAAC;wCAAI,WAAU;;4CAA0D;0DAEvE,8OAAC;;;;;4CAAK;;;;;;;kDAGR,8OAAC;wCAAE,WAAU;kDAAwC;;;;;;;;;;;;0CAIvD,8OAAC;;kDACC,8OAAC;wCAAI,WAAU;kDAAsE;;;;;;kDAGrF,8OAAC;wCAAI,WAAU;kDAA0D;;;;;;kDAGzE,8OAAC;wCAAE,WAAU;kDAAwC;;;;;;;;;;;;0CAIvD,8OAAC;gCAAO,WAAU;0CAAwE;;;;;;0CAK1F,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;kDAAE;;;;;;kDAIH,8OAAC;kDAAE;;;;;;kDAKH,8OAAC;kDAAE;;;;;;;;;;;;;;;;;;kCASP,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,WAAU;0CAAuE;;;;;;0CAGzF,8OAAC;gCAAO,WAAU;0CAAuE;;;;;;;;;;;;kCAM3F,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;8CACC,cAAA,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;gDAAG,WAAU;0DAAmB;;;;;;0DACjC,8OAAC;gDAAG,WAAU;0DAAmB;;;;;;0DACjC,8OAAC;gDAAG,WAAU;0DAAmB;;;;;;0DACjC,8OAAC;gDAAG,WAAU;0DAAmB;;;;;;;;;;;;;;;;;8CAGrC,8OAAC;8CACE;wCACC;4CAAC;4CAAuB;4CAAc;4CAAsB;yCAAa;wCACzE;4CAAC;4CAAY;4CAAc;4CAAuB;yCAAa;wCAC/D;4CAAC;4CAAyB;4CAAc;4CAAgB;yCAAa;wCACrE;4CAAC;4CAAwB;4CAAc;4CAAwB;yCAAa;wCAC5E;4CAAC;4CAAyB;4CAAc;4CAAY;yCAAa;wCACjE;4CAAC;4CAAqB;4CAAc;4CAAa;yCAAa;wCAC9D;4CAAC;4CAAqB;4CAAc;4CAAU;yCAAa;wCAC3D;4CAAC;4CAAmB;4CAAc;4CAAiB;yCAAa;wCAChE;4CAAC;4CAAO;4CAAc;4CAAuB;yCAAa;wCAC1D;4CAAC;4CAAM;4CAAc;4CAA+C;yCAAa;qCAClF,CAAC,GAAG,CAAC,CAAC,KAAK,kBACV,8OAAC;4CAAW,WAAU;sDACnB,IAAI,GAAG,CAAC,CAAC,MAAM,kBACd,8OAAC;oDAAW,WAAU;8DACnB;mDADM;;;;;2CAFJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAczB","debugId":null}},
    {"offset": {"line": 7586, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/Form12.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef } from \"react\";\r\n\r\nexport default function Form13() {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!containerRef.current) return;\r\n\r\n    // Ambil semua button di kolom kiri\r\n    const buttons = containerRef.current.querySelectorAll(\"button[data-label]\");\r\n    let maxWidth = 0;\r\n\r\n    // Cari button dengan teks terpanjang\r\n    buttons.forEach((btn) => {\r\n      const width = (btn as HTMLElement).offsetWidth;\r\n      if (width > maxWidth) maxWidth = width;\r\n    });\r\n\r\n    // Terapkan lebar terpanjang ke semua button\r\n    buttons.forEach((btn) => {\r\n      (btn as HTMLElement).style.width = `${maxWidth}px`;\r\n    });\r\n  }, []);\r\n\r\n  const fields = [\r\n    { label: \"PERUSAHAAN\", placeholder: \"List Box\" },\r\n    { label: \"JOB FAMILY\", placeholder: \"Free text\" },\r\n    { label: \"NAMA POSISI\", placeholder: \"Free text\" },\r\n    { label: \"SUB JOB FAMILY\", placeholder: \"Free text\" },\r\n    { label: \"MELAPOR KEPADA\", placeholder: \"Free text\" },\r\n    {\r\n      label: \"KODE POSISI\",\r\n      value: \"TER-GENERATE OTOMATIS JC0000001\",\r\n      disabled: true,\r\n    },\r\n    { label: \"UNIT KERJA\", placeholder: \"List Box\" },\r\n    {\r\n      label: \"KODE KELOMPOK JABATAN\",\r\n      value: \"TER-GENERATE OTOMATIS\",\r\n      disabled: true,\r\n    },\r\n    { label: \"DEPARTEMEN\", placeholder: \"Free text\" },\r\n    {\r\n      label: \"KODE SUB-KELOMPOK JABATAN\",\r\n      value: \"TER-GENERATE OTOMATIS\",\r\n      disabled: true,\r\n    },\r\n    { label: \"DIVISI\", placeholder: \"Free text\" },\r\n    { label: \"LOREM IPSUM\", placeholder: \"Free text\" },\r\n    { label: \"DIREKTORAT\", placeholder: \"Free text\" },\r\n    { label: \"LOREM IPSUM\", placeholder: \"Free text\" },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white px-12 py-8\">\r\n      <h2 className=\"text-xl font-bold mb-6\">13. JOB REPOSITORY - FORM</h2>\r\n\r\n      <div ref={containerRef} className=\"grid grid-cols-2 gap-x-12 gap-y-4\">\r\n        {fields.map((field, index) => (\r\n          <div key={index} className=\"flex items-center\">\r\n            <button\r\n              data-label\r\n              className=\"bg-[#0b2c66] text-white font-semibold text-sm px-4 py-2 rounded flex-shrink-0 text-center\"\r\n            >\r\n              {field.label}\r\n            </button>\r\n\r\n            {field.disabled ? (\r\n              <input\r\n                type=\"text\"\r\n                value={field.value}\r\n                disabled\r\n                className=\"ml-2 w-full border border-gray-200 bg-gray-100 px-3 py-2 rounded text-gray-500\"\r\n              />\r\n            ) : (\r\n              <input\r\n                type=\"text\"\r\n                placeholder={field.placeholder}\r\n                className=\"ml-2 w-full border border-gray-200 bg-[#f5f9ff] px-3 py-2 rounded\"\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Tombol bawah */}\r\n      <div className=\"flex items-center justify-start mt-8 gap-4\">\r\n        <button className=\"bg-green-500 text-white font-semibold text-xs px-4 py-2 rounded-full\">\r\n          SIMPAN SEBAGAI TEMPLATE\r\n        </button>\r\n        <button className=\"bg-blue-500 text-white font-semibold text-xs px-4 py-2 rounded-full\">\r\n          UPLOAD TEMPLATE\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,eAAe,IAAA,+MAAM,EAAiB;IAE5C,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa,OAAO,EAAE;QAE3B,mCAAmC;QACnC,MAAM,UAAU,aAAa,OAAO,CAAC,gBAAgB,CAAC;QACtD,IAAI,WAAW;QAEf,qCAAqC;QACrC,QAAQ,OAAO,CAAC,CAAC;YACf,MAAM,QAAQ,AAAC,IAAoB,WAAW;YAC9C,IAAI,QAAQ,UAAU,WAAW;QACnC;QAEA,4CAA4C;QAC5C,QAAQ,OAAO,CAAC,CAAC;YACd,IAAoB,KAAK,CAAC,KAAK,GAAG,GAAG,SAAS,EAAE,CAAC;QACpD;IACF,GAAG,EAAE;IAEL,MAAM,SAAS;QACb;YAAE,OAAO;YAAc,aAAa;QAAW;QAC/C;YAAE,OAAO;YAAc,aAAa;QAAY;QAChD;YAAE,OAAO;YAAe,aAAa;QAAY;QACjD;YAAE,OAAO;YAAkB,aAAa;QAAY;QACpD;YAAE,OAAO;YAAkB,aAAa;QAAY;QACpD;YACE,OAAO;YACP,OAAO;YACP,UAAU;QACZ;QACA;YAAE,OAAO;YAAc,aAAa;QAAW;QAC/C;YACE,OAAO;YACP,OAAO;YACP,UAAU;QACZ;QACA;YAAE,OAAO;YAAc,aAAa;QAAY;QAChD;YACE,OAAO;YACP,OAAO;YACP,UAAU;QACZ;QACA;YAAE,OAAO;YAAU,aAAa;QAAY;QAC5C;YAAE,OAAO;YAAe,aAAa;QAAY;QACjD;YAAE,OAAO;YAAc,aAAa;QAAY;QAChD;YAAE,OAAO;YAAe,aAAa;QAAY;KAClD;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,8OAAC;gBAAI,KAAK;gBAAc,WAAU;0BAC/B,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,8OAAC;wBAAgB,WAAU;;0CACzB,8OAAC;gCACC,YAAU;gCACV,WAAU;0CAET,MAAM,KAAK;;;;;;4BAGb,MAAM,QAAQ,iBACb,8OAAC;gCACC,MAAK;gCACL,OAAO,MAAM,KAAK;gCAClB,QAAQ;gCACR,WAAU;;;;;qDAGZ,8OAAC;gCACC,MAAK;gCACL,aAAa,MAAM,WAAW;gCAC9B,WAAU;;;;;;;uBAnBN;;;;;;;;;;0BA2Bd,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAO,WAAU;kCAAuE;;;;;;kCAGzF,8OAAC;wBAAO,WAAU;kCAAsE;;;;;;;;;;;;;;;;;;AAMhG","debugId":null}},
    {"offset": {"line": 7764, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/components/desainperusahaan/Form13.tsx"],"sourcesContent":["\"use client\";\r\n\r\nexport default function Form13() {\r\n  const data = [\r\n    {\r\n      perusahaan: \"PT. Kamu Ada Aja\",\r\n      namaPosisi: \"DIREKTUR UTAMA\",\r\n      melaporKepada: \"-\",\r\n      unitKerja: \"PT. Kamu Ada Aja\",\r\n      departemen: \"PT. Kamu Ada Aja\",\r\n      subKelJabatan: \"PT. Kamu Ada Aja\",\r\n    },\r\n    {\r\n      perusahaan: \"PT. Kamu Ada Aja\",\r\n      namaPosisi: \"KEPALA BAGIAN PRODUKSI\",\r\n      melaporKepada: \"DIREKTUR PRODUKSI\",\r\n      unitKerja: \"PT. Kamu Ada Aja\",\r\n      departemen: \"PT. Kamu Ada Aja\",\r\n      subKelJabatan: \"PT. Kamu Ada Aja\",\r\n    },\r\n    // Tambahkan data dummy lain sesuai kebutuhan\r\n  ];\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h2 className=\"text-lg font-bold mb-4\">\r\n        14. JOB REPOSITORY - LIST\r\n      </h2>\r\n\r\n      <div className=\"overflow-x-auto bg-white shadow-md rounded-lg \">\r\n        <table className=\"min-w-[1400px] w-full text-sm text-left text-gray-700\">\r\n          <thead className=\"bg-blue-900 text-white\">\r\n            <tr>\r\n              <th className=\"px-4 py-3 font-semibold\">PERUSAHAAN</th>\r\n              <th className=\"px-4 py-3 font-semibold\">NAMA POSISI</th>\r\n              <th className=\"px-4 py-3 font-semibold\">MELAPOR KEPADA</th>\r\n              <th className=\"px-4 py-3 font-semibold\">UNIT KERJA</th>\r\n              <th className=\"px-4 py-3 font-semibold\">DEPARTEMEN</th>\r\n              <th className=\"px-4 py-3 font-semibold\">SUB-KELOMPOK JABATAN</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((row, index) => (\r\n              <tr\r\n                key={index}\r\n                className={index % 2 === 0 ? \"bg-white\" : \"bg-gray-50\"}\r\n              >\r\n                <td className=\"px-4 py-2\">{row.perusahaan}</td>\r\n                <td className=\"px-4 py-2\">{row.namaPosisi}</td>\r\n                <td className=\"px-4 py-2\">{row.melaporKepada}</td>\r\n                <td className=\"px-4 py-2\">{row.unitKerja}</td>\r\n                <td className=\"px-4 py-2\">{row.departemen}</td>\r\n                <td className=\"px-4 py-2\">{row.subKelJabatan}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS;IACtB,MAAM,OAAO;QACX;YACE,YAAY;YACZ,YAAY;YACZ,eAAe;YACf,WAAW;YACX,YAAY;YACZ,eAAe;QACjB;QACA;YACE,YAAY;YACZ,YAAY;YACZ,eAAe;YACf,WAAW;YACX,YAAY;YACZ,eAAe;QACjB;KAED;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAIvC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;kDACxC,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;kDACxC,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;kDACxC,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;kDACxC,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;kDACxC,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;;;;;;;;;;;;sCAG5C,8OAAC;sCACE,KAAK,GAAG,CAAC,CAAC,KAAK,sBACd,8OAAC;oCAEC,WAAW,QAAQ,MAAM,IAAI,aAAa;;sDAE1C,8OAAC;4CAAG,WAAU;sDAAa,IAAI,UAAU;;;;;;sDACzC,8OAAC;4CAAG,WAAU;sDAAa,IAAI,UAAU;;;;;;sDACzC,8OAAC;4CAAG,WAAU;sDAAa,IAAI,aAAa;;;;;;sDAC5C,8OAAC;4CAAG,WAAU;sDAAa,IAAI,SAAS;;;;;;sDACxC,8OAAC;4CAAG,WAAU;sDAAa,IAAI,UAAU;;;;;;sDACzC,8OAAC;4CAAG,WAAU;sDAAa,IAAI,aAAa;;;;;;;mCARvC;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBrB","debugId":null}},
    {"offset": {"line": 7954, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/app/%28admin%29/master-admin/desain-perusahaan/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport FormCompany from \"@/components/desainperusahaan/FormCompany\";\r\nimport FormCompanyDetails from \"@/components/desainperusahaan/FormCompanyDetails\";\r\nimport FormCompanyDesign from \"@/components/desainperusahaan/FormCompanyDesign\";\r\nimport FormCompanyBaseOrgStruc from \"@/components/desainperusahaan/FormCompanyBaseOrgStruc\";\r\nimport FormHRRule from \"@/components/desainperusahaan/FormHRRule\";\r\nimport FormCutiIzin from \"@/components/desainperusahaan/FormCutiIzin\";\r\nimport FormHariLibur from \"@/components/desainperusahaan/FormHariLibur\";\r\nimport FormAturJamKerja from \"@/components/desainperusahaan/FormAturJamKerja\";\r\nimport FormSG from \"@/components/desainperusahaan/FormSG\";\r\nimport FormOrganization from \"@/components/desainperusahaan/FormOrganization\";\r\nimport Form11 from \"@/components/desainperusahaan/Form11\";\r\nimport Form12 from \"@/components/desainperusahaan/Form12\";\r\nimport Form13 from \"@/components/desainperusahaan/Form13\";\r\n\r\nexport default function DesainPerusahaan() {\r\n    const [step, setStep] = useState(1);\r\n\r\n    return (\r\n        <div>\r\n            {step === 1 && (<FormCompany onNextStep={() => setStep(2)} />)}\r\n            {step === 2 && (\r\n                <FormCompanyDetails\r\n                    onNextStep={() => setStep(3)}\r\n                    onBack={() => setStep(1)}\r\n                />\r\n            )}\r\n            {step === 3 && (\r\n                <>\r\n                    <FormCompanyDesign\r\n                        onNextStep={() => setStep(4)}\r\n                        onBack={() => setStep(2)}\r\n                    />\r\n                </>\r\n            )}\r\n            {step === 4 && (\r\n                <FormCompanyBaseOrgStruc\r\n                    onNextStep={() => setStep(5)}\r\n                    onBack={() => setStep(3)}\r\n                />\r\n            )}\r\n            {step === 5 && (\r\n                <>\r\n                    <FormHRRule\r\n                        onNextStep={() => setStep(6)}\r\n                        onBack={() => setStep(4)}\r\n                    />\r\n                </>\r\n            )}\r\n            {step === 6 && (\r\n                <>\r\n                    <FormCutiIzin\r\n                        onNextStep={() => setStep(7)}\r\n                        onBack={() => setStep(5)}\r\n                    />\r\n                </>\r\n            )}\r\n            {step === 7 && (\r\n                <>\r\n                    <FormHariLibur\r\n                        onNextStep={() => setStep(8)}\r\n                        onBack={() => setStep(6)}\r\n                    />\r\n                </>\r\n            )}\r\n            {step === 8 && (\r\n                <>\r\n                    <FormAturJamKerja\r\n                        onNextStep={() => setStep(9)}\r\n                        onBack={() => setStep(7)}\r\n                    />\r\n                </>\r\n            )}\r\n            {step === 9 && (\r\n                <>\r\n                    <FormSG\r\n                        onNextStep={() => setStep(10)}\r\n                        onBack={() => setStep(8)} />\r\n                </>\r\n            )}\r\n            {step === 10 && (\r\n                <>\r\n                    <FormOrganization\r\n                        onNextStep={() => setStep(11)}\r\n                        onBack={() => setStep(9)} />\r\n                </>\r\n            )}\r\n            {step === 11 && (\r\n                <>\r\n                    <Form11 />\r\n                    <div className=\"flex gap-4 justify-end mt-6\">\r\n                        <button\r\n                            onClick={() => setStep(10)}\r\n                            className=\"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition\"\r\n                        >\r\n                            Kembali\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => setStep(12)}\r\n                            className=\"bg-green-500 hover:bg-green-700 text-sm text-white font-semibold py-2 px-6 rounded-full transition\"\r\n                        >\r\n                            Simpan & Lanjut\r\n                        </button>\r\n                    </div>\r\n                </>\r\n            )}\r\n            {step === 12 && (\r\n                <>\r\n                    <Form12 />\r\n                    <div className=\"flex gap-4 justify-end mt-6\">\r\n                        <button\r\n                            onClick={() => setStep(11)}\r\n                            className=\"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition\"\r\n                        >\r\n                            Kembali\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => setStep(13)}\r\n                            className=\"bg-green-500 hover:bg-green-700 text-sm text-white font-semibold py-2 px-6 rounded-full transition\"\r\n                        >\r\n                            Simpan & Lanjut\r\n                        </button>\r\n                    </div>\r\n                </>\r\n            )}\r\n            {step === 13 && (\r\n                <>\r\n                    <Form13 />\r\n                    <div className=\"flex gap-4 justify-end mt-6\">\r\n                        <button\r\n                            onClick={() => setStep(12)}\r\n                            className=\"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition\"\r\n                        >\r\n                            Kembali\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => setStep(13)}\r\n                            className=\"bg-green-500 hover:bg-green-700 text-sm text-white font-semibold py-2 px-6 rounded-full transition\"\r\n                        >\r\n                            Kirim\r\n                        </button>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;;;;;;;;;;;;;;;;AAiBe,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,qBACI,8OAAC;;YACI,SAAS,mBAAM,8OAAC,gKAAW;gBAAC,YAAY,IAAM,QAAQ;;;;;;YACtD,SAAS,mBACN,8OAAC,uKAAkB;gBACf,YAAY,IAAM,QAAQ;gBAC1B,QAAQ,IAAM,QAAQ;;;;;;YAG7B,SAAS,mBACN;0BACI,cAAA,8OAAC,sKAAiB;oBACd,YAAY,IAAM,QAAQ;oBAC1B,QAAQ,IAAM,QAAQ;;;;;;;YAIjC,SAAS,mBACN,8OAAC,4KAAuB;gBACpB,YAAY,IAAM,QAAQ;gBAC1B,QAAQ,IAAM,QAAQ;;;;;;YAG7B,SAAS,mBACN;0BACI,cAAA,8OAAC,+JAAU;oBACP,YAAY,IAAM,QAAQ;oBAC1B,QAAQ,IAAM,QAAQ;;;;;;;YAIjC,SAAS,mBACN;0BACI,cAAA,8OAAC,iKAAY;oBACT,YAAY,IAAM,QAAQ;oBAC1B,QAAQ,IAAM,QAAQ;;;;;;;YAIjC,SAAS,mBACN;0BACI,cAAA,8OAAC,kKAAa;oBACV,YAAY,IAAM,QAAQ;oBAC1B,QAAQ,IAAM,QAAQ;;;;;;;YAIjC,SAAS,mBACN;0BACI,cAAA,8OAAC,qKAAgB;oBACb,YAAY,IAAM,QAAQ;oBAC1B,QAAQ,IAAM,QAAQ;;;;;;;YAIjC,SAAS,mBACN;0BACI,cAAA,8OAAC,2JAAM;oBACH,YAAY,IAAM,QAAQ;oBAC1B,QAAQ,IAAM,QAAQ;;;;;;;YAGjC,SAAS,oBACN;0BACI,cAAA,8OAAC,qKAAgB;oBACb,YAAY,IAAM,QAAQ;oBAC1B,QAAQ,IAAM,QAAQ;;;;;;;YAGjC,SAAS,oBACN;;kCACI,8OAAC,2JAAM;;;;;kCACP,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CACb;;;;;;0CAID,8OAAC;gCACG,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CACb;;;;;;;;;;;;;;YAMZ,SAAS,oBACN;;kCACI,8OAAC,2JAAM;;;;;kCACP,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CACb;;;;;;0CAID,8OAAC;gCACG,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CACb;;;;;;;;;;;;;;YAMZ,SAAS,oBACN;;kCACI,8OAAC,2JAAM;;;;;kCACP,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CACb;;;;;;0CAID,8OAAC;gCACG,SAAS,IAAM,QAAQ;gCACvB,WAAU;0CACb;;;;;;;;;;;;;;;;;;;;AAQzB","debugId":null}}]
}