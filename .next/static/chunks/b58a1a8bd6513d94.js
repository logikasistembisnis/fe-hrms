(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99995,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(43476),a=e.i(71645),n=e.i(10500);function s(){var e;let[s,l]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[o,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)({name:"",description:"",active:!0}),u=async()=>{i(!0);try{let e=await (0,n.getTenant)();Array.isArray(e.data)?l(e.data):l([])}catch(e){console.error("Gagal mengambil data tenant:",e),alert("Gagal memuat data tenant.")}finally{i(!1)}};(0,a.useEffect)(()=>{u()},[]);let p=async e=>{if(confirm("Yakin ingin menghapus tenant ini?"))try{await (0,n.deleteTenant)(e),l(t=>t.filter(t=>t.tenantid!==e)),alert("Tenant berhasil dihapus.")}catch(e){console.error(e),alert("Gagal menghapus tenant.")}},g=async e=>{e.preventDefault(),x(!0);try{await (0,n.saveTenant)([m]),alert("Data berhasil disimpan!"),d(!1),u()}catch(e){console.error(e),alert("Gagal menyimpan data.")}finally{x(!1)}},b=e=>{e?h(e):h({name:"",description:"",active:!0,holdingflag:!1,holdingcompanyid:null}),d(!0)};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Daftar Tenant"}),(0,t.jsx)("button",{onClick:()=>b(),className:"bg-[#0c356a] hover:bg-blue-900 text-white px-4 py-2 rounded-lg font-medium transition",children:"+ Tambah Tenant"})]}),(0,t.jsx)("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-blue-900 text-white text-center text-sm font-medium",children:[(0,t.jsx)("th",{scope:"col",className:"px-4 py-2",children:"Nama"}),(0,t.jsx)("th",{scope:"col",className:"px-4 py-2",children:"Deskripsi"}),(0,t.jsx)("th",{scope:"col",className:"px-4 py-2 text-center",children:"Status"}),(0,t.jsx)("th",{scope:"col",className:"px-4 py-2 text-center",children:"Aksi"})]})}),(0,t.jsx)("tbody",{children:r?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"text-center py-6",children:"Loading..."})}):0===s.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"text-center py-6 text-gray-500",children:"Tidak ada data tenant."})}):s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition text-center",children:[(0,t.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:e.name}),(0,t.jsx)("td",{className:"px-6 py-4 text-gray-500",children:e.description||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.active?"Active":"Inactive"})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>b(e),className:"bg-blue-600 px-3 py-1 text-white rounded-sm hover:bg-blue-900 font-medium",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>p(e.tenantid),className:"bg-red-600 text-white px-3 py-1 rounded-sm hover:bg-red-900 font-medium",children:"Hapus"})]})]},e.tenantid))})]})}),c&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10 bg-opacity-50 backdrop-blur-sm p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:m.tenantid?"Edit Tenant":"Tambah Tenant Baru"}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Tenant"}),(0,t.jsx)("input",{type:"text",required:!0,value:m.name||"",onChange:e=>h({...m,name:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Contoh: ABC Group"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deskripsi"}),(0,t.jsx)("textarea",{value:m.description||"",onChange:e=>h({...m,description:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Keterangan singkat...",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"activeCheck",checked:null==(e=m.active)||e,onChange:e=>h({...m,active:e.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),(0,t.jsx)("label",{htmlFor:"activeCheck",className:"text-sm font-medium text-gray-700",children:"Aktif"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition",children:"Batal"}),(0,t.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 text-white rounded-lg transition font-medium ".concat(o?"bg-blue-400 cursor-not-allowed":"bg-[#0c356a] hover:bg-blue-900"),children:o?"Menyimpan...":"Simpan"})]})]})]})})]})}}]);