(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55838,(e,t,n)=>{"use strict";var r=e.r(71645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,i=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,c=r[1];return l(function(){a.value=n,a.getSnapshot=t,u(a)&&c({inst:a})},[e,n,t]),i(function(){return u(a)&&c({inst:a}),e(function(){u(a)&&c({inst:a})})},[e]),s(n),n};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},2239,(e,t,n)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,n)=>{"use strict";var r=e.r(71645),a=e.r(2239),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,l=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=l(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var f=i(e,(d=u(function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return l=t}return l=e}if(t=l,o(i,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(i=e,t):(i=e,l=n)}var i,l,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,a]))[0],d[1]);return s(function(){h.hasValue=!0,h.value=f},[f]),c(f),f}},30224,(e,t,n)=>{"use strict";t.exports=e.r(52822)},65742,(e,t,n)=>{t.exports=function(){this.__data__=[],this.size=0}},25172,(e,t,n)=>{t.exports=function(e,t){return e===t||e!=e&&t!=t}},34314,(e,t,n)=>{var r=e.r(25172);t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},19206,(e,t,n)=>{var r=e.r(34314),a=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},67763,(e,t,n)=>{var r=e.r(34314);t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},23407,(e,t,n)=>{var r=e.r(34314);t.exports=function(e){return r(this.__data__,e)>-1}},53833,(e,t,n)=>{var r=e.r(34314);t.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},29039,(e,t,n)=>{var r=e.r(65742),a=e.r(19206),o=e.r(67763),i=e.r(23407),l=e.r(53833);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=l,t.exports=s},5400,(e,t,n)=>{var r=e.r(29039);t.exports=function(){this.__data__=new r,this.size=0}},86238,(e,t,n)=>{t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},57831,(e,t,n)=>{t.exports=function(e){return this.__data__.get(e)}},77802,(e,t,n)=>{t.exports=function(e){return this.__data__.has(e)}},236,(e,t,n)=>{t.exports=e.g&&e.g.Object===Object&&e.g},39088,(e,t,n)=>{var r=e.r(236),a="object"==typeof self&&self&&self.Object===Object&&self;t.exports=r||a||Function("return this")()},30353,(e,t,n)=>{t.exports=e.r(39088).Symbol},43436,(e,t,n)=>{var r=e.r(30353),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,l=r?r.toStringTag:void 0;t.exports=function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[l]=n:delete e[l]),a}},5089,(e,t,n)=>{var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},77684,(e,t,n)=>{var r=e.r(30353),a=e.r(43436),o=e.r(5089),i=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},12447,(e,t,n)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},71223,(e,t,n)=>{var r=e.r(77684),a=e.r(12447);t.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},53789,(e,t,n)=>{t.exports=e.r(39088)["__core-js_shared__"]},69553,(e,t,n)=>{var r=e.r(53789),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();t.exports=function(e){return!!a&&a in e}},76366,(e,t,n)=>{var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},54368,(e,t,n)=>{var r=e.r(71223),a=e.r(69553),o=e.r(12447),i=e.r(76366),l=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,c=s.hasOwnProperty,d=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!o(e)||a(e))&&(r(e)?d:l).test(i(e))}},63958,(e,t,n)=>{t.exports=function(e,t){return null==e?void 0:e[t]}},41920,(e,t,n)=>{var r=e.r(54368),a=e.r(63958);t.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},87362,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"Map")},32760,(e,t,n)=>{t.exports=e.r(41920)(Object,"create")},50514,(e,t,n)=>{var r=e.r(32760);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},97617,(e,t,n)=>{t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},57412,(e,t,n)=>{var r=e.r(32760),a=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},23592,(e,t,n)=>{var r=e.r(32760),a=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},39004,(e,t,n)=>{var r=e.r(32760);t.exports=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},34421,(e,t,n)=>{var r=e.r(50514),a=e.r(97617),o=e.r(57412),i=e.r(23592),l=e.r(39004);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=l,t.exports=s},48994,(e,t,n)=>{var r=e.r(34421),a=e.r(29039),o=e.r(87362);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},24053,(e,t,n)=>{t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},87994,(e,t,n)=>{var r=e.r(24053);t.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},96768,(e,t,n)=>{var r=e.r(87994);t.exports=function(e){var t=r(this,e).delete(e);return this.size-=!!t,t}},29932,(e,t,n)=>{var r=e.r(87994);t.exports=function(e){return r(this,e).get(e)}},92647,(e,t,n)=>{var r=e.r(87994);t.exports=function(e){return r(this,e).has(e)}},46644,(e,t,n)=>{var r=e.r(87994);t.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=+(n.size!=a),this}},87547,(e,t,n)=>{var r=e.r(48994),a=e.r(96768),o=e.r(29932),i=e.r(92647),l=e.r(46644);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=l,t.exports=s},20517,(e,t,n)=>{var r=e.r(29039),a=e.r(87362),o=e.r(87547);t.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},1551,(e,t,n)=>{var r=e.r(29039),a=e.r(5400),o=e.r(86238),i=e.r(57831),l=e.r(77802),s=e.r(20517);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=l,u.prototype.set=s,t.exports=u},12895,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},24251,(e,t,n)=>{var r=e.r(41920);t.exports=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},74548,(e,t,n)=>{var r=e.r(24251);t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},4300,(e,t,n)=>{var r=e.r(74548),a=e.r(25172),o=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},72351,(e,t,n)=>{var r=e.r(4300),a=e.r(74548);t.exports=function(e,t,n,o){var i=!n;n||(n={});for(var l=-1,s=t.length;++l<s;){var u=t[l],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),i?a(n,u,c):r(n,u,c)}return n}},55803,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},77289,(e,t,n)=>{t.exports=function(e){return null!=e&&"object"==typeof e}},66645,(e,t,n)=>{var r=e.r(77684),a=e.r(77289);t.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},73250,(e,t,n)=>{var r=e.r(66645),a=e.r(77289),o=Object.prototype,i=o.hasOwnProperty,l=o.propertyIsEnumerable;t.exports=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!l.call(e,"callee")}},45350,(e,t,n)=>{t.exports=Array.isArray},24013,(e,t,n)=>{t.exports=function(){return!1}},56956,(e,t,n)=>{var r=e.r(39088),a=e.r(24013),o=n&&!n.nodeType&&n,i=o&&t&&!t.nodeType&&t,l=i&&i.exports===o?r.Buffer:void 0;t.exports=(l?l.isBuffer:void 0)||a},66397,(e,t,n)=>{var r=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},98376,(e,t,n)=>{t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},76602,(e,t,n)=>{var r=e.r(77684),a=e.r(98376),o=e.r(77289),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},33999,(e,t,n)=>{t.exports=function(e){return function(t){return e(t)}}},80156,(e,t,n)=>{var r=e.r(236),a=n&&!n.nodeType&&n,o=a&&t&&!t.nodeType&&t,i=o&&o.exports===a&&r.process;t.exports=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return i&&i.binding&&i.binding("util")}catch(e){}}()},3023,(e,t,n)=>{var r=e.r(76602),a=e.r(33999),o=e.r(80156),i=o&&o.isTypedArray;t.exports=i?a(i):r},58877,(e,t,n)=>{var r=e.r(55803),a=e.r(73250),o=e.r(45350),i=e.r(56956),l=e.r(66397),s=e.r(3023),u=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=o(e),c=!n&&a(e),d=!n&&!c&&i(e),h=!n&&!c&&!d&&s(e),f=n||c||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)(t||u.call(e,g))&&!(f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m)))&&p.push(g);return p}},63996,(e,t,n)=>{var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},25717,(e,t,n)=>{t.exports=function(e,t){return function(n){return e(t(n))}}},42369,(e,t,n)=>{t.exports=e.r(25717)(Object.keys,Object)},48477,(e,t,n)=>{var r=e.r(63996),a=e.r(42369),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},51095,(e,t,n)=>{var r=e.r(71223),a=e.r(98376);t.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},33679,(e,t,n)=>{var r=e.r(58877),a=e.r(48477),o=e.r(51095);t.exports=function(e){return o(e)?r(e):a(e)}},60196,(e,t,n)=>{var r=e.r(72351),a=e.r(33679);t.exports=function(e,t){return e&&r(t,a(t),e)}},13730,(e,t,n)=>{t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},85689,(e,t,n)=>{var r=e.r(12447),a=e.r(63996),o=e.r(13730),i=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var l in e)"constructor"==l&&(t||!i.call(e,l))||n.push(l);return n}},89695,(e,t,n)=>{var r=e.r(58877),a=e.r(85689),o=e.r(51095);t.exports=function(e){return o(e)?r(e,!0):a(e)}},52624,(e,t,n)=>{var r=e.r(72351),a=e.r(89695);t.exports=function(e,t){return e&&r(t,a(t),e)}},22781,(e,t,n)=>{var r=e.r(39088),a=n&&!n.nodeType&&n,o=a&&t&&!t.nodeType&&t,i=o&&o.exports===a?r.Buffer:void 0,l=i?i.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}},76736,(e,t,n)=>{t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},36100,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},45159,(e,t,n)=>{t.exports=function(){return[]}},17332,(e,t,n)=>{var r=e.r(36100),a=e.r(45159),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols;t.exports=i?function(e){return null==e?[]:r(i(e=Object(e)),function(t){return o.call(e,t)})}:a},74071,(e,t,n)=>{var r=e.r(72351),a=e.r(17332);t.exports=function(e,t){return r(e,a(e),t)}},69102,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},62413,(e,t,n)=>{t.exports=e.r(25717)(Object.getPrototypeOf,Object)},33648,(e,t,n)=>{var r=e.r(69102),a=e.r(62413),o=e.r(17332),i=e.r(45159);t.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i},45001,(e,t,n)=>{var r=e.r(72351),a=e.r(33648);t.exports=function(e,t){return r(e,a(e),t)}},23403,(e,t,n)=>{var r=e.r(69102),a=e.r(45350);t.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},13370,(e,t,n)=>{var r=e.r(23403),a=e.r(17332),o=e.r(33679);t.exports=function(e){return r(e,o,a)}},7889,(e,t,n)=>{var r=e.r(23403),a=e.r(33648),o=e.r(89695);t.exports=function(e){return r(e,o,a)}},1419,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"DataView")},17074,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"Promise")},6966,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"Set")},73895,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"WeakMap")},67426,(e,t,n)=>{var r=e.r(1419),a=e.r(87362),o=e.r(17074),i=e.r(6966),l=e.r(73895),s=e.r(77684),u=e.r(76366),c="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=u(r),g=u(a),y=u(o),x=u(i),v=u(l),b=s;(r&&b(new r(new ArrayBuffer(1)))!=p||a&&b(new a)!=c||o&&b(o.resolve())!=d||i&&b(new i)!=h||l&&b(new l)!=f)&&(b=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case g:return c;case y:return d;case x:return h;case v:return f}return t}),t.exports=b},53265,(e,t,n)=>{var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},63750,(e,t,n)=>{t.exports=e.r(39088).Uint8Array},25393,(e,t,n)=>{var r=e.r(63750);t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64146,(e,t,n)=>{var r=e.r(25393);t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},84046,(e,t,n)=>{var r=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},98430,(e,t,n)=>{var r=e.r(30353),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;t.exports=function(e){return o?Object(o.call(e)):{}}},14712,(e,t,n)=>{var r=e.r(25393);t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},49769,(e,t,n)=>{var r=e.r(25393),a=e.r(64146),o=e.r(84046),i=e.r(98430),l=e.r(14712);t.exports=function(e,t,n){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return o(e);case"[object Symbol]":return i(e)}}},46352,(e,t,n)=>{var r=e.r(12447),a=Object.create;t.exports=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}()},92433,(e,t,n)=>{var r=e.r(46352),a=e.r(62413),o=e.r(63996);t.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},81198,(e,t,n)=>{var r=e.r(67426),a=e.r(77289);t.exports=function(e){return a(e)&&"[object Map]"==r(e)}},54284,(e,t,n)=>{var r=e.r(81198),a=e.r(33999),o=e.r(80156),i=o&&o.isMap;t.exports=i?a(i):r},36206,(e,t,n)=>{var r=e.r(67426),a=e.r(77289);t.exports=function(e){return a(e)&&"[object Set]"==r(e)}},40158,(e,t,n)=>{var r=e.r(36206),a=e.r(33999),o=e.r(80156),i=o&&o.isSet;t.exports=i?a(i):r},64324,(e,t,n)=>{var r=e.r(1551),a=e.r(12895),o=e.r(4300),i=e.r(60196),l=e.r(52624),s=e.r(22781),u=e.r(76736),c=e.r(74071),d=e.r(45001),h=e.r(13370),f=e.r(7889),p=e.r(67426),m=e.r(53265),g=e.r(49769),y=e.r(92433),x=e.r(45350),v=e.r(56956),b=e.r(54284),w=e.r(12447),j=e.r(40158),N=e.r(33679),k=e.r(89695),_="[object Arguments]",S="[object Function]",E="[object Object]",C={};C[_]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[E]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[S]=C["[object WeakMap]"]=!1,t.exports=function e(t,n,M,A,P,O){var I,T=1&n,D=2&n,z=4&n;if(M&&(I=P?M(t,A,P,O):M(t)),void 0!==I)return I;if(!w(t))return t;var R=x(t);if(R){if(I=m(t),!T)return u(t,I)}else{var L=p(t),B=L==S||"[object GeneratorFunction]"==L;if(v(t))return s(t,T);if(L==E||L==_||B&&!P){if(I=D||B?{}:y(t),!T)return D?d(t,l(I,t)):c(t,i(I,t))}else{if(!C[L])return P?t:{};I=g(t,L,T)}}O||(O=new r);var F=O.get(t);if(F)return F;O.set(t,I),j(t)?t.forEach(function(r){I.add(e(r,n,M,r,t,O))}):b(t)&&t.forEach(function(r,a){I.set(a,e(r,n,M,a,t,O))});var H=z?D?f:h:D?k:N,K=R?void 0:H(t);return a(K||t,function(r,a){K&&(r=t[a=r]),o(I,a,e(r,n,M,a,t,O))}),I}},12989,(e,t,n)=>{var r=e.r(64324);t.exports=function(e){return r(e,4)}},56751,(e,t,n)=>{t.exports=function(e){return function(){return e}}},72385,(e,t,n)=>{t.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),l=i.length;l--;){var s=i[e?l:++a];if(!1===n(o[s],s,o))break}return t}}},98728,(e,t,n)=>{t.exports=e.r(72385)()},63799,(e,t,n)=>{var r=e.r(98728),a=e.r(33679);t.exports=function(e,t){return e&&r(e,t,a)}},73554,(e,t,n)=>{var r=e.r(51095);t.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,i=t?o:-1,l=Object(n);(t?i--:++i<o)&&!1!==a(l[i],i,l););return n}}},53587,(e,t,n)=>{var r=e.r(63799);t.exports=e.r(73554)(r)},10504,(e,t,n)=>{t.exports=function(e){return e}},73282,(e,t,n)=>{var r=e.r(10504);t.exports=function(e){return"function"==typeof e?e:r}},93448,(e,t,n)=>{var r=e.r(12895),a=e.r(53587),o=e.r(73282),i=e.r(45350);t.exports=function(e,t){return(i(e)?r:a)(e,o(t))}},71846,(e,t,n)=>{t.exports=e.r(93448)},36179,(e,t,n)=>{var r=e.r(53587);t.exports=function(e,t){var n=[];return r(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}},21274,(e,t,n)=>{t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},39805,(e,t,n)=>{t.exports=function(e){return this.__data__.has(e)}},27493,(e,t,n)=>{var r=e.r(87547),a=e.r(21274),o=e.r(39805);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,t.exports=i},51477,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},15262,(e,t,n)=>{t.exports=function(e,t){return e.has(t)}},6856,(e,t,n)=>{var r=e.r(27493),a=e.r(51477),o=e.r(15262);t.exports=function(e,t,n,i,l,s){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<c;){var y=e[p],x=t[p];if(i)var v=u?i(x,y,p,t,e,s):i(y,x,p,e,t,s);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!o(g,t)&&(y===e||l(y,e,n,i,s)))return g.push(t)})){m=!1;break}}else if(!(y===x||l(y,x,n,i,s))){m=!1;break}}return s.delete(e),s.delete(t),m}},75331,(e,t,n)=>{t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},99850,(e,t,n)=>{t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},78012,(e,t,n)=>{var r=e.r(30353),a=e.r(63750),o=e.r(25172),i=e.r(6856),l=e.r(75331),s=e.r(99850),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(e,t,n,r,u,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new a(e),new a(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=l;case"[object Set]":var p=1&r;if(f||(f=s),e.size!=t.size&&!p)break;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=i(f(e),f(t),r,u,d,h);return h.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},30698,(e,t,n)=>{var r=e.r(13370),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,o,i,l){var s=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!s)return!1;for(var d=c;d--;){var h=u[d];if(!(s?h in t:a.call(t,h)))return!1}var f=l.get(e),p=l.get(t);if(f&&p)return f==t&&p==e;var m=!0;l.set(e,t),l.set(t,e);for(var g=s;++d<c;){var y=e[h=u[d]],x=t[h];if(o)var v=s?o(x,y,h,t,e,l):o(y,x,h,e,t,l);if(!(void 0===v?y===x||i(y,x,n,o,l):v)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(m=!1)}return l.delete(e),l.delete(t),m}},78353,(e,t,n)=>{var r=e.r(1551),a=e.r(6856),o=e.r(78012),i=e.r(30698),l=e.r(67426),s=e.r(45350),u=e.r(56956),c=e.r(3023),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,m,g,y){var x=s(e),v=s(t),b=x?h:l(e),w=v?h:l(t);b=b==d?f:b,w=w==d?f:w;var j=b==f,N=w==f,k=b==w;if(k&&u(e)){if(!u(t))return!1;x=!0,j=!1}if(k&&!j)return y||(y=new r),x||c(e)?a(e,t,n,m,g,y):o(e,t,b,n,m,g,y);if(!(1&n)){var _=j&&p.call(e,"__wrapped__"),S=N&&p.call(t,"__wrapped__");if(_||S){var E=_?e.value():e,C=S?t.value():t;return y||(y=new r),g(E,C,n,m,y)}}return!!k&&(y||(y=new r),i(e,t,n,m,g,y))}},21885,(e,t,n)=>{var r=e.r(78353),a=e.r(77289);t.exports=function e(t,n,o,i,l){return t===n||(null!=t&&null!=n&&(a(t)||a(n))?r(t,n,o,i,e,l):t!=t&&n!=n)}},48299,(e,t,n)=>{var r=e.r(1551),a=e.r(21885);t.exports=function(e,t,n,o){var i=n.length,l=i,s=!o;if(null==e)return!l;for(e=Object(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<l;){var c=(u=n[i])[0],d=e[c],h=u[1];if(s&&u[2]){if(void 0===d&&!(c in e))return!1}else{var f=new r;if(o)var p=o(d,h,c,e,t,f);if(!(void 0===p?a(h,d,3,o,f):p))return!1}}return!0}},15782,(e,t,n)=>{var r=e.r(12447);t.exports=function(e){return e==e&&!r(e)}},41903,(e,t,n)=>{var r=e.r(15782),a=e.r(33679);t.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},65570,(e,t,n)=>{t.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},23426,(e,t,n)=>{var r=e.r(48299),a=e.r(41903),o=e.r(65570);t.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},61884,(e,t,n)=>{var r=e.r(77684),a=e.r(77289);t.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9903,(e,t,n)=>{var r=e.r(45350),a=e.r(61884),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},57588,(e,t,n)=>{var r=e.r(87547);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,t.exports=a},88832,(e,t,n)=>{var r=e.r(57588);t.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},2677,(e,t,n)=>{var r=e.r(88832),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;t.exports=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)}),t})},92708,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},72537,(e,t,n)=>{var r=e.r(30353),a=e.r(92708),o=e.r(45350),i=e.r(61884),l=1/0,s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-l?"-0":n}},2922,(e,t,n)=>{var r=e.r(72537);t.exports=function(e){return null==e?"":r(e)}},86287,(e,t,n)=>{var r=e.r(45350),a=e.r(9903),o=e.r(2677),i=e.r(2922);t.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},2054,(e,t,n)=>{var r=e.r(61884),a=1/0;t.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},33141,(e,t,n)=>{var r=e.r(86287),a=e.r(2054);t.exports=function(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},82820,(e,t,n)=>{var r=e.r(33141);t.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},40688,(e,t,n)=>{t.exports=function(e,t){return null!=e&&t in Object(e)}},15359,(e,t,n)=>{var r=e.r(86287),a=e.r(73250),o=e.r(45350),i=e.r(66397),l=e.r(98376),s=e.r(2054);t.exports=function(e,t,n){t=r(t,e);for(var u=-1,c=t.length,d=!1;++u<c;){var h=s(t[u]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&l(c)&&i(h,c)&&(o(e)||a(e))}},76590,(e,t,n)=>{var r=e.r(40688),a=e.r(15359);t.exports=function(e,t){return null!=e&&a(e,t,r)}},72298,(e,t,n)=>{var r=e.r(21885),a=e.r(82820),o=e.r(76590),i=e.r(9903),l=e.r(15782),s=e.r(65570),u=e.r(2054);t.exports=function(e,t){return i(e)&&l(t)?s(u(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,3)}}},1079,(e,t,n)=>{t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},30970,(e,t,n)=>{var r=e.r(33141);t.exports=function(e){return function(t){return r(t,e)}}},33906,(e,t,n)=>{var r=e.r(1079),a=e.r(30970),o=e.r(9903),i=e.r(2054);t.exports=function(e){return o(e)?r(i(e)):a(e)}},66305,(e,t,n)=>{var r=e.r(23426),a=e.r(72298),o=e.r(10504),i=e.r(45350),l=e.r(33906);t.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):l(e)}},84892,(e,t,n)=>{var r=e.r(36100),a=e.r(36179),o=e.r(66305),i=e.r(45350);t.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},36760,(e,t,n)=>{var r=Object.prototype.hasOwnProperty;t.exports=function(e,t){return null!=e&&r.call(e,t)}},44708,(e,t,n)=>{var r=e.r(36760),a=e.r(15359);t.exports=function(e,t){return null!=e&&a(e,t,r)}},46217,(e,t,n)=>{var r=e.r(48477),a=e.r(67426),o=e.r(73250),i=e.r(45350),l=e.r(51095),s=e.r(56956),u=e.r(63996),c=e.r(3023),d=Object.prototype.hasOwnProperty;t.exports=function(e){if(null==e)return!0;if(l(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||c(e)||o(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},79393,(e,t,n)=>{t.exports=function(e){return void 0===e}},7073,(e,t,n)=>{var r=e.r(53587),a=e.r(51095);t.exports=function(e,t){var n=-1,o=a(e)?Array(e.length):[];return r(e,function(e,r,a){o[++n]=t(e,r,a)}),o}},10632,(e,t,n)=>{var r=e.r(92708),a=e.r(66305),o=e.r(7073),i=e.r(45350);t.exports=function(e,t){return(i(e)?r:o)(e,a(t,3))}},92427,(e,t,n)=>{t.exports=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}},78577,(e,t,n)=>{t.exports=function(e,t,n,r,a){return a(e,function(e,a,o){n=r?(r=!1,e):t(n,e,a,o)}),n}},58253,(e,t,n)=>{var r=e.r(92427),a=e.r(53587),o=e.r(66305),i=e.r(78577),l=e.r(45350);t.exports=function(e,t,n){var s=l(e)?r:i,u=arguments.length<3;return s(e,o(t,4),n,u,a)}},85845,(e,t,n)=>{var r=e.r(77684),a=e.r(45350),o=e.r(77289);t.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&"[object String]"==r(e)}},13450,(e,t,n)=>{t.exports=e.r(1079)("length")},79589,(e,t,n)=>{var r=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(e){return r.test(e)}},7129,(e,t,n)=>{var r="\ud800-\udfff",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\ud83c[\udffb-\udfff]",i="[^"+r+"]",l="(?:\ud83c[\udde6-\uddff]){2}",s="[\ud800-\udbff][\udc00-\udfff]",u="(?:"+a+"|"+o+")?",c="[\\ufe0e\\ufe0f]?",d="(?:\\u200d(?:"+[i,l,s].join("|")+")"+c+u+")*",h=RegExp(o+"(?="+o+")|"+("(?:"+[i+a+"?",a,l,s,"["+r+"]"].join("|"))+")"+(c+u+d),"g");t.exports=function(e){for(var t=h.lastIndex=0;h.test(e);)++t;return t}},22994,(e,t,n)=>{var r=e.r(13450),a=e.r(79589),o=e.r(7129);t.exports=function(e){return a(e)?o(e):r(e)}},35405,(e,t,n)=>{var r=e.r(48477),a=e.r(67426),o=e.r(51095),i=e.r(85845),l=e.r(22994);t.exports=function(e){if(null==e)return 0;if(o(e))return i(e)?l(e):e.length;var t=a(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},79335,(e,t,n)=>{var r=e.r(12895),a=e.r(46352),o=e.r(63799),i=e.r(66305),l=e.r(62413),s=e.r(45350),u=e.r(56956),c=e.r(71223),d=e.r(12447),h=e.r(3023);t.exports=function(e,t,n){var f=s(e),p=f||u(e)||h(e);if(t=i(t,4),null==n){var m=e&&e.constructor;n=p?f?new m:[]:d(e)&&c(m)?a(l(e)):{}}return(p?r:o)(e,function(e,r,a){return t(n,e,r,a)}),n}},33803,(e,t,n)=>{var r=e.r(30353),a=e.r(73250),o=e.r(45350),i=r?r.isConcatSpreadable:void 0;t.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},41891,(e,t,n)=>{var r=e.r(69102),a=e.r(33803);t.exports=function e(t,n,o,i,l){var s=-1,u=t.length;for(o||(o=a),l||(l=[]);++s<u;){var c=t[s];n>0&&o(c)?n>1?e(c,n-1,o,i,l):r(l,c):i||(l[l.length]=c)}return l}},87160,(e,t,n)=>{t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},72953,(e,t,n)=>{var r=e.r(87160),a=Math.max;t.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,l=a(o.length-t,0),s=Array(l);++i<l;)s[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=n(s),r(e,this,u)}}},1647,(e,t,n)=>{var r=e.r(56751),a=e.r(24251),o=e.r(10504);t.exports=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o},51994,(e,t,n)=>{var r=Date.now;t.exports=function(e){var t=0,n=0;return function(){var a=r(),o=16-(a-n);if(n=a,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},84665,(e,t,n)=>{var r=e.r(1647);t.exports=e.r(51994)(r)},95059,(e,t,n)=>{var r=e.r(10504),a=e.r(72953),o=e.r(84665);t.exports=function(e,t){return o(a(e,t,r),e+"")}},56445,(e,t,n)=>{t.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return -1}},4078,(e,t,n)=>{t.exports=function(e){return e!=e}},1987,(e,t,n)=>{t.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return -1}},81446,(e,t,n)=>{var r=e.r(56445),a=e.r(4078),o=e.r(1987);t.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},46515,(e,t,n)=>{var r=e.r(81446);t.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},29584,(e,t,n)=>{t.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},91692,(e,t,n)=>{t.exports=function(){}},8484,(e,t,n)=>{var r=e.r(6966),a=e.r(91692),o=e.r(99850);t.exports=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a},10339,(e,t,n)=>{var r=e.r(27493),a=e.r(46515),o=e.r(29584),i=e.r(15262),l=e.r(8484),s=e.r(99850);t.exports=function(e,t,n){var u=-1,c=a,d=e.length,h=!0,f=[],p=f;if(n)h=!1,c=o;else if(d>=200){var m=t?null:l(e);if(m)return s(m);h=!1,c=i,p=new r}else p=t?[]:f;e:for(;++u<d;){var g=e[u],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y==y){for(var x=p.length;x--;)if(p[x]===y)continue e;t&&p.push(y),f.push(g)}else c(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},91072,(e,t,n)=>{var r=e.r(51095),a=e.r(77289);t.exports=function(e){return a(e)&&r(e)}},4366,(e,t,n)=>{var r=e.r(41891),a=e.r(95059),o=e.r(10339),i=e.r(91072);t.exports=a(function(e){return o(r(e,1,i,!0))})},18110,(e,t,n)=>{var r=e.r(92708);t.exports=function(e,t){return r(t,function(t){return e[t]})}},80985,(e,t,n)=>{var r=e.r(18110),a=e.r(33679);t.exports=function(e){return null==e?[]:r(e,a(e))}},79749,(e,t,n)=>{var r;try{r={clone:e.r(12989),constant:e.r(56751),each:e.r(71846),filter:e.r(84892),has:e.r(44708),isArray:e.r(45350),isEmpty:e.r(46217),isFunction:e.r(71223),isUndefined:e.r(79393),keys:e.r(33679),map:e.r(10632),reduce:e.r(58253),size:e.r(35405),transform:e.r(79335),union:e.r(4366),values:e.r(80985)}}catch(e){}r||(r=window._),t.exports=r},64930,(e,t,n)=>{"use strict";var r=e.r(79749);function a(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function o(e,t){e[t]?e[t]++:e[t]=1}function i(e,t){--e[t]||delete e[t]}function l(e,t,n,a){var o=""+t,i=""+n;if(!e&&o>i){var l=o;o=i,i=l}return o+"\x01"+i+"\x01"+(r.isUndefined(a)?"\0":a)}function s(e,t){return l(e,t.v,t.w,t.name)}t.exports=a,a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(e){return this._label=e,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return r.keys(this._nodes)},a.prototype.sources=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._in[t])})},a.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._out[t])})},a.prototype.setNodes=function(e,t){var n=arguments,a=this;return r.each(e,function(e){n.length>1?a.setNode(e,t):a.setNode(e)}),this},a.prototype.setNode=function(e,t){return r.has(this._nodes,e)?arguments.length>1&&(this._nodes[e]=t):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this},a.prototype.node=function(e){return this._nodes[e]},a.prototype.hasNode=function(e){return r.has(this._nodes,e)},a.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},a.prototype.setParent=function(e,t){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t="\0";else{t+="";for(var n=t;!r.isUndefined(n);n=this.parent(n))if(n===e)throw Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},a.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},a.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},a.prototype.children=function(e){if(r.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else if("\0"===e)return this.nodes();else if(this.hasNode(e))return[]},a.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},a.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},a.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},a.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},a.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),r.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var a={};return this._isCompound&&r.each(t.nodes(),function(e){t.setParent(e,function e(r){var o=n.parent(r);return void 0===o||t.hasNode(o)?(a[r]=o,o):o in a?a[o]:e(o)}(e))}),t},a.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return r.values(this._edgeObjs)},a.prototype.setPath=function(e,t){var n=this,a=arguments;return r.reduce(e,function(e,r){return a.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r}),this},a.prototype.setEdge=function(){var e,t,n,a,i=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2==arguments.length&&(a=arguments[1],i=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(a=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var u=l(this._isDirected,e,t,n);if(r.has(this._edgeLabels,u))return i&&(this._edgeLabels[u]=a),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=i?a:this._defaultEdgeLabelFn(e,t,n);var c=function(e,t,n,r){var a=""+t,o=""+n;if(!e&&a>o){var i=a;a=o,o=i}var l={v:a,w:o};return r&&(l.name=r),l}(this._isDirected,e,t,n);return e=c.v,t=c.w,Object.freeze(c),this._edgeObjs[u]=c,o(this._preds[t],e),o(this._sucs[e],t),this._in[t][u]=c,this._out[e][u]=c,this._edgeCount++,this},a.prototype.edge=function(e,t,n){var r=1==arguments.length?s(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return this._edgeLabels[r]},a.prototype.hasEdge=function(e,t,n){var a=1==arguments.length?s(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return r.has(this._edgeLabels,a)},a.prototype.removeEdge=function(e,t,n){var r=1==arguments.length?s(this._isDirected,arguments[0]):l(this._isDirected,e,t,n),a=this._edgeObjs[r];return a&&(e=a.v,t=a.w,delete this._edgeLabels[r],delete this._edgeObjs[r],i(this._preds[t],e),i(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},a.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var a=r.values(n);return t?r.filter(a,function(e){return e.v===t}):a}},a.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var a=r.values(n);return t?r.filter(a,function(e){return e.w===t}):a}},a.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},36347,(e,t,n)=>{t.exports="2.1.8"},45376,(e,t,n)=>{t.exports={Graph:e.r(64930),version:e.r(36347)}},52829,(e,t,n)=>{var r=e.r(79749),a=e.r(64930);t.exports={write:function(e){var t,n,a={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:(t=e,r.map(t.nodes(),function(e){var n=t.node(e),a=t.parent(e),o={v:e};return r.isUndefined(n)||(o.value=n),r.isUndefined(a)||(o.parent=a),o})),edges:(n=e,r.map(n.edges(),function(e){var t=n.edge(e),a={v:e.v,w:e.w};return r.isUndefined(e.name)||(a.name=e.name),r.isUndefined(t)||(a.value=t),a}))};return r.isUndefined(e.graph())||(a.value=r.clone(e.graph())),a},read:function(e){var t=new a(e.options).setGraph(e.value);return r.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),r.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},92100,(e,t,n)=>{var r=e.r(79749);t.exports=function(e){var t,n={},a=[];return r.each(e.nodes(),function(o){t=[],function a(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),a),r.each(e.predecessors(o),a))}(o),t.length&&a.push(t)}),a}},92402,(e,t,n)=>{var r=e.r(79749);function a(){this._arr=[],this._keyIndices={}}t.exports=a,a.prototype.size=function(){return this._arr.length},a.prototype.keys=function(){return this._arr.map(function(e){return e.key})},a.prototype.has=function(e){return r.has(this._keyIndices,e)},a.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},a.prototype.min=function(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key},a.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var a=this._arr,o=a.length;return n[e]=o,a.push({key:e,priority:t}),this._decrease(o),!0}return!1},a.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},a.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},a.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,a=e;n<t.length&&(a=t[n].priority<t[a].priority?n:a,r<t.length&&(a=t[r].priority<t[a].priority?r:a),a!==e&&(this._swap(e,a),this._heapify(a)))},a.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},a.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,a=n[e],o=n[t];n[e]=o,n[t]=a,r[o.key]=e,r[a.key]=t}},74584,(e,t,n)=>{var r=e.r(79749),a=e.r(92402);t.exports=function(e,t,n,r){return function(e,t,n,r){var o,i,l={},s=new a,u=function(e){var t=e.v!==o?e.v:e.w,r=l[t],a=n(e),u=i.distance+a;if(a<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+a);u<r.distance&&(r.distance=u,r.predecessor=o,s.decrease(t,u))};for(e.nodes().forEach(function(e){var n=e===t?0:1/0;l[e]={distance:n},s.add(e,n)});s.size()>0&&(i=l[o=s.removeMin()]).distance!==1/0;)r(o).forEach(u);return l}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},63255,(e,t,n)=>{var r=e.r(74584),a=e.r(79749);t.exports=function(e,t,n){return a.transform(e.nodes(),function(a,o){a[o]=r(e,o,t,n)},{})}},36194,(e,t,n)=>{var r=e.r(79749);t.exports=function(e){var t=0,n=[],a={},o=[];return e.nodes().forEach(function(i){r.has(a,i)||function i(l){var s=a[l]={onStack:!0,lowlink:t,index:t++};if(n.push(l),e.successors(l).forEach(function(e){r.has(a,e)?a[e].onStack&&(s.lowlink=Math.min(s.lowlink,a[e].index)):(i(e),s.lowlink=Math.min(s.lowlink,a[e].lowlink))}),s.lowlink===s.index){var u,c=[];do a[u=n.pop()].onStack=!1,c.push(u);while(l!==u)o.push(c)}}(i)}),o}},72175,(e,t,n)=>{var r=e.r(79749),a=e.r(36194);t.exports=function(e){return r.filter(a(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},78229,(e,t,n)=>{var r=e.r(79749);t.exports=function(e,t,n){var r,o,i,l,s;return r=e,o=t||a,i=n||function(t){return e.outEdges(t)},l={},(s=r.nodes()).forEach(function(e){l[e]={},l[e][e]={distance:0},s.forEach(function(t){e!==t&&(l[e][t]={distance:1/0})}),i(e).forEach(function(t){var n=t.v===e?t.w:t.v,r=o(t);l[e][n]={distance:r,predecessor:e}})}),s.forEach(function(e){var t=l[e];s.forEach(function(n){var r=l[n];s.forEach(function(n){var a=r[e],o=t[n],i=r[n],l=a.distance+o.distance;l<i.distance&&(i.distance=l,i.predecessor=o.predecessor)})})}),l};var a=r.constant(1)},8240,(e,t,n)=>{var r=e.r(79749);function a(e){var t={},n={},a=[];if(r.each(e.sinks(),function i(l){if(r.has(n,l))throw new o;r.has(t,l)||(n[l]=!0,t[l]=!0,r.each(e.predecessors(l),i),delete n[l],a.push(l))}),r.size(t)!==e.nodeCount())throw new o;return a}function o(){}t.exports=a,a.CycleException=o,o.prototype=Error()},68780,(e,t,n)=>{var r=e.r(8240);t.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},92512,(e,t,n)=>{var r=e.r(79749);t.exports=function(e,t,n){r.isArray(t)||(t=[t]);var a=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return r.each(t,function(t){if(!e.hasNode(t))throw Error("Graph does not have node: "+t);!function e(t,n,a,o,i,l){!r.has(o,n)&&(o[n]=!0,a||l.push(n),r.each(i(n),function(n){e(t,n,a,o,i,l)}),a&&l.push(n))}(e,t,"post"===n,i,a,o)}),o}},20233,(e,t,n)=>{var r=e.r(92512);t.exports=function(e,t){return r(e,t,"post")}},21802,(e,t,n)=>{var r=e.r(92512);t.exports=function(e,t){return r(e,t,"pre")}},67875,(e,t,n)=>{var r=e.r(79749),a=e.r(64930),o=e.r(92402);t.exports=function(e,t){var n,i=new a,l={},s=new o;function u(e){var r=e.v===n?e.w:e.v,a=s.priority(r);if(void 0!==a){var o=t(e);o<a&&(l[r]=n,s.decrease(r,o))}}if(0===e.nodeCount())return i;r.each(e.nodes(),function(e){s.add(e,1/0),i.setNode(e)}),s.decrease(e.nodes()[0],0);for(var c=!1;s.size()>0;){if(n=s.removeMin(),r.has(l,n))i.setEdge(n,l[n]);else if(c)throw Error("Input graph is not connected: "+e);else c=!0;e.nodeEdges(n).forEach(u)}return i}},64182,(e,t,n)=>{t.exports={components:e.r(92100),dijkstra:e.r(74584),dijkstraAll:e.r(63255),findCycles:e.r(72175),floydWarshall:e.r(78229),isAcyclic:e.r(68780),postorder:e.r(20233),preorder:e.r(21802),prim:e.r(67875),tarjan:e.r(36194),topsort:e.r(8240)}},62319,(e,t,n)=>{var r=e.r(45376);t.exports={Graph:r.Graph,json:e.r(52829),alg:e.r(64182),version:r.version}},40576,(e,t,n)=>{var r;try{r=e.r(62319)}catch(e){}r||(r=window.graphlib),t.exports=r},71944,(e,t,n)=>{var r=e.r(64324);t.exports=function(e){return r(e,5)}},70237,(e,t,n)=>{var r=e.r(25172),a=e.r(51095),o=e.r(66397),i=e.r(12447);t.exports=function(e,t,n){if(!i(n))return!1;var l=typeof t;return("number"==l?!!(a(n)&&o(t,n.length)):"string"==l&&t in n)&&r(n[t],e)}},10806,(e,t,n)=>{var r=e.r(95059),a=e.r(25172),o=e.r(70237),i=e.r(89695),l=Object.prototype,s=l.hasOwnProperty;t.exports=r(function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],d=i(c),h=-1,f=d.length;++h<f;){var p=d[h],m=e[p];(void 0===m||a(m,l[p])&&!s.call(e,p))&&(e[p]=c[p])}return e})},95200,(e,t,n)=>{var r=e.r(66305),a=e.r(51095),o=e.r(33679);t.exports=function(e){return function(t,n,i){var l=Object(t);if(!a(t)){var s=r(n,3);t=o(t),n=function(e){return s(l[e],e,l)}}var u=e(t,n,i);return u>-1?l[s?t[u]:u]:void 0}}},48891,(e,t,n)=>{var r=/\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},30364,(e,t,n)=>{var r=e.r(48891),a=/^\s+/;t.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},73759,(e,t,n)=>{var r=e.r(30364),a=e.r(12447),o=e.r(61884),i=0/0,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):l.test(e)?i:+e}},82560,(e,t,n)=>{var r=e.r(73759),a=1/0;t.exports=function(e){return e?(e=r(e))===a||e===-a?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},4653,(e,t,n)=>{var r=e.r(82560);t.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},26965,(e,t,n)=>{var r=e.r(56445),a=e.r(66305),o=e.r(4653),i=Math.max;t.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return -1;var s=null==n?0:o(n);return s<0&&(s=i(l+s,0)),r(e,a(t,3),s)}},60191,(e,t,n)=>{t.exports=e.r(95200)(e.r(26965))},72810,(e,t,n)=>{var r=e.r(41891);t.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},14200,(e,t,n)=>{var r=e.r(98728),a=e.r(73282),o=e.r(89695);t.exports=function(e,t){return null==e?e:r(e,a(t),o)}},4879,(e,t,n)=>{t.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},60793,(e,t,n)=>{var r=e.r(74548),a=e.r(63799),o=e.r(66305);t.exports=function(e,t){var n={};return t=o(t,3),a(e,function(e,a,o){r(n,a,t(e,a,o))}),n}},41015,(e,t,n)=>{var r=e.r(61884);t.exports=function(e,t,n){for(var a=-1,o=e.length;++a<o;){var i=e[a],l=t(i);if(null!=l&&(void 0===s?l==l&&!r(l):n(l,s)))var s=l,u=i}return u}},80957,(e,t,n)=>{t.exports=function(e,t){return e>t}},86966,(e,t,n)=>{var r=e.r(41015),a=e.r(80957),o=e.r(10504);t.exports=function(e){return e&&e.length?r(e,o,a):void 0}},58352,(e,t,n)=>{var r=e.r(74548),a=e.r(25172);t.exports=function(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},1320,(e,t,n)=>{var r=e.r(77684),a=e.r(62413),o=e.r(77289),i=Object.prototype,l=Function.prototype.toString,s=i.hasOwnProperty,u=l.call(Object);t.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},84305,(e,t,n)=>{t.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},37153,(e,t,n)=>{var r=e.r(72351),a=e.r(89695);t.exports=function(e){return r(e,a(e))}},27579,(e,t,n)=>{var r=e.r(58352),a=e.r(22781),o=e.r(14712),i=e.r(76736),l=e.r(92433),s=e.r(73250),u=e.r(45350),c=e.r(91072),d=e.r(56956),h=e.r(71223),f=e.r(12447),p=e.r(1320),m=e.r(3023),g=e.r(84305),y=e.r(37153);t.exports=function(e,t,n,x,v,b,w){var j=g(e,n),N=g(t,n),k=w.get(N);if(k)return void r(e,n,k);var _=b?b(j,N,n+"",e,t,w):void 0,S=void 0===_;if(S){var E=u(N),C=!E&&d(N),M=!E&&!C&&m(N);_=N,E||C||M?u(j)?_=j:c(j)?_=i(j):C?(S=!1,_=a(N,!0)):M?(S=!1,_=o(N,!0)):_=[]:p(N)||s(N)?(_=j,s(j)?_=y(j):(!f(j)||h(j))&&(_=l(N))):S=!1}S&&(w.set(N,_),v(_,N,x,b,w),w.delete(N)),r(e,n,_)}},5702,(e,t,n)=>{var r=e.r(1551),a=e.r(58352),o=e.r(98728),i=e.r(27579),l=e.r(12447),s=e.r(89695),u=e.r(84305);t.exports=function e(t,n,c,d,h){t!==n&&o(n,function(o,s){if(h||(h=new r),l(o))i(t,n,s,c,e,d,h);else{var f=d?d(u(t,s),o,s+"",t,n,h):void 0;void 0===f&&(f=o),a(t,s,f)}},s)}},83495,(e,t,n)=>{var r=e.r(95059),a=e.r(70237);t.exports=function(e){return r(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,l=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,l&&a(n[0],n[1],l)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}},11595,(e,t,n)=>{var r=e.r(5702);t.exports=e.r(83495)(function(e,t,n){r(e,t,n)})},98128,(e,t,n)=>{t.exports=function(e,t){return e<t}},37544,(e,t,n)=>{var r=e.r(41015),a=e.r(98128),o=e.r(10504);t.exports=function(e){return e&&e.length?r(e,o,a):void 0}},49673,(e,t,n)=>{var r=e.r(41015),a=e.r(66305),o=e.r(98128);t.exports=function(e,t){return e&&e.length?r(e,a(t,2),o):void 0}},31926,(e,t,n)=>{var r=e.r(39088);t.exports=function(){return r.Date.now()}},42173,(e,t,n)=>{var r=e.r(4300),a=e.r(86287),o=e.r(66397),i=e.r(12447),l=e.r(2054);t.exports=function(e,t,n,s){if(!i(e))return e;t=a(t,e);for(var u=-1,c=t.length,d=c-1,h=e;null!=h&&++u<c;){var f=l(t[u]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)break;if(u!=d){var m=h[f];void 0===(p=s?s(m,f,h):void 0)&&(p=i(m)?m:o(t[u+1])?[]:{})}r(h,f,p),h=h[f]}return e}},81829,(e,t,n)=>{var r=e.r(33141),a=e.r(42173),o=e.r(86287);t.exports=function(e,t,n){for(var i=-1,l=t.length,s={};++i<l;){var u=t[i],c=r(e,u);n(c,u)&&a(s,o(u,e),c)}return s}},13879,(e,t,n)=>{var r=e.r(81829),a=e.r(76590);t.exports=function(e,t){return r(e,t,function(t,n){return a(e,n)})}},6227,(e,t,n)=>{var r=e.r(72810),a=e.r(72953),o=e.r(84665);t.exports=function(e){return o(a(e,void 0,r),e+"")}},80210,(e,t,n)=>{var r=e.r(13879);t.exports=e.r(6227)(function(e,t){return null==e?{}:r(e,t)})},93440,(e,t,n)=>{var r=Math.ceil,a=Math.max;t.exports=function(e,t,n,o){for(var i=-1,l=a(r((t-e)/(n||1)),0),s=Array(l);l--;)s[o?l:++i]=e,e+=n;return s}},69523,(e,t,n)=>{var r=e.r(93440),a=e.r(70237),o=e.r(82560);t.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),r(t,n,i,e)}}},44950,(e,t,n)=>{t.exports=e.r(69523)()},83629,(e,t,n)=>{t.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},4886,(e,t,n)=>{var r=e.r(61884);t.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e==e,i=r(e),l=void 0!==t,s=null===t,u=t==t,c=r(t);if(!s&&!c&&!i&&e>t||i&&l&&u&&!s&&!c||a&&l&&u||!n&&u||!o)return 1;if(!a&&!i&&!c&&e<t||c&&n&&o&&!a&&!i||s&&n&&o||!l&&o||!u)return -1}return 0}},58322,(e,t,n)=>{var r=e.r(4886);t.exports=function(e,t,n){for(var a=-1,o=e.criteria,i=t.criteria,l=o.length,s=n.length;++a<l;){var u=r(o[a],i[a]);if(u){if(a>=s)return u;return u*("desc"==n[a]?-1:1)}}return e.index-t.index}},28138,(e,t,n)=>{var r=e.r(92708),a=e.r(33141),o=e.r(66305),i=e.r(7073),l=e.r(83629),s=e.r(33999),u=e.r(58322),c=e.r(10504),d=e.r(45350);t.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[c];var h=-1;return t=r(t,s(o)),l(i(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}}),function(e,t){return u(e,t,n)})}},31195,(e,t,n)=>{var r=e.r(41891),a=e.r(28138),o=e.r(95059),i=e.r(70237);t.exports=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])})},85658,(e,t,n)=>{var r=e.r(2922),a=0;t.exports=function(e){var t=++a;return r(e)+t}},89726,(e,t,n)=>{t.exports=function(e,t,n){for(var r=-1,a=e.length,o=t.length,i={};++r<a;){var l=r<o?t[r]:void 0;n(i,e[r],l)}return i}},78957,(e,t,n)=>{var r=e.r(4300),a=e.r(89726);t.exports=function(e,t){return a(e||[],t||[],r)}},11994,(e,t,n)=>{var r;try{r={cloneDeep:e.r(71944),constant:e.r(56751),defaults:e.r(10806),each:e.r(71846),filter:e.r(84892),find:e.r(60191),flatten:e.r(72810),forEach:e.r(93448),forIn:e.r(14200),has:e.r(44708),isUndefined:e.r(79393),last:e.r(4879),map:e.r(10632),mapValues:e.r(60793),max:e.r(86966),merge:e.r(11595),min:e.r(37544),minBy:e.r(49673),now:e.r(31926),pick:e.r(80210),range:e.r(44950),reduce:e.r(58253),sortBy:e.r(31195),uniqueId:e.r(85658),values:e.r(80985),zipObject:e.r(78957)}}catch(e){}r||(r=window._),t.exports=r},71676,(e,t,n)=>{function r(){var e={};e._next=e._prev=e,this._sentinel=e}function a(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}t.exports=r,r.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return a(t),t},r.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&a(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},r.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},15769,(e,t,n)=>{var r=e.r(11994),a=e.r(40576).Graph,o=e.r(71676);t.exports=function(e,t){if(1>=e.nodeCount())return[];var n,u,c,d,h,f,p,m=(n=e,u=t||i,c=new a,d=0,h=0,r.forEach(n.nodes(),function(e){c.setNode(e,{v:e,in:0,out:0})}),r.forEach(n.edges(),function(e){var t=c.edge(e.v,e.w)||0,n=u(e);c.setEdge(e.v,e.w,t+n),h=Math.max(h,c.node(e.v).out+=n),d=Math.max(d,c.node(e.w).in+=n)}),f=r.range(h+d+3).map(function(){return new o}),p=d+1,r.forEach(c.nodes(),function(e){s(f,p,c.node(e))}),{graph:c,buckets:f,zeroIdx:p}),g=function(e,t,n){for(var r,a=[],o=t[t.length-1],i=t[0];e.nodeCount();){for(;r=i.dequeue();)l(e,t,n,r);for(;r=o.dequeue();)l(e,t,n,r);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){a=a.concat(l(e,t,n,r,!0));break}}}return a}(m.graph,m.buckets,m.zeroIdx);return r.flatten(r.map(g,function(t){return e.outEdges(t.v,t.w)}),!0)};var i=r.constant(1);function l(e,t,n,a,o){var i=o?[]:void 0;return r.forEach(e.inEdges(a.v),function(r){var a=e.edge(r),l=e.node(r.v);o&&i.push({v:r.v,w:r.w}),l.out-=a,s(t,n,l)}),r.forEach(e.outEdges(a.v),function(r){var a=e.edge(r),o=r.w,i=e.node(o);i.in-=a,s(t,n,i)}),e.removeNode(a.v),i}function s(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},28155,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(15769);t.exports={run:function(e){var t,n,o,i,l,s="greedy"===e.graph().acyclicer?a(e,(t=e,function(e){return t.edge(e).weight})):(n=e,o=[],i={},l={},r.forEach(n.nodes(),function e(t){r.has(l,t)||(l[t]=!0,i[t]=!0,r.forEach(n.outEdges(t),function(t){r.has(i,t.w)?o.push(t):e(t.w)}),delete i[t])}),o);r.forEach(s,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))})},undo:function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},80897,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(40576).Graph;function o(e,t,n,a){var o;do o=r.uniqueId(a);while(e.hasNode(o))return n.dummy=t,e.setNode(o,n),o}function i(e){return r.max(r.map(e.nodes(),function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n}))}t.exports={addDummyNode:o,simplify:function(e){var t=new a().setGraph(e.graph());return r.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},a=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+a.weight,minlen:Math.max(r.minlen,a.minlen)})}),t},asNonCompoundGraph:function(e){var t=new a({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,a=e.x,o=e.y,i=t.x-a,l=t.y-o,s=e.width/2,u=e.height/2;if(!i&&!l)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(l)*s>Math.abs(i)*u?(l<0&&(u=-u),n=u*i/l,r=u):(i<0&&(s=-s),n=s,r=s*l/i),{x:a+n,y:o+r}},buildLayerMatrix:function(e){var t=r.map(r.range(i(e)+1),function(){return[]});return r.forEach(e.nodes(),function(n){var a=e.node(n),o=a.rank;r.isUndefined(o)||(t[o][a.order]=n)}),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank}));r.forEach(e.nodes(),function(n){var a=e.node(n);r.has(a,"rank")&&(a.rank-=t)})},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank})),n=[];r.forEach(e.nodes(),function(r){var a=e.node(r).rank-t;n[a]||(n[a]=[]),n[a].push(r)});var a=0,o=e.graph().nodeRankFactor;r.forEach(n,function(t,n){r.isUndefined(t)&&n%o!=0?--a:a&&r.forEach(t,function(t){e.node(t).rank+=a})})},addBorderNode:function(e,t,n,r){var a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=r),o(e,"border",a,t)},maxRank:i,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},21810,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(80897);t.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){!function(e,t){var n,r,o,i=t.v,l=e.node(i).rank,s=t.w,u=e.node(s).rank,c=t.name,d=e.edge(t),h=d.labelRank;if(u!==l+1){for(e.removeEdge(t),o=0,++l;l<u;++o,++l)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:t,rank:l},n=a.addDummyNode(e,"edge",r,"_d"),l===h&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),e.setEdge(i,n,{weight:d.weight},c),0===o&&e.graph().dummyChains.push(n),i=n;e.setEdge(i,s,{weight:d.weight},c)}}(e,t)})},undo:function(e){r.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),a=r.edgeLabel;for(e.setEdge(r.edgeObj,a);r.dummy;)n=e.successors(t)[0],e.removeNode(t),a.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(a.x=r.x,a.y=r.y,a.width=r.width,a.height=r.height),t=n,r=e.node(t)})}}},99269,(e,t,n)=>{"use strict";var r=e.r(11994);t.exports={longestPath:function(e){var t={};r.forEach(e.sources(),function n(a){var o=e.node(a);if(r.has(t,a))return o.rank;t[a]=!0;var i=r.min(r.map(e.outEdges(a),function(t){return n(t.w)-e.edge(t).minlen}));return(i===1/0||null==i)&&(i=0),o.rank=i})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},10836,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(40576).Graph,o=e.r(99269).slack;t.exports=function(e){var t,n,i,l,s=new a({directed:!1}),u=e.nodes()[0],c=e.nodeCount();for(s.setNode(u,{});t=s,n=e,r.forEach(t.nodes(),function e(a){r.forEach(n.nodeEdges(a),function(r){var i=r.v,l=a===i?r.w:i;t.hasNode(l)||o(n,r)||(t.setNode(l,{}),t.setEdge(a,l,{}),e(l))})}),t.nodeCount()<c;)i=function(e,t){return r.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return o(t,n)})}(s,e),l=s.hasNode(i.v)?o(e,i):-o(e,i),function(e,t,n){r.forEach(e.nodes(),function(e){t.node(e).rank+=n})}(s,e,l);return s}},71639,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(10836),o=e.r(99269).slack,i=e.r(99269).longestPath,l=e.r(40576).alg.preorder,s=e.r(40576).alg.postorder,u=e.r(80897).simplify;function c(e){i(e=u(e));var t,n,r=a(e);for(f(r),d(r,e);t=p(r);)n=m(r,e,t),g(r,e,t,n)}function d(e,t){var n=s(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){var r,a,o,i;r=e,a=t,o=n,i=r.node(o).parent,r.edge(o,i).cutvalue=h(r,a,o)})}function h(e,t,n){var a=e.node(n).parent,o=!0,i=t.edge(n,a),l=0;return i||(o=!1,i=t.edge(a,n)),l=i.weight,r.forEach(t.nodeEdges(n),function(r){var i=r.v===n,s=i?r.w:r.v;if(s!==a){var u,c,d,h=i===o,f=t.edge(r).weight;if(l+=h?f:-f,u=e,c=n,d=s,u.hasEdge(c,d)){var p=e.edge(n,s).cutvalue;l+=h?-p:p}}}),l}function f(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,a,o,i){var l=a,s=t.node(o);return n[o]=!0,r.forEach(t.neighbors(o),function(i){r.has(n,i)||(a=e(t,n,a,i,o))}),s.low=l,s.lim=a++,i?s.parent=i:delete s.parent,a}(e,{},1,t)}function p(e){return r.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function m(e,t,n){var a=n.v,i=n.w;t.hasEdge(a,i)||(a=n.w,i=n.v);var l=e.node(a),s=e.node(i),u=l,c=!1;l.lim>s.lim&&(u=s,c=!0);var d=r.filter(t.edges(),function(t){return c===y(e,e.node(t.v),u)&&c!==y(e,e.node(t.w),u)});return r.minBy(d,function(e){return o(t,e)})}function g(e,t,n,a){var o,i,s,u,c=n.v,h=n.w;e.removeEdge(c,h),e.setEdge(a.v,a.w,{}),f(e),d(e,t),o=e,i=t,s=r.find(o.nodes(),function(e){return!i.node(e).parent}),u=(u=l(o,s)).slice(1),r.forEach(u,function(e){var t=o.node(e).parent,n=i.edge(e,t),r=!1;n||(n=i.edge(t,e),r=!0),i.node(e).rank=i.node(t).rank+(r?n.minlen:-n.minlen)})}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}t.exports=c,c.initLowLimValues=f,c.initCutValues=d,c.calcCutValue=h,c.leaveEdge=p,c.enterEdge=m,c.exchangeEdges=g},60106,(e,t,n)=>{"use strict";var r=e.r(99269).longestPath,a=e.r(10836),o=e.r(71639);t.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:o(e);break;case"tight-tree":var t;r(t=e),a(t);break;case"longest-path":i(e)}};var i=r},31662,(e,t,n)=>{var r=e.r(11994);t.exports=function(e){var t,n,a,o=(t=e,n={},a=0,r.forEach(t.children(),function e(o){var i=a;r.forEach(t.children(o),e),n[o]={low:i,lim:a++}}),n);r.forEach(e.graph().dummyChains,function(t){for(var n=e.node(t),r=n.edgeObj,a=function(e,t,n,r){var a,o,i=[],l=[],s=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);a=n;do i.push(a=e.parent(a));while(a&&(t[a].low>s||u>t[a].lim))for(o=a,a=r;(a=e.parent(a))!==o;)l.push(a);return{path:i.concat(l.reverse()),lca:o}}(e,o,r.v,r.w),i=a.path,l=a.lca,s=0,u=i[0],c=!0;t!==r.w;){if(n=e.node(t),c){for(;(u=i[s])!==l&&e.node(u).maxRank<n.rank;)s++;u===l&&(c=!1)}if(!c){for(;s<i.length-1&&e.node(u=i[s+1]).minRank<=n.rank;)s++;u=i[s]}e.setParent(t,u),t=e.successors(t)[0]}})}},40786,(e,t,n)=>{var r=e.r(11994),a=e.r(80897);t.exports={run:function(e){var t,n,o,i=a.addDummyNode(e,"root",{},"_root"),l=(t=e,n={},r.forEach(t.children(),function(e){!function e(a,o){var i=t.children(a);i&&i.length&&r.forEach(i,function(t){e(t,o+1)}),n[a]=o}(e,1)}),n),s=r.max(r.values(l))-1,u=2*s+1;e.graph().nestingRoot=i,r.forEach(e.edges(),function(t){e.edge(t).minlen*=u});var c=(o=e,r.reduce(o.edges(),function(e,t){return e+o.edge(t).weight},0)+1);r.forEach(e.children(),function(t){!function e(t,n,o,i,l,s,u){var c=t.children(u);if(!c.length){u!==n&&t.setEdge(n,u,{weight:0,minlen:o});return}var d=a.addBorderNode(t,"_bt"),h=a.addBorderNode(t,"_bb"),f=t.node(u);t.setParent(d,u),f.borderTop=d,t.setParent(h,u),f.borderBottom=h,r.forEach(c,function(r){e(t,n,o,i,l,s,r);var a=t.node(r),c=a.borderTop?a.borderTop:r,f=a.borderBottom?a.borderBottom:r,p=a.borderTop?i:2*i,m=c!==f?1:l-s[u]+1;t.setEdge(d,c,{weight:p,minlen:m,nestingEdge:!0}),t.setEdge(f,h,{weight:p,minlen:m,nestingEdge:!0})}),t.parent(u)||t.setEdge(n,d,{weight:0,minlen:l+s[u]})}(e,i,u,c,s,l,t)}),e.graph().nodeRankFactor=u},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},8889,(e,t,n)=>{var r=e.r(11994),a=e.r(80897);function o(e,t,n,r,o,i){var l=o[t][i-1],s=a.addDummyNode(e,"border",{width:0,height:0,rank:i,borderType:t},n);o[t][i]=s,e.setParent(s,r),l&&e.setEdge(l,s,{weight:1})}t.exports=function(e){r.forEach(e.children(),function t(n){var a=e.children(n),i=e.node(n);if(a.length&&r.forEach(a,t),r.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var l=i.minRank,s=i.maxRank+1;l<s;++l)o(e,"borderLeft","_bl",n,i,l),o(e,"borderRight","_br",n,i,l)}})}},75175,(e,t,n)=>{"use strict";var r=e.r(11994);function a(e){r.forEach(e.nodes(),function(t){o(e.node(t))}),r.forEach(e.edges(),function(t){o(e.edge(t))})}function o(e){var t=e.width;e.width=e.height,e.height=t}function i(e){e.y=-e.y}function l(e){var t=e.x;e.x=e.y,e.y=t}t.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();("lr"===t||"rl"===t)&&a(e)},undo:function(e){var t,n,o=e.graph().rankdir.toLowerCase();("bt"===o||"rl"===o)&&(t=e,r.forEach(t.nodes(),function(e){i(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,i),r.has(n,"y")&&i(n)})),("lr"===o||"rl"===o)&&(n=e,r.forEach(n.nodes(),function(e){l(n.node(e))}),r.forEach(n.edges(),function(e){var t=n.edge(e);r.forEach(t.points,l),r.has(t,"x")&&l(t)}),a(e))}}},92064,(e,t,n)=>{"use strict";var r=e.r(11994);t.exports=function(e){var t={},n=r.filter(e.nodes(),function(t){return!e.children(t).length}),a=r.max(r.map(n,function(t){return e.node(t).rank})),o=r.map(r.range(a+1),function(){return[]}),i=r.sortBy(n,function(t){return e.node(t).rank});return r.forEach(i,function n(a){r.has(t,a)||(t[a]=!0,o[e.node(a).rank].push(a),r.forEach(e.successors(a),n))}),o}},45729,(e,t,n)=>{"use strict";var r=e.r(11994);t.exports=function(e,t){for(var n=0,a=1;a<t.length;++a)n+=function(e,t,n){for(var a=r.zipObject(n,r.map(n,function(e,t){return t})),o=r.flatten(r.map(t,function(t){return r.sortBy(r.map(e.outEdges(t),function(t){return{pos:a[t.w],weight:e.edge(t).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var l=2*i-1;i-=1;var s=r.map(Array(l),function(){return 0}),u=0;return r.forEach(o.forEach(function(e){var t=e.pos+i;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),t=t-1>>1,s[t]+=e.weight;u+=e.weight*n})),u}(e,t[a-1],t[a]);return n}},91609,(e,t,n)=>{var r=e.r(11994);t.exports=function(e,t){return r.map(t,function(t){var n=e.inEdges(t);if(!n.length)return{v:t};var a=r.reduce(n,function(t,n){var r=e.edge(n),a=e.node(n.v);return{sum:t.sum+r.weight*a.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:a.sum/a.weight,weight:a.weight}})}},38867,(e,t,n)=>{"use strict";var r=e.r(11994);t.exports=function(e,t){var n={};return r.forEach(e,function(e,t){var a=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(a.barycenter=e.barycenter,a.weight=e.weight)}),r.forEach(t.edges(),function(e){var t=n[e.v],a=n[e.w];r.isUndefined(t)||r.isUndefined(a)||(a.indegree++,t.out.push(n[e.w]))}),function(e){for(var t=[];e.length;){var n=e.pop();t.push(n),r.forEach(n.in.reverse(),function(e){return function(t){!t.merged&&(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}(n)),r.forEach(n.out,function(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}(n))}return r.map(r.filter(t,function(e){return!e.merged}),function(e){return r.pick(e,["vs","i","barycenter","weight"])})}(r.filter(n,function(e){return!e.indegree}))}},25571,(e,t,n)=>{var r=e.r(11994),a=e.r(80897);function o(e,t,n){for(var a;t.length&&(a=r.last(t)).i<=n;)t.pop(),e.push(a.vs),n++;return n}t.exports=function(e,t){var n,i=a.partition(e,function(e){return r.has(e,"barycenter")}),l=i.lhs,s=r.sortBy(i.rhs,function(e){return-e.i}),u=[],c=0,d=0,h=0;l.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),h=o(u,s,h),r.forEach(l,function(e){h+=e.vs.length,u.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,h=o(u,s,h)});var f={vs:r.flatten(u,!0)};return d&&(f.barycenter=c/d,f.weight=d),f}},15133,(e,t,n)=>{var r=e.r(11994),a=e.r(91609),o=e.r(38867),i=e.r(25571);t.exports=function e(t,n,l,s){var u,c,d=t.children(n),h=t.node(n),f=h?h.borderLeft:void 0,p=h?h.borderRight:void 0,m={};f&&(d=r.filter(d,function(e){return e!==f&&e!==p}));var g=a(t,d);r.forEach(g,function(n){if(t.children(n.v).length){var a,o,i=e(t,n.v,l,s);m[n.v]=i,r.has(i,"barycenter")&&(a=n,o=i,r.isUndefined(a.barycenter)?(a.barycenter=o.barycenter,a.weight=o.weight):(a.barycenter=(a.barycenter*a.weight+o.barycenter*o.weight)/(a.weight+o.weight),a.weight+=o.weight))}});var y=o(g,l);u=y,c=m,r.forEach(u,function(e){e.vs=r.flatten(e.vs.map(function(e){return c[e]?c[e].vs:e}),!0)});var x=i(y,s);if(f&&(x.vs=r.flatten([f,x.vs,p],!0),t.predecessors(f).length)){var v=t.node(t.predecessors(f)[0]),b=t.node(t.predecessors(p)[0]);r.has(x,"barycenter")||(x.barycenter=0,x.weight=0),x.barycenter=(x.barycenter*x.weight+v.order+b.order)/(x.weight+2),x.weight+=2}return x}},81686,(e,t,n)=>{var r=e.r(11994),a=e.r(40576).Graph;t.exports=function(e,t,n){var o=function(e){for(var t;e.hasNode(t=r.uniqueId("_root")););return t}(e),i=new a({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(t){return e.node(t)});return r.forEach(e.nodes(),function(a){var l=e.node(a),s=e.parent(a);(l.rank===t||l.minRank<=t&&t<=l.maxRank)&&(i.setNode(a),i.setParent(a,s||o),r.forEach(e[n](a),function(t){var n=t.v===a?t.w:t.v,o=i.edge(n,a),l=r.isUndefined(o)?0:o.weight;i.setEdge(n,a,{weight:e.edge(t).weight+l})}),r.has(l,"minRank")&&i.setNode(a,{borderLeft:l.borderLeft[t],borderRight:l.borderRight[t]}))}),i}},47404,(e,t,n)=>{var r=e.r(11994);t.exports=function(e,t,n){var a,o={};r.forEach(n,function(n){for(var r,i,l=e.parent(n);l;){if((r=e.parent(l))?(i=o[r],o[r]=l):(i=a,a=l),i&&i!==l)return void t.setEdge(i,l);l=r}})}},94432,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(92064),o=e.r(45729),i=e.r(15133),l=e.r(81686),s=e.r(47404),u=e.r(40576).Graph,c=e.r(80897);function d(e,t,n){return r.map(t,function(t){return l(e,t,n)})}function h(e,t){r.forEach(t,function(t){r.forEach(t,function(t,n){e.node(t).order=n})})}t.exports=function(e){var t=c.maxRank(e),n=d(e,r.range(1,t+1),"inEdges"),l=d(e,r.range(t-1,-1,-1),"outEdges"),f=a(e);h(e,f);for(var p,m=1/0,g=0,y=0;y<4;++g,++y){(function(e,t){var n=new u;r.forEach(e,function(e){var a=e.graph().root,o=i(e,a,n,t);r.forEach(o.vs,function(t,n){e.node(t).order=n}),s(e,n,o.vs)})})(g%2?n:l,g%4>=2),f=c.buildLayerMatrix(e);var x=o(e,f);x<m&&(y=0,p=r.cloneDeep(f),m=x)}h(e,p)}},69298,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(40576).Graph,o=e.r(80897);function i(e,t){var n={};return r.reduce(t,function(t,a){var o=0,i=0,l=t.length,u=r.last(a);return r.forEach(a,function(t,c){var d=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),h=d?e.node(d).order:l;(d||t===u)&&(r.forEach(a.slice(i,c+1),function(t){r.forEach(e.predecessors(t),function(r){var a=e.node(r),i=a.order;(i<o||h<i)&&!(a.dummy&&e.node(t).dummy)&&s(n,r,t)})}),i=c+1,o=h)}),a}),n}function l(e,t){var n={};function a(t,a,o,i,l){var u;r.forEach(r.range(a,o),function(a){u=t[a],e.node(u).dummy&&r.forEach(e.predecessors(u),function(t){var r=e.node(t);r.dummy&&(r.order<i||r.order>l)&&s(n,t,u)})})}return r.reduce(t,function(t,n){var o,i=-1,l=0;return r.forEach(n,function(r,s){if("border"===e.node(r).dummy){var u=e.predecessors(r);u.length&&(o=e.node(u[0]).order,a(n,l,s,i,o),l=s,i=o)}a(n,l,n.length,o,t.length)}),n}),n}function s(e,t,n){if(t>n){var r=t;t=n,n=r}var a=e[t];a||(e[t]=a={}),a[n]=!0}function u(e,t,n){if(t>n){var a=t;t=n,n=a}return r.has(e[t],n)}function c(e,t,n,a){var o={},i={},l={};return r.forEach(t,function(e){r.forEach(e,function(e,t){o[e]=e,i[e]=e,l[e]=t})}),r.forEach(t,function(e){var t=-1;r.forEach(e,function(e){var s=a(e);if(s.length)for(var c=((s=r.sortBy(s,function(e){return l[e]})).length-1)/2,d=Math.floor(c),h=Math.ceil(c);d<=h;++d){var f=s[d];i[e]===e&&t<l[f]&&!u(n,e,f)&&(i[f]=e,i[e]=o[e]=o[f],t=l[f])}})}),{root:o,align:i}}function d(e,t,n,o,i){var l,s,u,c,d,h,f,p,m,g,y={},x=(l=e,s=t,u=n,c=i,p=new a,g=(d=(m=l.graph()).nodesep,h=m.edgesep,f=c,function(e,t,n){var a,o,i=e.node(t),l=e.node(n);if(a=0+i.width/2,r.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":o=-i.width/2;break;case"r":o=i.width/2}if(o&&(a+=f?o:-o),o=0,a+=(i.dummy?h:d)/2,a+=(l.dummy?h:d)/2,a+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":o=l.width/2;break;case"r":o=-l.width/2}return o&&(a+=f?o:-o),o=0,a}),r.forEach(s,function(e){var t;r.forEach(e,function(e){var n=u[e];if(p.setNode(n),t){var r=u[t],a=p.edge(r,n);p.setEdge(r,n,Math.max(g(l,e,t),a||0))}t=e})}),p),v=i?"borderLeft":"borderRight";function b(e,t){for(var n=x.nodes(),r=n.pop(),a={};r;)a[r]?e(r):(a[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return b(function(e){y[e]=x.inEdges(e).reduce(function(e,t){return Math.max(e,y[t.v]+x.edge(t))},0)},x.predecessors.bind(x)),b(function(t){var n=x.outEdges(t).reduce(function(e,t){return Math.min(e,y[t.w]-x.edge(t))},1/0),r=e.node(t);n!==1/0&&r.borderType!==v&&(y[t]=Math.max(y[t],n))},x.successors.bind(x)),r.forEach(o,function(e){y[e]=y[n[e]]}),y}function h(e,t){return r.minBy(r.values(t),function(t){var n=-1/0,a=1/0;return r.forIn(t,function(t,r){var o,i,l=(o=e,i=r,o.node(i).width/2);n=Math.max(t+l,n),a=Math.min(t-l,a)}),n-a})}function f(e,t){var n=r.values(t),a=r.min(n),o=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(i){var l,s=n+i,u=e[s];if(u!==t){var c=r.values(u);(l="l"===i?a-r.min(c):o-r.max(c))&&(e[s]=r.mapValues(u,function(e){return e+l}))}})})}function p(e,t){return r.mapValues(e.ul,function(n,a){if(t)return e[t.toLowerCase()][a];var o=r.sortBy(r.map(e,a));return(o[1]+o[2])/2})}t.exports={positionX:function(e){var t,n=o.buildLayerMatrix(e),a=r.merge(i(e,n),l(e,n)),s={};r.forEach(["u","d"],function(o){t="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(t=r.map(t,function(e){return r.values(e).reverse()}));var i=("u"===o?e.predecessors:e.successors).bind(e),l=c(e,t,a,i),u=d(e,t,l.root,l.align,"r"===n);"r"===n&&(u=r.mapValues(u,function(e){return-e})),s[o+n]=u})});var u=h(e,s);return f(s,u),p(s,e.graph().align)},findType1Conflicts:i,findType2Conflicts:l,addConflict:s,hasConflict:u,verticalAlignment:c,horizontalCompaction:d,alignCoordinates:f,findSmallestWidthAlignment:h,balance:p}},66162,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(80897),o=e.r(69298).positionX;t.exports=function(e){var t,n,i,l;t=e=a.asNonCompoundGraph(e),n=a.buildLayerMatrix(t),i=t.graph().ranksep,l=0,r.forEach(n,function(e){var n=r.max(r.map(e,function(e){return t.node(e).height}));r.forEach(e,function(e){t.node(e).y=l+n/2}),l+=n+i}),r.forEach(o(e),function(t,n){e.node(n).x=t})}},77040,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(28155),o=e.r(21810),i=e.r(60106),l=e.r(80897).normalizeRanks,s=e.r(31662),u=e.r(80897).removeEmptyRanks,c=e.r(40786),d=e.r(8889),h=e.r(75175),f=e.r(94432),p=e.r(66162),m=e.r(80897),g=e.r(40576).Graph;t.exports=function(e,t){var n=t&&t.debugTiming?m.time:m.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){var t,n,a;return t=e,n=new g({multigraph:!0,compound:!0}),a=S(t.graph()),n.setGraph(r.merge({},x,_(a,y),r.pick(a,v))),r.forEach(t.nodes(),function(e){var a=S(t.node(e));n.setNode(e,r.defaults(_(a,b),w)),n.setParent(e,t.parent(e))}),r.forEach(t.edges(),function(e){var a=S(t.edge(e));n.setEdge(e,r.merge({},N,_(a,j),r.pick(a,k)))}),n});n("  runLayout",function(){var e,g;e=t,(g=n)("    makeSpaceForEdgeLabels",function(){var t,n;n=(t=e).graph(),n.ranksep/=2,r.forEach(t.edges(),function(e){var r=t.edge(e);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}),g("    removeSelfEdges",function(){var t;t=e,r.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}),g("    acyclic",function(){a.run(e)}),g("    nestingGraph.run",function(){c.run(e)}),g("    rank",function(){i(m.asNonCompoundGraph(e))}),g("    injectEdgeLabelProxies",function(){var t;t=e,r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),a={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};m.addDummyNode(t,"edge-proxy",a,"_ep")}})}),g("    removeEmptyRanks",function(){u(e)}),g("    nestingGraph.cleanup",function(){c.cleanup(e)}),g("    normalizeRanks",function(){l(e)}),g("    assignRankMinMax",function(){var t,n;t=e,n=0,r.forEach(t.nodes(),function(e){var a=t.node(e);a.borderTop&&(a.minRank=t.node(a.borderTop).rank,a.maxRank=t.node(a.borderBottom).rank,n=r.max(n,a.maxRank))}),t.graph().maxRank=n}),g("    removeEdgeLabelProxies",function(){var t;t=e,r.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}),g("    normalize.run",function(){o.run(e)}),g("    parentDummyChains",function(){s(e)}),g("    addBorderSegments",function(){d(e)}),g("    order",function(){f(e)}),g("    insertSelfEdges",function(){var t,n;t=e,n=m.buildLayerMatrix(t),r.forEach(n,function(e){var n=0;r.forEach(e,function(e,a){var o=t.node(e);o.order=a+n,r.forEach(o.selfEdges,function(e){m.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:a+ ++n,e:e.e,label:e.label},"_se")}),delete o.selfEdges})})}),g("    adjustCoordinateSystem",function(){h.adjust(e)}),g("    position",function(){p(e)}),g("    positionSelfEdges",function(){var t;t=e,r.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),a=r.x+r.width/2,o=r.y,i=n.x-a,l=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:a+2*i/3,y:o-l},{x:a+5*i/6,y:o-l},{x:a+i,y:o},{x:a+5*i/6,y:o+l},{x:a+2*i/3,y:o+l}],n.label.x=n.x,n.label.y=n.y}})}),g("    removeBorderNodes",function(){var t;t=e,r.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),a=t.node(n.borderTop),o=t.node(n.borderBottom),i=t.node(r.last(n.borderLeft)),l=t.node(r.last(n.borderRight));n.width=Math.abs(l.x-i.x),n.height=Math.abs(o.y-a.y),n.x=i.x+n.width/2,n.y=a.y+n.height/2}}),r.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}),g("    normalize.undo",function(){o.undo(e)}),g("    fixupEdgeLabelCoords",function(){var t;t=e,r.forEach(t.edges(),function(e){var n=t.edge(e);if(r.has(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}),g("    undoCoordinateSystem",function(){h.undo(e)}),g("    translateGraph",function(){!function(e){var t=1/0,n=0,a=1/0,o=0,i=e.graph(),l=i.marginx||0,s=i.marginy||0;function u(e){var r=e.x,i=e.y,l=e.width,s=e.height;t=Math.min(t,r-l/2),n=Math.max(n,r+l/2),a=Math.min(a,i-s/2),o=Math.max(o,i+s/2)}r.forEach(e.nodes(),function(t){u(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.has(n,"x")&&u(n)}),t-=l,a-=s,r.forEach(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=a}),r.forEach(e.edges(),function(n){var o=e.edge(n);r.forEach(o.points,function(e){e.x-=t,e.y-=a}),r.has(o,"x")&&(o.x-=t),r.has(o,"y")&&(o.y-=a)}),i.width=n-t+l,i.height=o-a+s}(e)}),g("    assignNodeIntersects",function(){var t;t=e,r.forEach(t.edges(),function(e){var n,r,a=t.edge(e),o=t.node(e.v),i=t.node(e.w);a.points?(n=a.points[0],r=a.points[a.points.length-1]):(a.points=[],n=i,r=o),a.points.unshift(m.intersectRect(o,n)),a.points.push(m.intersectRect(i,r))})}),g("    reversePoints",function(){var t;t=e,r.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}),g("    acyclic.undo",function(){a.undo(e)})}),n("  updateInputGraph",function(){var n,a;n=e,a=t,r.forEach(n.nodes(),function(e){var t=n.node(e),r=a.node(e);t&&(t.x=r.x,t.y=r.y,a.children(e).length&&(t.width=r.width,t.height=r.height))}),r.forEach(n.edges(),function(e){var t=n.edge(e),o=a.edge(e);t.points=o.points,r.has(o,"x")&&(t.x=o.x,t.y=o.y)}),n.graph().width=a.graph().width,n.graph().height=a.graph().height})})};var y=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},v=["acyclicer","ranker","rankdir","align"],b=["width","height"],w={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function _(e,t){return r.mapValues(r.pick(e,t),Number)}function S(e){var t={};return r.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}},15400,(e,t,n)=>{var r=e.r(11994),a=e.r(80897),o=e.r(40576).Graph;t.exports={debugOrdering:function(e){var t=a.buildLayerMatrix(e),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),r.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),r.forEach(t,function(e,t){n.setNode("layer"+t,{rank:"same"}),r.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}}},51581,(e,t,n)=>{t.exports="0.8.5"},39669,(e,t,n)=>{t.exports={graphlib:e.r(40576),layout:e.r(77040),debug:e.r(15400),util:{time:e.r(80897).time,notime:e.r(80897).notime},version:e.r(51581)}},47527,e=>{"use strict";e.s(["default",()=>o9],47527);var t,n,r,a,o,i,l,s,u=e.i(43476),c=e.i(71645);e.i(47167);var d=e.i(81949);let h="http://hrmsbe.logikasistembisnis.id",f=async()=>(await d.default.get("".concat(h,"/company"))).data,p=async e=>(await d.default.put("".concat(h,"/company"),e,{headers:{"Content-Type":"application/json"}})).data,m=async(e,t)=>(await d.default.post("".concat(h,"/company/").concat(e,"/details"),t,{headers:{"Content-Type":"multipart/form-data"}})).data,g=async e=>(await d.default.put("".concat(h,"/company/companydesign"),e,{headers:{"Content-Type":"application/json"}})).data,y=async e=>(await d.default.delete("".concat(h,"/company/").concat(e))).data,x=async()=>(await d.default.get("".concat("http://hrmsbe.logikasistembisnis.id","/country"))).data;var v=e.i(10500);let b={tenantid:1,name:"",description:null,holdingflag:null,holdingcompanyid:null,active:!0};function w(e){let{onNextStep:t}=e,[n,r]=(0,c.useState)([]),[a,o]=(0,c.useState)([]),[i,l]=(0,c.useState)([]),[s,d]=(0,c.useState)(null),[h,m]=(0,c.useState)(""),[g,w]=(0,c.useState)(!1),[j,N]=(0,c.useState)(!0),[k,_]=(0,c.useState)(null),[S,E]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{N(!0),_(null);try{var e,t,n;let a=await Promise.allSettled([f(),x(),(0,v.getTenantbyid)(1)]),[i,s,u]=a,c=[];if("fulfilled"===i.status&&(null==(e=i.value)?void 0:e.data))c=(i.value.data||[]).sort((e,t)=>t.companyid-e.companyid);else{let e=localStorage.getItem("companiesFromAPI");c=e?JSON.parse(e):[]}r(c),localStorage.setItem("companiesFromAPI",JSON.stringify(c));let h=[];if("fulfilled"===s.status&&(null==(t=s.value)?void 0:t.data))h=s.value.data||[];else{let e=localStorage.getItem("countries");h=e?JSON.parse(e):[]}if(l(h),"fulfilled"===u.status&&(null==(n=u.value)?void 0:n.data)){let e=u.value.data;e?(d(e),m(!0===e.holdingflag?"Ya":!1===e.holdingflag?"Tidak":"")):(d(null),m(""))}else d(null),m("");let p=localStorage.getItem("localCompanies");o(p?JSON.parse(p):[]),a.every(e=>"rejected"===e.status)&&_("Gagal memuat data perusahaan/tenant (semua request gagal).")}catch(e){console.error("Unexpected error saat fetchData:",e),_("Gagal memuat data perusahaan/tenant (kesalahan tidak terduga).")}finally{N(!1)}})()},[]);let C=async(e,t)=>{if(confirm("Apakah Anda yakin ingin menghapus perusahaan ini?"))try{if("api"===t){await y(e);let t=n.filter(t=>t.companyid!==e);r(t),localStorage.setItem("companiesFromAPI",JSON.stringify(t))}else{let t=a.filter(t=>t.companyid!==e);o(t),localStorage.setItem("localCompanies",JSON.stringify(t))}}catch(e){alert(e instanceof Error?e.message:"Gagal menghapus perusahaan")}},M=(e,t,n)=>{let r=a.map(r=>r.companyid===e?"name"===t?{...r,name:n}:{...r,country:{name:n}}:r);o(r),localStorage.setItem("localCompanies",JSON.stringify(r))},A=(e,t,a)=>{let o=n.map(n=>n.companyid===e?"name"===t?{...n,name:a}:{...n,country:{name:a}}:n);r(o),localStorage.setItem("companiesFromAPI",JSON.stringify(o))},P=[...a,...n],O=async()=>{if(E([]),!(()=>{let e=[];if(0===P.length&&e.push("Anda harus menambahkan minimal satu perusahaan (PT)."),P.forEach((t,n)=>{var r;t.name&&""!==t.name.trim()||e.push("Nama perusahaan (PT) pada baris ".concat(n+1," wajib diisi.")),(null==(r=t.country)?void 0:r.name)&&""!==t.country.name.trim()||e.push("Negara perusahaan pada baris ".concat(n+1," wajib dipilih."))}),""===h&&e.push("Silakan pilih apakah perusahaan memiliki holding company (Ya/Tidak)."),"Ya"===h){let t=null==s?void 0:s.holdingcompanyid;(null==t||0===t)&&e.push("Anda memilih 'Ya' untuk holding  wajib pilih nama perusahaan holding.")}return E(e),0===e.length})())return void window.scrollTo({top:0,behavior:"smooth"});try{w(!0);let n=P.map(e=>{var t;let n=i.find(t=>{var n;return t.name===(null==(n=e.country)?void 0:n.name)});return{companyid:e.companyid>0?e.companyid:void 0,name:e.name,countryid:null!=(t=null==n?void 0:n.countryid)?t:null,tenantid:1}}),a=((await p(n)).results||[]).map(e=>e.data),l=null;if("Ya"===h){var e;let t=null!=(e=null==s?void 0:s.holdingcompanyid)?e:null;if(t)if(t>0)l=t;else{let e=P.find(e=>e.companyid===t);if(e){let t=a.find(t=>t.name.trim().toLowerCase()===e.name.trim().toLowerCase());if(t)l=t.companyid;else throw Error("Gagal menyimpan holding: Perusahaan '".concat(e.name,"' tidak ditemukan di respon server."))}}}let u={...null!=s?s:b,tenantid:1,holdingflag:"Ya"===h,holdingcompanyid:l,active:!0};try{await (0,v.saveTenant)([u])}catch(e){throw console.error("Gagal update tenant:",e),Error("Data perusahaan tersimpan, tetapi gagal update status holding.")}alert("Data perusahaan dan tenant berhasil disimpan!");let c=a.filter(e=>e&&e.companyid>0).sort((e,t)=>t.companyid-e.companyid);r(c),localStorage.setItem("companiesFromAPI",JSON.stringify(c)),o([]),localStorage.removeItem("localCompanies"),t()}catch(e){console.error(e),alert(e instanceof Error?e.message:"Gagal menyimpan data perusahaan atau tenant")}finally{w(!1)}};return j?(0,u.jsx)("p",{className:"p-6",children:"Loading data perusahaan..."}):k?(0,u.jsx)("p",{className:"p-6 text-red-500",children:k}):(0,u.jsxs)("div",{children:[S.length>0&&(0,u.jsxs)("div",{className:"p-4 mb-4 bg-red-50 border border-red-200 rounded",children:[(0,u.jsx)("strong",{className:"text-red-700",children:"Perbaiki kesalahan berikut:"}),(0,u.jsx)("ul",{className:"mt-2 list-disc list-inside text-sm text-red-600",children:S.map((e,t)=>(0,u.jsx)("li",{children:e},t))})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Informasi Perusahaan"}),(0,u.jsx)("p",{className:"font-medium text-lg mb-3",children:"1. Sebutkan nama perusahaan dan negara tempat beroperasi"}),(0,u.jsx)("button",{onClick:()=>{let e=[{companyid:-(Math.floor(1e5*Math.random())+1),name:"",country:{name:""}},...a];o(e),localStorage.setItem("localCompanies",JSON.stringify(e))},className:"flex items-center gap-2 mb-4 px-4 py-2 bg-[#0c356a] text-white rounded-full cursor-pointer",children:"Tambah"}),(0,u.jsxs)("div",{className:"space-y-3",children:[a.map(e=>{var t;return(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("input",{type:"text",placeholder:"Nama perusahaan",value:e.name,onChange:t=>M(e.companyid,"name",t.target.value),className:"py-2 px-3 flex-1 min-w-[150px] bg-gray-100 rounded-lg"}),(0,u.jsxs)("select",{value:(null==(t=e.country)?void 0:t.name)||"",onChange:t=>M(e.companyid,"country",t.target.value),className:"py-2 px-3 flex-1 min-w-[180px] bg-gray-100 rounded-lg",children:[(0,u.jsx)("option",{value:"",children:"Pilih Negara"}),i.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.countryid))]}),(0,u.jsx)("button",{onClick:()=>C(e.companyid,"local"),className:"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-800",children:"Hapus"})]},e.companyid)}),n.map(e=>{var t;return(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("input",{type:"text",value:e.name||"",onChange:t=>A(e.companyid,"name",t.target.value),className:"py-2 px-3 flex-1 min-w-[150px] bg-gray-100 rounded-lg"}),(0,u.jsxs)("select",{value:(null==(t=e.country)?void 0:t.name)||"",onChange:t=>A(e.companyid,"country",t.target.value),className:"py-2 px-3 flex-1 min-w-[180px] bg-gray-100 rounded-lg",children:[(0,u.jsx)("option",{value:"",children:"Pilih Negara"}),i.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.countryid))]}),(0,u.jsx)("button",{onClick:()=>C(e.companyid,"api"),className:"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-800",children:"Hapus"})]},e.companyid)})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium mb-3",children:"2. Apakah perusahaan anda memiliki holding company?"}),(0,u.jsxs)("select",{className:"border p-2 rounded-md w-full mb-4",value:h,onChange:e=>{let t=e.target.value;m(t),d(e=>{let n=null!=e?e:b;return"Tidak"===t||""===t?{...n,holdingflag:!1,holdingcompanyid:null}:{...n,holdingflag:!0}})},children:[(0,u.jsx)("option",{value:"",children:"Pilih"}),(0,u.jsx)("option",{value:"Ya",children:"Ya"}),(0,u.jsx)("option",{value:"Tidak",children:"Tidak"})]}),(0,u.jsx)("p",{className:"font-medium mb-3",children:"Sebutkan nama perusahaannya"}),(0,u.jsxs)("select",{className:"border p-2 rounded-md w-full",disabled:"Tidak"===h||""===h,value:(null==s?void 0:s.holdingcompanyid)?String(s.holdingcompanyid):"",onChange:e=>{let t=""===e.target.value?null:Number(e.target.value);d(e=>({...null!=e?e:b,holdingcompanyid:t}))},children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),P.map(e=>(0,u.jsx)("option",{value:String(e.companyid),children:e.name||" (Belum diisi)"},e.companyid))]})]})]}),(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsx)("button",{onClick:O,disabled:g,className:"mt-6 py-2 px-6 rounded-full text-white font-semibold ".concat(g?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-800"),children:g?"Menyimpan...":"Simpan & Lanjut"})})]})}function j(e){var t;let{onNextStep:n,onBack:r}=e,[a,o]=(0,c.useState)([]),[i,l]=(0,c.useState)(null),[s,d]=(0,c.useState)({}),[h,p]=(0,c.useState)(null),[g,y]=(0,c.useState)(""),[x,v]=(0,c.useState)(!1),b=async()=>{let e=((await f()).data||[]).sort((e,t)=>e.companyid-t.companyid);if(o(e),i){let t=e.find(e=>e.companyid===i);t&&(d(t),y(t.logo||""))}};(0,c.useEffect)(()=>{b()},[]);let w=(e,t)=>{d(n=>({...n,[e]:t}))},j=async()=>{if(!i)return void alert("Pilih perusahaan terlebih dahulu!");try{v(!0);let e=new FormData;e.append("brandname",s.brandname||""),e.append("entitytype",s.entitytype||""),e.append("noindukberusaha",s.noindukberusaha||""),e.append("npwp",s.npwp||""),e.append("address",s.address||""),e.append("telpno",s.telpno||""),e.append("companyemail",s.companyemail||""),h&&e.append("logo",h),await m(i,e),alert("Data perusahaan berhasil disimpan!"),await b()}catch(e){console.error("Error saving:",e),alert(e instanceof Error?e.message:"Terjadi kesalahan saat menyimpan data.")}finally{v(!1)}},N=!i;return 0===a.length?(0,u.jsx)("p",{className:"p-6 text-gray-600",children:"Memuat data perusahaan..."}):(0,u.jsxs)("div",{className:"p-6 w-full mx-auto",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"3. Masukkan informasi detail perusahaan"}),(0,u.jsxs)("form",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Nama Legal Perusahaan"}),(0,u.jsxs)("select",{value:i||"",onChange:e=>(e=>{let t=a.find(t=>t.companyid===e);t?(l(t.companyid),d(t),y(t.logo||""),p(null)):(l(null),d({}),p(null),y(""))})(Number(e.target.value)),className:"col-span-2 border border-gray-300 rounded-md p-2 bg-blue-50 focus:ring-2 focus:ring-blue-400 w-full",children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),a.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name},e.companyid))]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Terdaftar di Negara"}),(0,u.jsx)("input",{type:"text",value:(null==(t=s.country)?void 0:t.name)||"",disabled:!0,className:"col-span-2 border border-gray-300 rounded-md p-2 bg-gray-200 w-full"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Nama Brand/Komersial (jika berbeda)"}),(0,u.jsx)("input",{type:"text",value:s.brandname||"",onChange:e=>w("brandname",e.target.value),disabled:N,placeholder:"Nama Brand",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(N?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Tipe Entitas Hukum (PT, CV, Yayasan, dll.)"}),(0,u.jsx)("input",{type:"text",value:s.entitytype||"",onChange:e=>w("entitytype",e.target.value),disabled:N,placeholder:"PT / CV / dll",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(N?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Nomor Induk Berusaha (NIB)"}),(0,u.jsx)("input",{type:"text",value:s.noindukberusaha||"",onChange:e=>w("noindukberusaha",e.target.value),disabled:N,placeholder:"Nomor Induk Berusaha",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(N?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"NPWP"}),(0,u.jsx)("input",{type:"text",value:s.npwp||"",onChange:e=>w("npwp",e.target.value),disabled:N,placeholder:"NPWP",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(N?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Alamat Kantor Pusat"}),(0,u.jsx)("input",{type:"text",value:s.address||"",onChange:e=>w("address",e.target.value),disabled:N,placeholder:"Alamat",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(N?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Nomor Telepon & Email Resmi"}),(0,u.jsxs)("div",{className:"col-span-2 flex gap-3",children:[(0,u.jsx)("input",{type:"text",value:s.telpno||"",onChange:e=>w("telpno",e.target.value),disabled:N,placeholder:"Telepon",className:"w-1/2 border border-gray-300 rounded-md p-2 ".concat(N?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")}),(0,u.jsx)("input",{type:"email",value:s.companyemail||"",onChange:e=>w("companyemail",e.target.value),disabled:N,placeholder:"Email",className:"w-1/2 border border-gray-300 rounded-md p-2 ".concat(N?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Logo"}),(0,u.jsxs)("div",{className:"col-span-2 flex items-center gap-3",children:[(0,u.jsxs)("label",{className:"relative cursor-pointer ".concat(N?"opacity-60 cursor-not-allowed":""),children:[(0,u.jsx)("div",{className:"".concat(N?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"," text-white px-4 py-2 rounded-md text-sm"),children:"Upload"}),(0,u.jsx)("input",{type:"file",accept:"image/*",disabled:N,className:"absolute inset-0 opacity-0 cursor-pointer",onChange:e=>{var t;let n=(null==(t=e.target.files)?void 0:t[0])||null;p(n),y(n?n.name:"")}})]}),g?(0,u.jsx)("span",{className:"text-sm text-gray-800",children:g}):(0,u.jsx)("span",{className:"text-gray-400 italic text-sm",children:"Belum ada logo"})]})]})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:r,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:j,disabled:x||N,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(x||N?"opacity-70 cursor-not-allowed":""),children:x?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:n,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}function N(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)""!==(r=N(e[n]))&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var k=e.i(30224);let _={get url(){return`file://${e.P("node_modules/zustand/esm/vanilla.mjs")}`}},S=e=>{let t,n=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,o={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{(_.env?_.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(r,a,o);return o},{useDebugValue:E}=c.default,{useSyncExternalStoreWithSelector:C}=k.default,M=e=>e;function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M,n=arguments.length>2?arguments[2]:void 0,r=C(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return E(r),r}let P=(e,t)=>{let n=(e=>e?S(e):S)(e),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return A(n,e,r)};return Object.assign(r,n),r};function O(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var I={value:()=>{}};function T(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new D(r)}function D(e){this._=e}function z(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=I,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function R(){}function L(e){return null==e?R:function(){return this.querySelector(e)}}function B(){return[]}function F(e){return null==e?B:function(){return this.querySelectorAll(e)}}function H(e){return function(){return this.matches(e)}}function K(e){return function(t){return t.matches(e)}}D.prototype=T.prototype={constructor:D,on:function(e,t){var n,r=this._,a=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),o=-1,i=a.length;if(arguments.length<2){for(;++o<i;)if((n=(e=a[o]).type)&&(n=function(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++o<i;)if(n=(e=a[o]).type)r[n]=z(r[n],e.name,t);else if(null==t)for(n in r)r[n]=z(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new D(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=Array(n),o=0;o<n;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};var G=Array.prototype.find;function U(){return this.firstElementChild}var V=Array.prototype.filter;function Y(){return Array.from(this.children)}function J(e){return Array(e.length)}function X(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function q(e,t,n,r,a,o){for(var i,l=0,s=t.length,u=o.length;l<u;++l)(i=t[l])?(i.__data__=o[l],r[l]=i):n[l]=new X(e,o[l]);for(;l<s;++l)(i=t[l])&&(a[l]=i)}function W(e,t,n,r,a,o,i){var l,s,u,c=new Map,d=t.length,h=o.length,f=Array(d);for(l=0;l<d;++l)(s=t[l])&&(f[l]=u=i.call(s,s.__data__,l,t)+"",c.has(u)?a[l]=s:c.set(u,s));for(l=0;l<h;++l)u=i.call(e,o[l],l,o)+"",(s=c.get(u))?(r[l]=s,s.__data__=o[l],c.delete(u)):n[l]=new X(e,o[l]);for(l=0;l<d;++l)(s=t[l])&&c.get(f[l])===s&&(a[l]=s)}function Z(e){return e.__data__}function $(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}X.prototype={constructor:X,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Q="http://www.w3.org/1999/xhtml";let ee={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function et(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ee.hasOwnProperty(t)?{space:ee[t],local:e}:e}function en(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function er(e,t){return e.style.getPropertyValue(t)||en(e).getComputedStyle(e,null).getPropertyValue(t)}function ea(e){return e.trim().split(/^|\s+/)}function eo(e){return e.classList||new ei(e)}function ei(e){this._node=e,this._names=ea(e.getAttribute("class")||"")}function el(e,t){for(var n=eo(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function es(e,t){for(var n=eo(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function eu(){this.textContent=""}function ec(){this.innerHTML=""}function ed(){this.nextSibling&&this.parentNode.appendChild(this)}function eh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ef(e){var t=et(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Q&&t.documentElement.namespaceURI===Q?t.createElement(e):t.createElementNS(n,e)}})(t)}function ep(){return null}function em(){var e=this.parentNode;e&&e.removeChild(this)}function eg(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ey(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ex(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,o=t.length;r<o;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?t.length=a:delete this.__on}}}function ev(e,t,n){return function(){var r,a=this.__on,o=function(e){t.call(this,e,this.__data__)};if(a){for(var i=0,l=a.length;i<l;++i)if((r=a[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},a?a.push(r):this.__on=[r]}}function eb(e,t,n){var r=en(e),a=r.CustomEvent;"function"==typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}ei.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ew=[null];function ej(e,t){this._groups=e,this._parents=t}function eN(){return new ej([[document.documentElement]],ew)}function ek(e){return"string"==typeof e?new ej([[document.querySelector(e)]],[document.documentElement]):new ej([[e]],ew)}ej.prototype=eN.prototype={constructor:ej,select:function(e){"function"!=typeof e&&(e=L(e));for(var t=this._groups,n=t.length,r=Array(n),a=0;a<n;++a)for(var o,i,l=t[a],s=l.length,u=r[a]=Array(s),c=0;c<s;++c)(o=l[c])&&(i=e.call(o,o.__data__,c,l))&&("__data__"in o&&(i.__data__=o.__data__),u[c]=i);return new ej(r,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=F(e);for(var n=this._groups,r=n.length,a=[],o=[],i=0;i<r;++i)for(var l,s=n[i],u=s.length,c=0;c<u;++c)(l=s[c])&&(a.push(e.call(l,l.__data__,c,s)),o.push(l));return new ej(a,o)},selectChild:function(e){var t;return this.select(null==e?U:(t="function"==typeof e?e:K(e),function(){return G.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?Y:(t="function"==typeof e?e:K(e),function(){return V.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=H(e));for(var t=this._groups,n=t.length,r=Array(n),a=0;a<n;++a)for(var o,i=t[a],l=i.length,s=r[a]=[],u=0;u<l;++u)(o=i[u])&&e.call(o,o.__data__,u,i)&&s.push(o);return new ej(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Z);var n=t?W:q,r=this._parents,a=this._groups;"function"!=typeof e&&(x=e,e=function(){return x});for(var o=a.length,i=Array(o),l=Array(o),s=Array(o),u=0;u<o;++u){var c=r[u],d=a[u],h=d.length,f="object"==typeof(y=e.call(c,c&&c.__data__,u,r))&&"length"in y?y:Array.from(y),p=f.length,m=l[u]=Array(p),g=i[u]=Array(p);n(c,d,m,g,s[u]=Array(h),f,t);for(var y,x,v,b,w=0,j=0;w<p;++w)if(v=m[w]){for(w>=j&&(j=w+1);!(b=g[j])&&++j<p;);v._next=b||null}}return(i=new ej(i,r))._enter=l,i._exit=s,i},enter:function(){return new ej(this._enter||this._groups.map(J),this._parents)},exit:function(){return new ej(this._exit||this._groups.map(J),this._parents)},join:function(e,t,n){var r=this.enter(),a=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(a=t(a))&&(a=a.selection()),null==n?o.remove():n(o),r&&a?r.merge(a).order():a},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,i=Math.min(a,o),l=Array(a),s=0;s<i;++s)for(var u,c=n[s],d=r[s],h=c.length,f=l[s]=Array(h),p=0;p<h;++p)(u=c[p]||d[p])&&(f[p]=u);for(;s<a;++s)l[s]=n[s];return new ej(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],o=a.length-1,i=a[o];--o>=0;)(r=a[o])&&(i&&4^r.compareDocumentPosition(i)&&i.parentNode.insertBefore(r,i),i=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=$);for(var n=this._groups,r=n.length,a=Array(r),o=0;o<r;++o){for(var i,l=n[o],s=l.length,u=a[o]=Array(s),c=0;c<s;++c)(i=l[c])&&(u[c]=i);u.sort(t)}return new ej(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,o=t[n],i=0,l=o.length;i<l;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this},attr:function(e,t){var n=et(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):er(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=ea(e+"");if(arguments.length<2){for(var r=eo(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?el:es)(this,e)}}:t?function(e){return function(){el(this,e)}}:function(e){return function(){es(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?eu:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ec:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(ed)},lower:function(){return this.each(eh)},append:function(e){var t="function"==typeof e?e:ef(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:ef(e),r=null==t?ep:"function"==typeof t?t:L(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(em)},clone:function(e){return this.select(e?ey:eg)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),i=o.length;if(arguments.length<2){var l=this.node().__on;if(l){for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<i;++r)if((a=o[r]).type===s.type&&a.name===s.name)return s.value}return}for(r=0,l=t?ev:ex;r<i;++r)this.each(l(o[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return eb(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return eb(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,a=e[t],o=0,i=a.length;o<i;++o)(r=a[o])&&(yield r)}};let e_={passive:!1},eS={capture:!0,passive:!1};function eE(e){e.stopImmediatePropagation()}function eC(e){e.preventDefault(),e.stopImmediatePropagation()}function eM(e){var t=e.document.documentElement,n=ek(e).on("dragstart.drag",eC,eS);"onselectstart"in t?n.on("selectstart.drag",eC,eS):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function eA(e,t){var n=e.document.documentElement,r=ek(e).on("dragstart.drag",null);t&&(r.on("click.drag",eC,eS),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function eP(e){return((e=Math.exp(e))+1/e)/2}let eO=function e(t,n,r){function a(e,a){var o,i,l=e[0],s=e[1],u=e[2],c=a[0],d=a[1],h=a[2],f=c-l,p=d-s,m=f*f+p*p;if(m<1e-12)i=Math.log(h/u)/t,o=function(e){return[l+e*f,s+e*p,u*Math.exp(t*e*i)]};else{var g=Math.sqrt(m),y=(h*h-u*u+r*m)/(2*u*n*g),x=(h*h-u*u-r*m)/(2*h*n*g),v=Math.log(Math.sqrt(y*y+1)-y);i=(Math.log(Math.sqrt(x*x+1)-x)-v)/t,o=function(e){var r,a,o=e*i,c=eP(v),d=u/(n*g)*(c*(((r=Math.exp(2*(r=t*o+v)))-1)/(r+1))-((a=Math.exp(a=v))-1/a)/2);return[l+d*f,s+d*p,u*c/eP(t*o+v)]}}return o.duration=1e3*i*t/Math.SQRT2,o}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);function eI(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var eT,eD,ez=0,eR=0,eL=0,eB=0,eF=0,eH=0,eK="object"==typeof performance&&performance.now?performance:Date,eG="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function eU(){return eF||(eG(eV),eF=eK.now()+eH)}function eV(){eF=0}function eY(){this._call=this._time=this._next=null}function eJ(e,t,n){var r=new eY;return r.restart(e,t,n),r}function eX(){eF=(eB=eK.now())+eH,ez=eR=0;try{eU(),++ez;for(var e,t=eT;t;)(e=eF-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ez}finally{ez=0,function(){for(var e,t,n=eT,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:eT=t);eD=e,eW(r)}(),eF=0}}function eq(){var e=eK.now(),t=e-eB;t>1e3&&(eH-=t,eB=e)}function eW(e){!ez&&(eR&&(eR=clearTimeout(eR)),e-eF>24?(e<1/0&&(eR=setTimeout(eX,e-eK.now()-eH)),eL&&(eL=clearInterval(eL))):(eL||(eB=eK.now(),eL=setInterval(eq,1e3)),ez=1,eG(eX)))}function eZ(e,t,n){var r=new eY;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}eY.prototype=eJ.prototype={constructor:eY,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?eU():+n)+(null==t?0:+t),this._next||eD===this||(eD?eD._next=this:eT=this,eD=this),this._call=e,this._time=n,eW()},stop:function(){this._call&&(this._call=null,this._time=1/0,eW())}};var e$=T("start","end","cancel","interrupt"),eQ=[];function e0(e,t,n,r,a,o){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var r,a=e.__transition;function o(s){var u,c,d,h;if(1!==n.state)return l();for(u in a)if((h=a[u]).name===n.name){if(3===h.state)return eZ(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete a[u]):+u<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete a[u])}if(eZ(function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(s))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(u=0,n.state=3,r=Array(d=n.tween.length),c=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function i(t){for(var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,i=r.length;++o<i;)r[o].call(e,a);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=eJ(function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:a,on:e$,tween:eQ,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function e1(e,t){var n=e3(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function e2(e,t){var n=e3(e,t);if(n.state>3)throw Error("too late; already running");return n}function e3(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function e5(e,t){var n,r,a,o=e.__transition,i=!0;if(o){for(a in t=null==t?null:t+"",o){if((n=o[a]).name!==t){i=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[a]}i&&delete e.__transition}}function e4(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}var e6=180/Math.PI,e7={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function e9(e,t,n,r,a,o){var i,l,s;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*e6,skewX:Math.atan(s)*e6,scaleX:i,scaleY:l}}function e8(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(o,i){var l,s,u,c,d=[],h=[];return o=e(o),i=e(i),!function(e,r,a,o,i,l){if(e!==a||r!==o){var s=i.push("translate(",null,t,null,n);l.push({i:s-4,x:e4(e,a)},{i:s-2,x:e4(r,o)})}else(a||o)&&i.push("translate("+a+t+o+n)}(o.translateX,o.translateY,i.translateX,i.translateY,d,h),l=o.rotate,s=i.rotate,l!==s?(l-s>180?s+=360:s-l>180&&(l+=360),h.push({i:d.push(a(d)+"rotate(",null,r)-2,x:e4(l,s)})):s&&d.push(a(d)+"rotate("+s+r),u=o.skewX,c=i.skewX,u!==c?h.push({i:d.push(a(d)+"skewX(",null,r)-2,x:e4(u,c)}):c&&d.push(a(d)+"skewX("+c+r),!function(e,t,n,r,o,i){if(e!==n||t!==r){var l=o.push(a(o)+"scale(",null,",",null,")");i.push({i:l-4,x:e4(e,n)},{i:l-2,x:e4(t,r)})}else(1!==n||1!==r)&&o.push(a(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,i.scaleX,i.scaleY,d,h),o=i=null,function(e){for(var t,n=-1,r=h.length;++n<r;)d[(t=h[n]).i]=t.x(e);return d.join("")}}}var te=e8(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?e7:e9(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),tt=e8(function(e){return null==e?e7:(t||(t=document.createElementNS("http://www.w3.org/2000/svg","g")),t.setAttribute("transform",e),e=t.transform.baseVal.consolidate())?e9((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):e7},", ",")",")");function tn(e,t,n){var r=e._id;return e.each(function(){var e=e2(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return e3(e,r).value[t]}}function tr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ta(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function to(){}var ti="\\s*([+-]?\\d+)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tu=/^#([0-9a-f]{3,8})$/,tc=new RegExp("^rgb\\(".concat(ti,",").concat(ti,",").concat(ti,"\\)$")),td=new RegExp("^rgb\\(".concat(ts,",").concat(ts,",").concat(ts,"\\)$")),th=new RegExp("^rgba\\(".concat(ti,",").concat(ti,",").concat(ti,",").concat(tl,"\\)$")),tf=new RegExp("^rgba\\(".concat(ts,",").concat(ts,",").concat(ts,",").concat(tl,"\\)$")),tp=new RegExp("^hsl\\(".concat(tl,",").concat(ts,",").concat(ts,"\\)$")),tm=new RegExp("^hsla\\(".concat(tl,",").concat(ts,",").concat(ts,",").concat(tl,"\\)$")),tg={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function ty(){return this.rgb().formatHex()}function tx(){return this.rgb().formatRgb()}function tv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?tb(t):3===n?new tN(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?tw(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?tw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=tc.exec(e))?new tN(t[1],t[2],t[3],1):(t=td.exec(e))?new tN(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=th.exec(e))?tw(t[1],t[2],t[3],t[4]):(t=tf.exec(e))?tw(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=tp.exec(e))?tM(t[1],t[2]/100,t[3]/100,1):(t=tm.exec(e))?tM(t[1],t[2]/100,t[3]/100,t[4]):tg.hasOwnProperty(e)?tb(tg[e]):"transparent"===e?new tN(NaN,NaN,NaN,0):null}function tb(e){return new tN(e>>16&255,e>>8&255,255&e,1)}function tw(e,t,n,r){return r<=0&&(e=t=n=NaN),new tN(e,t,n,r)}function tj(e,t,n,r){var a;return 1==arguments.length?((a=e)instanceof to||(a=tv(a)),a)?new tN((a=a.rgb()).r,a.g,a.b,a.opacity):new tN:new tN(e,t,n,null==r?1:r)}function tN(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function tk(){return"#".concat(tC(this.r)).concat(tC(this.g)).concat(tC(this.b))}function t_(){let e=tS(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(tE(this.r),", ").concat(tE(this.g),", ").concat(tE(this.b)).concat(1===e?")":", ".concat(e,")"))}function tS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tE(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tC(e){return((e=tE(e))<16?"0":"")+e.toString(16)}function tM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tP(e,t,n,r)}function tA(e){if(e instanceof tP)return new tP(e.h,e.s,e.l,e.opacity);if(e instanceof to||(e=tv(e)),!e)return new tP;if(e instanceof tP)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,l=o-a,s=(o+a)/2;return l?(i=t===o?(n-r)/l+(n<r)*6:n===o?(r-t)/l+2:(t-n)/l+4,l/=s<.5?o+a:2-o-a,i*=60):l=s>0&&s<1?0:i,new tP(i,l,s,e.opacity)}function tP(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tO(e){return(e=(e||0)%360)<0?e+360:e}function tI(e){return Math.max(0,Math.min(1,e||0))}function tT(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function tD(e,t,n,r,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*a)/6}tr(to,tv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ty,formatHex:ty,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tA(this).formatHsl()},formatRgb:tx,toString:tx}),tr(tN,tj,ta(to,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tN(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tN(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tN(tE(this.r),tE(this.g),tE(this.b),tS(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tk,formatHex:tk,formatHex8:function(){return"#".concat(tC(this.r)).concat(tC(this.g)).concat(tC(this.b)).concat(tC((isNaN(this.opacity)?1:this.opacity)*255))},formatRgb:t_,toString:t_})),tr(tP,function(e,t,n,r){return 1==arguments.length?tA(e):new tP(e,t,n,null==r?1:r)},ta(to,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tP(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tP(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new tN(tT(e>=240?e-240:e+120,a,r),tT(e,a,r),tT(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new tP(tO(this.h),tI(this.s),tI(this.l),tS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=tS(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(tO(this.h),", ").concat(100*tI(this.s),"%, ").concat(100*tI(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));let tz=e=>()=>e;function tR(e,t){var n=t-e;return n?function(t){return e+t*n}:tz(isNaN(e)?t:e)}let tL=function e(t){var n,r=1==(n=+t)?tR:function(e,t){var r,a,o;return t-e?(r=e,a=t,r=Math.pow(r,o=n),a=Math.pow(a,o)-r,o=1/o,function(e){return Math.pow(r+e*a,o)}):tz(isNaN(e)?t:e)};function a(e,t){var n=r((e=tj(e)).r,(t=tj(t)).r),a=r(e.g,t.g),o=r(e.b,t.b),i=tR(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=o(t),e.opacity=i(t),e+""}}return a.gamma=e,a}(1);function tB(e){return function(t){var n,r,a=t.length,o=Array(a),i=Array(a),l=Array(a);for(n=0;n<a;++n)r=tj(t[n]),o[n]=r.r||0,i[n]=r.g||0,l[n]=r.b||0;return o=e(o),i=e(i),l=e(l),r.opacity=1,function(e){return r.r=o(e),r.g=i(e),r.b=l(e),r+""}}}tB(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],i=r>0?e[r-1]:2*a-o,l=r<t-1?e[r+2]:2*o-a;return tD((n-r/t)*t,i,a,o,l)}}),tB(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],l=e[(r+2)%t];return tD((n-r/t)*t,a,o,i,l)}});var tF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tH=RegExp(tF.source,"g");function tK(e,t){var n;return("number"==typeof t?e4:t instanceof tv?tL:(n=tv(t))?(t=n,tL):function(e,t){var n,r,a,o,i,l=tF.lastIndex=tH.lastIndex=0,s=-1,u=[],c=[];for(e+="",t+="";(a=tF.exec(e))&&(o=tH.exec(t));)(i=o.index)>l&&(i=t.slice(l,i),u[s]?u[s]+=i:u[++s]=i),(a=a[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,c.push({i:s,x:e4(a,o)})),l=tH.lastIndex;return l<t.length&&(i=t.slice(l),u[s]?u[s]+=i:u[++s]=i),u.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})})(e,t)}var tG=eN.prototype.constructor;function tU(e){return function(){this.style.removeProperty(e)}}var tV=0;function tY(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}var tJ=eN.prototype;tY.prototype=(function(e){return eN().transition(e)}).prototype={constructor:tY,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=L(e));for(var r=this._groups,a=r.length,o=Array(a),i=0;i<a;++i)for(var l,s,u=r[i],c=u.length,d=o[i]=Array(c),h=0;h<c;++h)(l=u[h])&&(s=e.call(l,l.__data__,h,u))&&("__data__"in l&&(s.__data__=l.__data__),d[h]=s,e0(d[h],t,n,h,d,e3(l,n)));return new tY(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=F(e));for(var r=this._groups,a=r.length,o=[],i=[],l=0;l<a;++l)for(var s,u=r[l],c=u.length,d=0;d<c;++d)if(s=u[d]){for(var h,f=e.call(s,s.__data__,d,u),p=e3(s,n),m=0,g=f.length;m<g;++m)(h=f[m])&&e0(h,t,n,m,f,p);o.push(f),i.push(s)}return new tY(o,i,t,n)},selectChild:tJ.selectChild,selectChildren:tJ.selectChildren,filter:function(e){"function"!=typeof e&&(e=H(e));for(var t=this._groups,n=t.length,r=Array(n),a=0;a<n;++a)for(var o,i=t[a],l=i.length,s=r[a]=[],u=0;u<l;++u)(o=i[u])&&e.call(o,o.__data__,u,i)&&s.push(o);return new tY(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=Array(r),l=0;l<o;++l)for(var s,u=t[l],c=n[l],d=u.length,h=i[l]=Array(d),f=0;f<d;++f)(s=u[f]||c[f])&&(h[f]=s);for(;l<r;++l)i[l]=t[l];return new tY(i,this._parents,this._name,this._id)},selection:function(){return new tG(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++tV,r=this._groups,a=r.length,o=0;o<a;++o)for(var i,l=r[o],s=l.length,u=0;u<s;++u)if(i=l[u]){var c=e3(i,t);e0(i,e,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tY(r,this._parents,e,n)},call:tJ.call,nodes:tJ.nodes,node:tJ.node,size:tJ.size,empty:tJ.empty,each:tJ.each,on:function(e,t){var n,r,a,o,i,l,s=this._id;return arguments.length<2?e3(this.node(),s).on.on(e):this.each((n=s,r=e,a=t,l=(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?e1:e2,function(){var e=l(this,n),t=e.on;t!==o&&(i=(o=t).copy()).on(r,a),e.on=i}))},attr:function(e,t){var n=et(e),r="transform"===n?tt:tK;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,a,o;return function(){var i,l,s=n(this);return null==s?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:i===r&&l===a?o:(a=l,o=t(r=i,s))}}:function(e,t,n){var r,a,o;return function(){var i,l,s=n(this);return null==s?void this.removeAttribute(e):(i=this.getAttribute(e))===(l=s+"")?null:i===r&&l===a?o:(a=l,o=t(r=i,s))}})(n,r,tn(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,a,o=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?a:a=t(r=i,n)}}:function(e,t,n){var r,a,o=n+"";return function(){var i=this.getAttribute(e);return i===o?null:i===r?a:a=t(r=i,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=et(e);return this.tween(n,(r.local?function(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t){this.setAttributeNS(e.space,e.local,a.call(this,t))}),n}return a._value=t,a}:function(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t){this.setAttribute(e,a.call(this,t))}),n}return a._value=t,a})(r,t))},style:function(e,t,n){var r,a,o,i,l,s,u,c,d,h,f,p,m,g,y,x,v,b,w,j,N,k="transform"==(e+="")?te:tK;return null==t?this.styleTween(e,(r=e,function(){var e=er(this,r),t=(this.style.removeProperty(r),er(this,r));return e===t?null:e===a&&t===o?i:i=k(a=e,o=t)})).on("end.style."+e,tU(e)):"function"==typeof t?this.styleTween(e,(l=e,s=tn(this,"style."+e,t),function(){var e=er(this,l),t=s(this),n=t+"";return null==t&&(this.style.removeProperty(l),n=t=er(this,l)),e===n?null:e===u&&n===c?d:(c=n,d=k(u=e,t))})).each((h=this._id,v="end."+(x="style."+(f=e)),function(){var e=e2(this,h),t=e.on,n=null==e.value[x]?y||(y=tU(f)):void 0;(t!==p||g!==n)&&(m=(p=t).copy()).on(v,g=n),e.on=m})):this.styleTween(e,(b=e,N=t+"",function(){var e=er(this,b);return e===N?null:e===w?j:j=k(w=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,a;function o(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&function(t){this.style.setProperty(e,o.call(this,t),n)}),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=tn(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return r._value=e,r}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,a=e3(this.node(),n).tween,o=0,i=a.length;o<i;++o)if((r=a[o]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var a=e2(this,e),o=a.tween;if(o!==n){r=n=o;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){(r=r.slice()).splice(i,1);break}}a.tween=r}}:function(e,t,n){var r,a;if("function"!=typeof n)throw Error();return function(){var o=e2(this,e),i=o.tween;if(i!==r){a=(r=i).slice();for(var l={name:t,value:n},s=0,u=a.length;s<u;++s)if(a[s].name===t){a[s]=l;break}s===u&&a.push(l)}o.tween=a}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){e1(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){e1(this,e).delay=t}})(t,e)):e3(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){e2(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){e2(this,e).duration=t}})(t,e)):e3(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){e2(this,e).ease=t}}(t,e)):e3(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();e2(this,t).ease=n}))},end:function(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,i){var l={value:i},s={value:function(){0==--a&&o()}};n.each(function(){var n=e2(this,r),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),n.on=t}),0===a&&o()})},[Symbol.iterator]:tJ[Symbol.iterator]};var tX={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};eN.prototype.interrupt=function(e){return this.each(function(){e5(this,e)})},eN.prototype.transition=function(e){var t,n;e instanceof tY?(t=e._id,e=e._name):(t=++tV,(n=tX).time=eU(),e=null==e?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i,l=r[o],s=l.length,u=0;u<s;++u)(i=l[u])&&e0(i,e,t,u,l,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error("transition ".concat(t," not found"));return n}(i,t));return new tY(r,this._parents,e,t)};let tq=e=>()=>e;function tW(e,t){let{sourceEvent:n,target:r,transform:a,dispatch:o}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function tZ(e,t,n){this.k=e,this.x=t,this.y=n}tZ.prototype={constructor:tZ,scale:function(e){return 1===e?this:new tZ(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tZ(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var t$=new tZ(1,0,0);function tQ(e){e.stopImmediatePropagation()}function t0(e){e.preventDefault(),e.stopImmediatePropagation()}function t1(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function t2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function t3(){return this.__zoom||t$}function t5(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function t4(){return navigator.maxTouchPoints||"ontouchstart"in this}function t6(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}tZ.prototype;let t7=e=>()=>e;function t9(e,t){let{sourceEvent:n,subject:r,target:a,identifier:o,active:i,x:l,y:s,dx:u,dy:c,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}function t8(e){return!e.ctrlKey&&!e.button}function ne(){return this.parentNode}function nt(e,t){return null==t?{x:e.x,y:e.y}:t}function nn(){return navigator.maxTouchPoints||"ontouchstart"in this}t9.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e},e.i(74080);let nr=(0,c.createContext)(null),na=nr.Provider,no={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error003:e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error009:e=>'Marker type "'.concat(e,"\" doesn't exist."),error008:(e,t)=>"Couldn't create edge for ".concat(!e?"source":"target",' handle id: "').concat(!e?t.sourceHandle:t.targetHandle,'", edge id: ').concat(t.id,"."),error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),error012:e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.')},ni=no.error001();function nl(e,t){let n=(0,c.useContext)(nr);if(null===n)throw Error(ni);return A(n,e,t)}let ns=()=>{let e=(0,c.useContext)(nr);if(null===e)throw Error(ni);return(0,c.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},nu=e=>e.userSelectionActive?"none":"all";function nc(e){let{position:t,children:n,className:r,style:a,...o}=e,i=nl(nu),l="".concat(t).split("-");return c.default.createElement("div",{className:N(["react-flow__panel",r,...l]),style:{...a,pointerEvents:i},...o},n)}function nd(e){let{proOptions:t,position:n="bottom-right"}=e;return(null==t?void 0:t.hideAttribution)?null:c.default.createElement(nc,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},c.default.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var nh=(0,c.memo)(e=>{let{x:t,y:n,label:r,labelStyle:a={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:l=[2,4],labelBgBorderRadius:s=2,children:u,className:d,...h}=e,f=(0,c.useRef)(null),[p,m]=(0,c.useState)({x:0,y:0,width:0,height:0}),g=N(["react-flow__edge-textwrapper",d]);return((0,c.useEffect)(()=>{if(f.current){let e=f.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}},[r]),void 0!==r&&r)?c.default.createElement("g",{transform:"translate(".concat(t-p.width/2," ").concat(n-p.height/2,")"),className:g,visibility:p.width?"visible":"hidden",...h},o&&c.default.createElement("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),c.default.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:f,style:a},r),u):null});let nf=e=>({width:e.offsetWidth,height:e.offsetHeight}),np=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},nm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:np(e.x,t[0][0],t[1][0]),y:np(e.y,t[0][1],t[1][1])}},ng=(e,t,n)=>e<t?np(Math.abs(e-t),1,50)/50:e>n?-np(Math.abs(e-n),1,50)/50:0,ny=(e,t)=>[20*ng(e.x,35,t.width-35),20*ng(e.y,35,t.height-35)],nx=e=>{var t,n;return(null==(t=e.getRootNode)?void 0:t.call(e))||(null==(n=window)?void 0:n.document)},nv=e=>{let{x:t,y:n,width:r,height:a}=e;return{x:t,y:n,x2:t+r,y2:n+a}},nb=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),nw=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),nj=e=>!isNaN(e)&&isFinite(e),nN=Symbol.for("internals"),nk=["Enter"," ","Escape"],n_=(e,t)=>{};function nS(e){var t,n;let r="nativeEvent"in e?e.nativeEvent:e,a=(null==(n=r.composedPath)||null==(t=n.call(r))?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null==a?void 0:a.nodeName)||(null==a?void 0:a.hasAttribute("contenteditable"))||!!(null==a?void 0:a.closest(".nokey"))}let nE=(e,t)=>{var n,r,a,o;let i="clientX"in e,l=i?e.clientX:null==(n=e.touches)?void 0:n[0].clientX,s=i?e.clientY:null==(r=e.touches)?void 0:r[0].clientY;return{x:l-(null!=(a=null==t?void 0:t.left)?a:0),y:s-(null!=(o=null==t?void 0:t.top)?o:0)}},nC=()=>{var e,t;return"undefined"!=typeof navigator&&(null==(t=navigator)||null==(e=t.userAgent)?void 0:e.indexOf("Mac"))>=0},nM=e=>{let{id:t,path:n,labelX:r,labelY:a,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m=20}=e;return c.default.createElement(c.default.Fragment,null,c.default.createElement("path",{id:t,style:h,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:p}),m&&c.default.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&nj(r)&&nj(a)?c.default.createElement(nh,{x:r,y:a,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:d}):null)};function nA(e,t,n){return void 0===n?n:r=>{let a=t().edges.find(t=>t.id===e);a&&n(r,{...a})}}function nP(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e,o=Math.abs(r-t)/2,i=Math.abs(a-n)/2;return[r<t?r+o:r-o,a<n?a+i:a-i,o,i]}function nO(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:o,sourceControlY:i,targetControlX:l,targetControlY:s}=e,u=.125*t+.375*o+.375*l+.125*r,c=.125*n+.375*i+.375*s+.125*a,d=Math.abs(u-t),h=Math.abs(c-n);return[u,c,d,h]}function nI(e){let{pos:t,x1:n,y1:r,x2:a,y2:o}=e;return t===l.Left||t===l.Right?[.5*(n+a),r]:[n,.5*(r+o)]}function nT(e){let{sourceX:t,sourceY:n,sourcePosition:r=l.Bottom,targetX:a,targetY:o,targetPosition:i=l.Top}=e,[s,u]=nI({pos:r,x1:t,y1:n,x2:a,y2:o}),[c,d]=nI({pos:i,x1:a,y1:o,x2:t,y2:n}),[h,f,p,m]=nO({sourceX:t,sourceY:n,targetX:a,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(s,",").concat(u," ").concat(c,",").concat(d," ").concat(a,",").concat(o),h,f,p,m]}nM.displayName="BaseEdge",function(e){e.Strict="strict",e.Loose="loose"}(n||(n={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(r||(r={})),function(e){e.Partial="partial",e.Full="full"}(a||(a={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(o||(o={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(i||(i={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(l||(l={}));let nD=(0,c.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:o=l.Bottom,targetPosition:i=l.Top,label:s,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:x}=e,[v,b,w]=nT({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:a,targetPosition:i});return c.default.createElement(nM,{path:v,labelX:b,labelY:w,label:s,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:x})});nD.displayName="SimpleBezierEdge";let nz={[l.Left]:{x:-1,y:0},[l.Right]:{x:1,y:0},[l.Top]:{x:0,y:-1},[l.Bottom]:{x:0,y:1}},nR=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nL(e){let{sourceX:t,sourceY:n,sourcePosition:r=l.Bottom,targetX:a,targetY:o,targetPosition:i=l.Top,borderRadius:s=5,centerX:u,centerY:c,offset:d=20}=e,[h,f,p,m,g]=function(e){let t,n,{source:r,sourcePosition:a=l.Bottom,target:o,targetPosition:i=l.Top,center:s,offset:u}=e,c=nz[a],d=nz[i],h={x:r.x+c.x*u,y:r.y+c.y*u},f={x:o.x+d.x*u,y:o.y+d.y*u},p=(e=>{let{source:t,sourcePosition:n=l.Bottom,target:r}=e;return n===l.Left||n===l.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:h,sourcePosition:a,target:f}),m=0!==p.x?"x":"y",g=p[m],y=[],x={x:0,y:0},v={x:0,y:0},[b,w,j,N]=nP({sourceX:r.x,sourceY:r.y,targetX:o.x,targetY:o.y});if(c[m]*d[m]==-1){var k,_;t=null!=(k=s.x)?k:b,n=null!=(_=s.y)?_:w;let e=[{x:t,y:h.y},{x:t,y:f.y}],r=[{x:h.x,y:n},{x:f.x,y:n}];y=c[m]===g?"x"===m?e:r:"x"===m?r:e}else{let e=[{x:h.x,y:f.y}],l=[{x:f.x,y:h.y}];if(y="x"===m?c.x===g?l:e:c.y===g?e:l,a===i){let e=Math.abs(r[m]-o[m]);if(e<=u){let t=Math.min(u-1,u-e);c[m]===g?x[m]=(h[m]>r[m]?-1:1)*t:v[m]=(f[m]>o[m]?-1:1)*t}}if(a!==i){let t="x"===m?"y":"x",n=c[m]===d[t],r=h[t]>f[t],a=h[t]<f[t];(1===c[m]&&(!n&&r||n&&a)||1!==c[m]&&(!n&&a||n&&r))&&(y="x"===m?e:l)}let s={x:h.x+x.x,y:h.y+x.y},p={x:f.x+v.x,y:f.y+v.y};Math.max(Math.abs(s.x-y[0].x),Math.abs(p.x-y[0].x))>=Math.max(Math.abs(s.y-y[0].y),Math.abs(p.y-y[0].y))?(t=(s.x+p.x)/2,n=y[0].y):(t=y[0].x,n=(s.y+p.y)/2)}return[[r,{x:h.x+x.x,y:h.y+x.y},...y,{x:f.x+v.x,y:f.y+v.y},o],t,n,j,N]}({source:{x:t,y:n},sourcePosition:r,target:{x:a,y:o},targetPosition:i,center:{x:u,y:c},offset:d});return[h.reduce((e,t,n)=>e+(n>0&&n<h.length-1?function(e,t,n,r){let a=Math.min(nR(e,t)/2,nR(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return"L".concat(o," ").concat(i);if(e.y===i){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(o+a*t,",").concat(i,"Q ").concat(o,",").concat(i," ").concat(o,",").concat(i+a*r)}let l=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return"L ".concat(o,",").concat(i+a*s,"Q ").concat(o,",").concat(i," ").concat(o+a*l,",").concat(i)}(h[n-1],t,h[n+1],s):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y)),""),f,p,m,g]}let nB=(0,c.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,sourcePosition:p=l.Bottom,targetPosition:m=l.Top,markerEnd:g,markerStart:y,pathOptions:x,interactionWidth:v}=e,[b,w,j]=nL({sourceX:t,sourceY:n,sourcePosition:p,targetX:r,targetY:a,targetPosition:m,borderRadius:null==x?void 0:x.borderRadius,offset:null==x?void 0:x.offset});return c.default.createElement(nM,{path:b,labelX:w,labelY:j,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:g,markerStart:y,interactionWidth:v})});nB.displayName="SmoothStepEdge";let nF=(0,c.memo)(e=>{var t;return c.default.createElement(nB,{...e,pathOptions:(0,c.useMemo)(()=>{var t;return{borderRadius:0,offset:null==(t=e.pathOptions)?void 0:t.offset}},[null==(t=e.pathOptions)?void 0:t.offset])})});nF.displayName="StepEdge";let nH=(0,c.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m}=e,[g,y,x]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e,[o,i,l,s]=nP({sourceX:t,sourceY:n,targetX:r,targetY:a});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(a),o,i,l,s]}({sourceX:t,sourceY:n,targetX:r,targetY:a});return c.default.createElement(nM,{path:g,labelX:y,labelY:x,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m})});function nK(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function nG(e){let{pos:t,x1:n,y1:r,x2:a,y2:o,c:i}=e;switch(t){case l.Left:return[n-nK(n-a,i),r];case l.Right:return[n+nK(a-n,i),r];case l.Top:return[n,r-nK(r-o,i)];case l.Bottom:return[n,r+nK(o-r,i)]}}function nU(e){let{sourceX:t,sourceY:n,sourcePosition:r=l.Bottom,targetX:a,targetY:o,targetPosition:i=l.Top,curvature:s=.25}=e,[u,c]=nG({pos:r,x1:t,y1:n,x2:a,y2:o,c:s}),[d,h]=nG({pos:i,x1:a,y1:o,x2:t,y2:n,c:s}),[f,p,m,g]=nO({sourceX:t,sourceY:n,targetX:a,targetY:o,sourceControlX:u,sourceControlY:c,targetControlX:d,targetControlY:h});return["M".concat(t,",").concat(n," C").concat(u,",").concat(c," ").concat(d,",").concat(h," ").concat(a,",").concat(o),f,p,m,g]}nH.displayName="StraightEdge";let nV=(0,c.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:o=l.Bottom,targetPosition:i=l.Top,label:s,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,pathOptions:x,interactionWidth:v}=e,[b,w,j]=nU({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:a,targetPosition:i,curvature:null==x?void 0:x.curvature});return c.default.createElement(nM,{path:b,labelX:w,labelY:j,label:s,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:v})});nV.displayName="BezierEdge";let nY=(0,c.createContext)(null),nJ=nY.Provider;nY.Consumer;let nX=(e,t)=>void 0===e?"":"string"==typeof e?e:"".concat(t?"".concat(t,"__"):"").concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&")),nq=(e,t,n,r)=>{let{x:a,y:o}=e,[i,l,s]=t,[u,c]=r,d={x:(a-i)/s,y:(o-l)/s};return n?{x:u*Math.round(d.x/u),y:c*Math.round(d.y/c)}:d},nW=(e,t)=>{let{x:n,y:r}=e,[a,o,i]=t;return{x:n*i+a,y:r*i+o}},nZ=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};let a=(null!=(t=e.width)?t:0)*r[0],o=(null!=(n=e.height)?n:0)*r[1],i={x:e.position.x-a,y:e.position.y-o};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-a,y:e.positionAbsolute.y-o}:i}},n$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return 0===e.length?{x:0,y:0,width:0,height:0}:(e=>{let{x:t,y:n,x2:r,y2:a}=e;return{x:t,y:n,width:r-t,height:a-n}})(e.reduce((e,n)=>{let r,{x:a,y:o}=nZ(n,t).positionAbsolute;return r=nv({x:a,y:o,width:n.width||0,height:n.height||0}),{x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}},{x:1/0,y:1/0,x2:-1/0,y2:-1/0}))},nQ=function(e,t){let[n,r,a]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],s={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(e=>{let{width:t,height:n,selectable:r=!0,hidden:a=!1}=e;if(i&&!r||a)return!1;let{positionAbsolute:c}=nZ(e,l),d=nw(s,{x:c.x,y:c.y,width:t||0,height:n||0}),h=void 0===t||void 0===n||null===t||null===n,f=(t||0)*(n||0);(h||o&&d>0||d>=f||e.dragging)&&u.push(e)}),u},n0=(e,t)=>{let n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},n1=function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,i=np(Math.min(t/(e.width*(1+o)),n/(e.height*(1+o))),r,a),l=e.x+e.width/2;return{x:t/2-l*i,y:n/2-(e.y+e.height/2)*i,zoom:i}},n2=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function n3(e,t,n,r){return(t[n]||[]).reduce((t,a)=>{if("".concat(e.id,"-").concat(a.id,"-").concat(n)!==r){var o,i,l,s;t.push({id:a.id||null,type:n,nodeId:e.id,x:(null!=(l=null==(o=e.positionAbsolute)?void 0:o.x)?l:0)+a.x+a.width/2,y:(null!=(s=null==(i=e.positionAbsolute)?void 0:i.y)?s:0)+a.y+a.height/2})}return t},[])}let n5={source:null,target:null,sourceHandle:null,targetHandle:null},n4=()=>({handleDomNode:null,isValid:!1,connection:n5,endHandle:null});function n6(e,t,r,a,o,i,l){let s="target"===o,u=l.querySelector('.react-flow__handle[data-id="'.concat(null==e?void 0:e.nodeId,"-").concat(null==e?void 0:e.id,"-").concat(null==e?void 0:e.type,'"]')),c={...n4(),handleDomNode:u};if(u){let e=n7(void 0,u),o=u.getAttribute("data-nodeid"),l=u.getAttribute("data-handleid"),d=u.classList.contains("connectable"),h=u.classList.contains("connectableend"),f={source:s?o:r,sourceHandle:s?l:a,target:s?r:o,targetHandle:s?a:l};c.connection=f,d&&h&&(t===n.Strict?s&&"source"===e||!s&&"target"===e:o!==r||l!==a)&&(c.endHandle={nodeId:o,handleId:l,type:e},c.isValid=i(f))}return c}function n7(e,t){return e?e:(null==t?void 0:t.classList.contains("target"))?"target":(null==t?void 0:t.classList.contains("source"))?"source":null}function n9(e){null==e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function n8(e){let t,n,{event:r,handleId:a,nodeId:o,onConnect:i,isTarget:l,getState:s,setState:u,isValidConnection:c,edgeUpdaterType:d,onReconnectEnd:h}=e,f=nx(r.target),{connectionMode:p,domNode:m,autoPanOnConnect:g,connectionRadius:y,onConnectStart:x,panBy:v,getNodes:b,cancelConnection:w}=s(),j=0,{x:N,y:k}=nE(r),_=n7(d,null==f?void 0:f.elementFromPoint(N,k)),S=null==m?void 0:m.getBoundingClientRect();if(!S||!_)return;let E=nE(r,S),C=!1,M=null,A=!1,P=null,O=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:a}=e;return t.reduce((e,t)=>{if(t[nN]){let{handleBounds:o}=t[nN],i=[],l=[];o&&(i=n3(t,o,"source","".concat(n,"-").concat(r,"-").concat(a)),l=n3(t,o,"target","".concat(n,"-").concat(r,"-").concat(a))),e.push(...i,...l)}return e},[])}({nodes:b(),nodeId:o,handleId:a,handleType:_}),I=()=>{if(!g)return;let[e,t]=ny(E,S);v({x:e,y:t}),j=requestAnimationFrame(I)};function T(e){var r,i;let d,{transform:h}=s();E=nE(e,S);let{handle:m,validHandleResult:g}=function(e,t,n,r,a,o){let{x:i,y:l}=nE(e),s=t.elementsFromPoint(i,l).find(e=>e.classList.contains("react-flow__handle"));if(s){let e=s.getAttribute("data-nodeid");if(e){let t=n7(void 0,s),r=s.getAttribute("data-handleid"),i=o({nodeId:e,id:r,type:t});if(i){let o=a.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:(null==o?void 0:o.x)||n.x,y:(null==o?void 0:o.y)||n.y},validHandleResult:i}}}}let u=[],c=1/0;if(a.forEach(e=>{let t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){let n=o(e);t<=c&&(t<c?u=[{handle:e,validHandleResult:n}]:t===c&&u.push({handle:e,validHandleResult:n}),c=t)}}),!u.length)return{handle:null,validHandleResult:n4()};if(1===u.length)return u[0];let d=u.some(e=>{let{validHandleResult:t}=e;return t.isValid}),h=u.some(e=>{let{handle:t}=e;return"target"===t.type});return u.find(e=>{let{handle:t,validHandleResult:n}=e;return h?"target"===t.type:!d||n.isValid})||u[0]}(e,f,nq(E,h,!1,[1,1]),y,O,e=>n6(e,p,o,a,l?"target":"source",c,f));if(t=m,C||(I(),C=!0),P=g.handleDomNode,M=g.connection,A=g.isValid,u({connectionPosition:t&&A?nW({x:t.x,y:t.y},h):E,connectionStatus:(r=!!t,d=null,(i=A)?d="valid":r&&!i&&(d="invalid"),d),connectionEndHandle:g.endHandle}),!t&&!A&&!P)return n9(n);M.source!==M.target&&P&&(n9(n),n=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",A),P.classList.toggle("react-flow__handle-valid",A))}function D(e){var r,a;(t||P)&&M&&A&&(null==i||i(M)),null==(r=(a=s()).onConnectEnd)||r.call(a,e),d&&(null==h||h(e)),n9(n),w(),cancelAnimationFrame(j),C=!1,A=!1,M=null,P=null,f.removeEventListener("mousemove",T),f.removeEventListener("mouseup",D),f.removeEventListener("touchmove",T),f.removeEventListener("touchend",D)}u({connectionPosition:E,connectionStatus:null,connectionNodeId:o,connectionHandleId:a,connectionHandleType:_,connectionStartHandle:{nodeId:o,handleId:a,type:_},connectionEndHandle:null}),null==x||x(r,{nodeId:o,handleId:a,handleType:_}),f.addEventListener("mousemove",T),f.addEventListener("mouseup",D),f.addEventListener("touchmove",T),f.addEventListener("touchend",D)}let re=()=>!0,rt=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),rn=(0,c.forwardRef)((e,t)=>{let{type:n="source",position:r=l.Top,isValidConnection:a,isConnectable:o=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:u,onConnect:d,children:h,className:f,onMouseDown:p,onTouchStart:m,...g}=e,y=u||null,x="target"===n,v=ns(),b=(0,c.useContext)(nY),{connectOnClick:w,noPanClassName:j}=nl(rt,O),{connecting:k,clickConnecting:_}=nl(((e,t,n)=>r=>{let{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:i}=r;return{connecting:(null==a?void 0:a.nodeId)===e&&(null==a?void 0:a.handleId)===t&&(null==a?void 0:a.type)===n||(null==o?void 0:o.nodeId)===e&&(null==o?void 0:o.handleId)===t&&(null==o?void 0:o.type)===n,clickConnecting:(null==i?void 0:i.nodeId)===e&&(null==i?void 0:i.handleId)===t&&(null==i?void 0:i.type)===n}})(b,y,n),O);if(!b){var S,E;null==(S=(E=v.getState()).onError)||S.call(E,"010",no.error010())}let C=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=v.getState(),a={...t,...e};if(r){let{edges:e,setEdges:t}=v.getState();t(((e,t)=>{let n;return e.source&&e.target?((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n=(e=>"id"in e&&"source"in e&&"target"in e)(e)?{...e}:{...e,id:(e=>{let{source:t,sourceHandle:n,target:r,targetHandle:a}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(a||"")})(e)},t)?t:t.concat(n):(n_("006",no.error006()),t)})(a,e))}null==n||n(a),null==d||d(a)},M=e=>{if(!b)return;let t="clientX"in e;i&&(t&&0===e.button||!t)&&n8({event:e,handleId:y,nodeId:b,onConnect:C,isTarget:x,getState:v.getState,setState:v.setState,isValidConnection:a||v.getState().isValidConnection||re}),t?null==p||p(e):null==m||m(e)};return c.default.createElement("div",{"data-handleid":y,"data-nodeid":b,"data-handlepos":r,"data-id":"".concat(b,"-").concat(y,"-").concat(n),className:N(["react-flow__handle","react-flow__handle-".concat(r),"nodrag",j,f,{source:!x,target:x,connectable:o,connectablestart:i,connectableend:s,connecting:_,connectionindicator:o&&(i&&!k||s&&k)}]),onMouseDown:M,onTouchStart:M,onClick:w?e=>{let{onClickConnectStart:t,onClickConnectEnd:r,connectionClickStartHandle:o,connectionMode:l,isValidConnection:s}=v.getState();if(!b||!o&&!i)return;if(!o){null==t||t(e,{nodeId:b,handleId:y,handleType:n}),v.setState({connectionClickStartHandle:{nodeId:b,type:n,handleId:y}});return}let u=nx(e.target),c=a||s||re,{connection:d,isValid:h}=n6({nodeId:b,id:y,type:n},l,o.nodeId,o.handleId||null,o.type,c,u);h&&C(d),null==r||r(e),v.setState({connectionClickStartHandle:null})}:void 0,ref:t,...g},h)});rn.displayName="Handle";var rr=(0,c.memo)(rn);let ra=e=>{let{data:t,isConnectable:n,targetPosition:r=l.Top,sourcePosition:a=l.Bottom}=e;return c.default.createElement(c.default.Fragment,null,c.default.createElement(rr,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label,c.default.createElement(rr,{type:"source",position:a,isConnectable:n}))};ra.displayName="DefaultNode";var ro=(0,c.memo)(ra);let ri=e=>{let{data:t,isConnectable:n,sourcePosition:r=l.Bottom}=e;return c.default.createElement(c.default.Fragment,null,null==t?void 0:t.label,c.default.createElement(rr,{type:"source",position:r,isConnectable:n}))};ri.displayName="InputNode";var rl=(0,c.memo)(ri);let rs=e=>{let{data:t,isConnectable:n,targetPosition:r=l.Top}=e;return c.default.createElement(c.default.Fragment,null,c.default.createElement(rr,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label)};rs.displayName="OutputNode";var ru=(0,c.memo)(rs);let rc=()=>null;rc.displayName="GroupNode";let rd=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>({...e}))}),rh=e=>e.id;function rf(e,t){return O(e.selectedNodes.map(rh),t.selectedNodes.map(rh))&&O(e.selectedEdges.map(rh),t.selectedEdges.map(rh))}let rp=(0,c.memo)(e=>{let{onSelectionChange:t}=e,n=ns(),{selectedNodes:r,selectedEdges:a}=nl(rd,rf);return(0,c.useEffect)(()=>{let e={nodes:r,edges:a};null==t||t(e),n.getState().onSelectionChange.forEach(t=>t(e))},[r,a,t]),null});rp.displayName="SelectionListener";let rm=e=>!!e.onSelectionChange;function rg(e){let{onSelectionChange:t}=e,n=nl(rm);return t||n?c.default.createElement(rp,{onSelectionChange:t}):null}let ry=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function rx(e,t){(0,c.useEffect)(()=>{void 0!==e&&t(e)},[e])}function rv(e,t,n){(0,c.useEffect)(()=>{void 0!==t&&n({[e]:t})},[t])}let rb=e=>{let{nodes:t,edges:n,defaultNodes:r,defaultEdges:a,onConnect:o,onConnectStart:i,onConnectEnd:l,onClickConnectStart:s,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:h,nodesFocusable:f,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:y,maxZoom:x,nodeExtent:v,onNodesChange:b,onEdgesChange:w,elementsSelectable:j,connectionMode:N,snapGrid:k,snapToGrid:_,translateExtent:S,connectOnClick:E,defaultEdgeOptions:C,fitView:M,fitViewOptions:A,onNodesDelete:P,onEdgesDelete:I,onNodeDrag:T,onNodeDragStart:D,onNodeDragStop:z,onSelectionDrag:R,onSelectionDragStart:L,onSelectionDragStop:B,noPanClassName:F,nodeOrigin:H,rfId:K,autoPanOnConnect:G,autoPanOnNodeDrag:U,onError:V,connectionRadius:Y,isValidConnection:J,nodeDragThreshold:X}=e,{setNodes:q,setEdges:W,setDefaultNodesAndEdges:Z,setMinZoom:$,setMaxZoom:Q,setTranslateExtent:ee,setNodeExtent:et,reset:en}=nl(ry,O),er=ns();return(0,c.useEffect)(()=>(Z(r,null==a?void 0:a.map(e=>({...e,...C}))),()=>{en()}),[]),rv("defaultEdgeOptions",C,er.setState),rv("connectionMode",N,er.setState),rv("onConnect",o,er.setState),rv("onConnectStart",i,er.setState),rv("onConnectEnd",l,er.setState),rv("onClickConnectStart",s,er.setState),rv("onClickConnectEnd",u,er.setState),rv("nodesDraggable",d,er.setState),rv("nodesConnectable",h,er.setState),rv("nodesFocusable",f,er.setState),rv("edgesFocusable",p,er.setState),rv("edgesUpdatable",m,er.setState),rv("elementsSelectable",j,er.setState),rv("elevateNodesOnSelect",g,er.setState),rv("snapToGrid",_,er.setState),rv("snapGrid",k,er.setState),rv("onNodesChange",b,er.setState),rv("onEdgesChange",w,er.setState),rv("connectOnClick",E,er.setState),rv("fitViewOnInit",M,er.setState),rv("fitViewOnInitOptions",A,er.setState),rv("onNodesDelete",P,er.setState),rv("onEdgesDelete",I,er.setState),rv("onNodeDrag",T,er.setState),rv("onNodeDragStart",D,er.setState),rv("onNodeDragStop",z,er.setState),rv("onSelectionDrag",R,er.setState),rv("onSelectionDragStart",L,er.setState),rv("onSelectionDragStop",B,er.setState),rv("noPanClassName",F,er.setState),rv("nodeOrigin",H,er.setState),rv("rfId",K,er.setState),rv("autoPanOnConnect",G,er.setState),rv("autoPanOnNodeDrag",U,er.setState),rv("onError",V,er.setState),rv("connectionRadius",Y,er.setState),rv("isValidConnection",J,er.setState),rv("nodeDragThreshold",X,er.setState),rx(t,q),rx(n,W),rx(y,$),rx(x,Q),rx(S,ee),rx(v,et),null},rw={display:"none"},rj={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rN="react-flow__node-desc",rk="react-flow__edge-desc",r_=e=>e.ariaLiveMessage;function rS(e){let{rfId:t}=e,n=nl(r_);return c.default.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:rj},n)}function rE(e){let{rfId:t,disableKeyboardA11y:n}=e;return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{id:"".concat(rN,"-").concat(t),style:rw},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),c.default.createElement("div",{id:"".concat(rk,"-").concat(t),style:rw},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&c.default.createElement(rS,{rfId:t}))}var rC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0},[n,r]=(0,c.useState)(!1),a=(0,c.useRef)(!1),o=(0,c.useRef)(new Set([])),[i,l]=(0,c.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,c.useEffect)(()=>{let n="undefined"!=typeof document?document:null,s=(null==t?void 0:t.target)||n;if(null!==e){let e=e=>{if(a.current=e.ctrlKey||e.metaKey||e.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&nS(e))return!1;let n=rA(e.code,l);o.current.add(e[n]),rM(i,o.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&nS(e))return!1;let n=rA(e.code,l);rM(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(e[n]),"Meta"===e.key&&o.current.clear(),a.current=!1},u=()=>{o.current.clear(),r(!1)};return null==s||s.addEventListener("keydown",e),null==s||s.addEventListener("keyup",n),window.addEventListener("blur",u),()=>{null==s||s.removeEventListener("keydown",e),null==s||s.removeEventListener("keyup",n),window.removeEventListener("blur",u)}}},[e,r]),n};function rM(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function rA(e,t){return t.includes(e)?"code":"key"}function rP(e,t,n){e.forEach(r=>{let a=r.parentNode||r.parentId;if(a&&!e.has(a))throw Error("Parent node ".concat(a," not found"));if(a||(null==n?void 0:n[r.id])){var o,i;let{x:a,y:l,z:s}=function e(t,n,r,a){var o,i,l,s,u,c,d,h;let f=t.parentNode||t.parentId;if(!f)return r;let p=n.get(f),m=nZ(p,a);return e(p,n,{x:(null!=(l=r.x)?l:0)+m.x,y:(null!=(s=r.y)?s:0)+m.y,z:(null!=(u=null==(o=p[nN])?void 0:o.z)?u:0)>(null!=(c=r.z)?c:0)?null!=(d=null==(i=p[nN])?void 0:i.z)?d:0:null!=(h=r.z)?h:0},a)}(r,e,{...r.position,z:null!=(i=null==(o=r[nN])?void 0:o.z)?i:0},t);r.positionAbsolute={x:a,y:l},r[nN].z=s,(null==n?void 0:n[r.id])&&(r[nN].isParent=!0)}})}function rO(e,t,n,r){let a=new Map,o={},i=1e3*!!r;return e.forEach(e=>{var n;let r=(nj(e.zIndex)?e.zIndex:0)+(e.selected?i:0),l=t.get(e.id),s={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},u=e.parentNode||e.parentId;u&&(o[u]=!0),Object.defineProperty(s,nN,{enumerable:!1,value:{handleBounds:(null==l?void 0:l.type)&&(null==l?void 0:l.type)!==e.type||null==l||null==(n=l[nN])?void 0:n.handleBounds,z:r}}),a.set(e.id,s)}),rP(a,n,o),a}function rI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{getNodes:n,width:r,height:a,minZoom:o,maxZoom:i,d3Zoom:l,d3Selection:s,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),h=t.initial&&!u&&c;if(l&&s&&(h||!t.initial)){let e=n().filter(e=>{var n;let r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return(null==(n=t.nodes)?void 0:n.length)?r&&t.nodes.some(t=>t.id===e.id):r}),u=e.every(e=>e.width&&e.height);if(e.length>0&&u){var f,p,m;let{x:n,y:u,zoom:c}=n1(n$(e,d),r,a,null!=(f=t.minZoom)?f:o,null!=(p=t.maxZoom)?p:i,null!=(m=t.padding)?m:.1),h=t$.translate(n,u).scale(c);return"number"==typeof t.duration&&t.duration>0?l.transform(n2(s,t.duration),h):l.transform(s,h),!0}}return!1}function rT(e){let{changedNodes:t,changedEdges:n,get:r,set:a}=e,{nodeInternals:o,edges:i,onNodesChange:l,onEdgesChange:s,hasDefaultNodes:u,hasDefaultEdges:c}=r();(null==t?void 0:t.length)&&(u&&a({nodeInternals:(t.forEach(e=>{let t=o.get(e.id);t&&o.set(t.id,{...t,[nN]:t[nN],selected:e.selected})}),new Map(o))}),null==l||l(t)),(null==n?void 0:n.length)&&(c&&a({edges:i.map(e=>{let t=n.find(t=>t.id===e.id);return t&&(e.selected=t.selected),e})}),null==s||s(n))}let rD=()=>{},rz={zoomIn:rD,zoomOut:rD,zoomTo:rD,getZoom:()=>1,setViewport:rD,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:rD,fitBounds:rD,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},rR=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function rL(){let e=(()=>{let e=ns(),{d3Zoom:t,d3Selection:n}=nl(rR,O);return(0,c.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(n2(n,null==e?void 0:e.duration),1.2),zoomOut:e=>t.scaleBy(n2(n,null==e?void 0:e.duration),1/1.2),zoomTo:(e,r)=>t.scaleTo(n2(n,null==r?void 0:r.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(r,a)=>{var o,i,l;let[s,u,c]=e.getState().transform,d=t$.translate(null!=(o=r.x)?o:s,null!=(i=r.y)?i:u).scale(null!=(l=r.zoom)?l:c);t.transform(n2(n,null==a?void 0:a.duration),d)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>rI(e.getState,t),setCenter:(r,a,o)=>{let{width:i,height:l,maxZoom:s}=e.getState(),u=void 0!==(null==o?void 0:o.zoom)?o.zoom:s,c=i/2-r*u,d=l/2-a*u,h=t$.translate(c,d).scale(u);t.transform(n2(n,null==o?void 0:o.duration),h)},fitBounds:(r,a)=>{var o;let{width:i,height:l,minZoom:s,maxZoom:u}=e.getState(),{x:c,y:d,zoom:h}=n1(r,i,l,s,u,null!=(o=null==a?void 0:a.padding)?o:.1),f=t$.translate(c,d).scale(h);t.transform(n2(n,null==a?void 0:a.duration),f)},project:t=>{let{transform:n,snapToGrid:r,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),nq(t,n,r,a)},screenToFlowPosition:t=>{let{transform:n,snapToGrid:r,snapGrid:a,domNode:o}=e.getState();if(!o)return t;let{x:i,y:l}=o.getBoundingClientRect();return nq({x:t.x-i,y:t.y-l},n,r,a)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:a,y:o}=r.getBoundingClientRect(),i=nW(t,n);return{x:i.x+a,y:i.y+o}},viewportInitialized:!0}:rz,[t,n])})(),t=ns(),n=(0,c.useCallback)(()=>t.getState().getNodes().map(e=>({...e})),[]),r=(0,c.useCallback)(e=>t.getState().nodeInternals.get(e),[]),a=(0,c.useCallback)(()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},[]),o=(0,c.useCallback)(e=>{let{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),i=(0,c.useCallback)(e=>{let{getNodes:n,setNodes:r,hasDefaultNodes:a,onNodesChange:o}=t.getState(),i=n(),l="function"==typeof e?e(i):e;a?r(l):o&&o(0===l.length?i.map(e=>({type:"remove",id:e.id})):l.map(e=>({item:e,type:"reset"})))},[]),l=(0,c.useCallback)(e=>{let{edges:n=[],setEdges:r,hasDefaultEdges:a,onEdgesChange:o}=t.getState(),i="function"==typeof e?e(n):e;a?r(i):o&&o(0===i.length?n.map(e=>({type:"remove",id:e.id})):i.map(e=>({item:e,type:"reset"})))},[]),s=(0,c.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{getNodes:r,setNodes:a,hasDefaultNodes:o,onNodesChange:i}=t.getState();o?a([...r(),...n]):i&&i(n.map(e=>({item:e,type:"add"})))},[]),u=(0,c.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{edges:r=[],setEdges:a,hasDefaultEdges:o,onEdgesChange:i}=t.getState();o?a([...r,...n]):i&&i(n.map(e=>({item:e,type:"add"})))},[]),d=(0,c.useCallback)(()=>{let{getNodes:e,edges:n=[],transform:r}=t.getState(),[a,o,i]=r;return{nodes:e().map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:a,y:o,zoom:i}}},[]),h=(0,c.useCallback)(e=>{let{nodes:n,edges:r}=e,{nodeInternals:a,getNodes:o,edges:i,hasDefaultNodes:l,hasDefaultEdges:s,onNodesDelete:u,onEdgesDelete:c,onNodesChange:d,onEdgesChange:h}=t.getState(),f=(n||[]).map(e=>e.id),p=(r||[]).map(e=>e.id),m=o().reduce((e,t)=>{let n=t.parentNode||t.parentId,r=!f.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!=typeof t.deletable||t.deletable)&&(f.includes(t.id)||r)&&e.push(t),e},[]),g=i.filter(e=>"boolean"!=typeof e.deletable||e.deletable),y=g.filter(e=>p.includes(e.id));if(m||y){let e=[...y,...n0(m,g)],n=e.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);(s||l)&&(s&&t.setState({edges:i.filter(e=>!n.includes(e.id))}),l&&(m.forEach(e=>{a.delete(e.id)}),t.setState({nodeInternals:new Map(a)}))),n.length>0&&(null==c||c(e),h&&h(n.map(e=>({id:e,type:"remove"})))),m.length>0&&(null==u||u(m),d&&d(m.map(e=>({id:e.id,type:"remove"}))))}},[]),f=(0,c.useCallback)(e=>{let n=nj(e.width)&&nj(e.height)&&nj(e.x)&&nj(e.y),r=n?null:t.getState().nodeInternals.get(e.id);return n||r?[n?e:nb(r),r,n]:[null,null,n]},[]),p=(0,c.useCallback)(function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,[a,o,i]=f(e);return a?(r||t.getState().getNodes()).filter(e=>{if(!i&&(e.id===o.id||!e.positionAbsolute))return!1;let t=nw(nb(e),a);return n&&t>0||t>=a.width*a.height}):[]},[]),m=(0,c.useCallback)(function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[r]=f(e);if(!r)return!1;let a=nw(r,t);return n&&a>0||a>=r.width*r.height},[]);return(0,c.useMemo)(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:o,setNodes:i,setEdges:l,addNodes:s,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:p,isNodeIntersecting:m}),[e,n,r,a,o,i,l,s,u,d,h,p,m])}let rB={actInsideInputWithModifier:!1},rF={position:"absolute",width:"100%",height:"100%",top:0,left:0},rH=e=>({x:e.x,y:e.y,zoom:e.k}),rK=(e,t)=>e.target.closest(".".concat(t)),rG=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),rU=e=>{let t=e.ctrlKey&&nC()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},rV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),rY=e=>{let{onMove:t,onMoveStart:n,onMoveEnd:a,onPaneContextMenu:o,zoomOnScroll:i=!0,zoomOnPinch:l=!0,panOnScroll:s=!1,panOnScrollSpeed:u=.5,panOnScrollMode:d=r.Free,zoomOnDoubleClick:h=!0,elementsSelectable:f,panOnDrag:p=!0,defaultViewport:m,translateExtent:g,minZoom:y,maxZoom:x,zoomActivationKeyCode:v,preventScrolling:b=!0,children:w,noWheelClassName:j,noPanClassName:N}=e,k=(0,c.useRef)(),_=ns(),S=(0,c.useRef)(!1),E=(0,c.useRef)(!1),C=(0,c.useRef)(null),M=(0,c.useRef)({x:0,y:0,zoom:0}),{d3Zoom:A,d3Selection:P,d3ZoomHandler:I,userSelectionActive:D}=nl(rV,O),z=rC(v),R=(0,c.useRef)(0),L=(0,c.useRef)(!1),B=(0,c.useRef)();return!function(e){let t=ns();(0,c.useEffect)(()=>{let n,r=()=>{if(!e.current)return;let n=nf(e.current);if(0===n.height||0===n.width){var r,a;null==(r=(a=t.getState()).onError)||r.call(a,"004",no.error004())}t.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r())).observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}(C),(0,c.useEffect)(()=>{if(C.current){let e=C.current.getBoundingClientRect(),t=(function(){var e,t,n,r=t1,a=t2,o=t6,i=t5,l=t4,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,d=eO,h=T("start","zoom","end"),f=0,p=10;function m(e){e.property("__zoom",t3).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",k).filter(l).on("touchstart.zoom",_).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new tZ(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,a=t[1]-n[1]*e.k;return r===e.x&&a===e.y?e:new tZ(e.k,r,a)}function x(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function v(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=arguments,o=b(this,e).event(r),i=a.apply(this,e),l=null==n?x(i):"function"==typeof n?n.apply(this,e):n,s=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),u=this.__zoom,c="function"==typeof t?t.apply(this,e):t,h=d(u.invert(l).concat(s/u.k),c.invert(l).concat(s/c.k));return function(e){if(1===e)e=c;else{var t=h(e),n=s/t[2];e=new tZ(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=a.apply(e,t),this.taps=0}function j(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var l=b(this,n).event(e),c=this.__zoom,d=Math.max(s[0],Math.min(s[1],c.k*Math.pow(2,i.apply(this,arguments)))),h=eI(e);if(l.wheel)(l.mouse[0][0]!==h[0]||l.mouse[0][1]!==h[1])&&(l.mouse[1]=c.invert(l.mouse[0]=h)),clearTimeout(l.wheel);else{if(c.k===d)return;l.mouse=[h,c.invert(h)],e5(this),l.start()}t0(e),l.wheel=setTimeout(function(){l.wheel=null,l.end()},150),l.zoom("mouse",o(y(g(c,d),l.mouse[0],l.mouse[1]),l.extent,u))}}function N(e){for(var t=arguments.length,a=Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];if(!n&&r.apply(this,arguments)){var l=e.currentTarget,s=b(this,a,!0).event(e),c=ek(e.view).on("mousemove.zoom",function(e){if(t0(e),!s.moved){var t=e.clientX-h,n=e.clientY-p;s.moved=t*t+n*n>f}s.event(e).zoom("mouse",o(y(s.that.__zoom,s.mouse[0]=eI(e,l),s.mouse[1]),s.extent,u))},!0).on("mouseup.zoom",function(e){c.on("mousemove.zoom mouseup.zoom",null),eA(e.view,s.moved),t0(e),s.event(e).end()},!0),d=eI(e,l),h=e.clientX,p=e.clientY;eM(e.view),tQ(e),s.mouse=[d,this.__zoom.invert(d)],e5(this),s.start()}}function k(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var l=this.__zoom,s=eI(e.changedTouches?e.changedTouches[0]:e,this),d=l.invert(s),h=l.k*(e.shiftKey?.5:2),f=o(y(g(l,h),s,d),a.apply(this,n),u);t0(e),c>0?ek(this).transition().duration(c).call(v,f,s,e):ek(this).call(m.transform,f,s,e)}}function _(n){for(var a=arguments.length,o=Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];if(r.apply(this,arguments)){var l,s,u,c,d=n.touches,h=d.length,f=b(this,o,n.changedTouches.length===h).event(n);for(tQ(n),s=0;s<h;++s)c=[c=eI(u=d[s],this),this.__zoom.invert(c),u.identifier],f.touch0?f.touch1||f.touch0[2]===c[2]||(f.touch1=c,f.taps=0):(f.touch0=c,l=!0,f.taps=1+!!e);e&&(e=clearTimeout(e)),l&&(f.taps<2&&(t=c[0],e=setTimeout(function(){e=null},500)),e5(this),f.start())}}function S(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.__zooming){var a,i,l,s,c=b(this,n).event(e),d=e.changedTouches,h=d.length;for(t0(e),a=0;a<h;++a)l=eI(i=d[a],this),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=l:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=l);if(i=c.that.__zoom,c.touch1){var f=c.touch0[0],p=c.touch0[1],m=c.touch1[0],x=c.touch1[1],v=(v=m[0]-f[0])*v+(v=m[1]-f[1])*v,w=(w=x[0]-p[0])*w+(w=x[1]-p[1])*w;i=g(i,Math.sqrt(v/w)),l=[(f[0]+m[0])/2,(f[1]+m[1])/2],s=[(p[0]+x[0])/2,(p[1]+x[1])/2]}else{if(!c.touch0)return;l=c.touch0[0],s=c.touch0[1]}c.zoom("touch",o(y(i,l,s),c.extent,u))}}function E(e){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(this.__zooming){var i,l,s=b(this,a).event(e),u=e.changedTouches,c=u.length;for(tQ(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<c;++i)l=u[i],s.touch0&&s.touch0[2]===l.identifier?delete s.touch0:s.touch1&&s.touch1[2]===l.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(l=eI(l,this),Math.hypot(t[0]-l[0],t[1]-l[1])<p)){var d=ek(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var a=e.selection?e.selection():e;a.property("__zoom",t3),e!==a?v(e,t,n,r):a.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=a.apply(this,arguments),r=this.__zoom,i=null==n?x(e):"function"==typeof n?n.apply(this,arguments):n,l=r.invert(i),s="function"==typeof t?t.apply(this,arguments):t;return o(y(g(r,s),i,l),e,u)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),a.apply(this,arguments),u)},null,r)},m.translateTo=function(e,t,n,r,i){m.transform(e,function(){var e=a.apply(this,arguments),i=this.__zoom,l=null==r?x(e):"function"==typeof r?r.apply(this,arguments):r;return o(t$.translate(l[0],l[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,u)},r,i)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=ek(this.that).datum();h.call(e,this.that,new tW(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:tq(+e),m):i},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:tq(!!e),m):r},m.touchable=function(e){return arguments.length?(l="function"==typeof e?e:tq(!!e),m):l},m.extent=function(e){return arguments.length?(a="function"==typeof e?e:tq([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):a},m.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],m):[s[0],s[1]]},m.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(e){return arguments.length?(o=e,m):o},m.duration=function(e){return arguments.length?(c=+e,m):c},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(f=(e*=1)*e,m):Math.sqrt(f)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m})().scaleExtent([y,x]).translateExtent(g),n=ek(C.current).call(t),r=t$.translate(m.x,m.y).scale(np(m.zoom,y,x)),a=[[0,0],[e.width,e.height]],o=t.constrain()(r,a,g);t.transform(n,o),t.wheelDelta(rU),_.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[o.x,o.y,o.k],domNode:C.current.closest(".react-flow")})}},[]),(0,c.useEffect)(()=>{P&&A&&(!s||z||D?void 0!==I&&P.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||rK(e,j))return null;e.preventDefault(),I.call(this,e,t)},{passive:!1}):P.on("wheel.zoom",e=>{if(rK(e,j))return!1;e.preventDefault(),e.stopImmediatePropagation();let o=P.property("__zoom").k||1;if(e.ctrlKey&&l){let t=eI(e),n=o*Math.pow(2,rU(e));A.scaleTo(P,n,t,e);return}let i=1===e.deltaMode?20:1,s=d===r.Vertical?0:e.deltaX*i,c=d===r.Horizontal?0:e.deltaY*i;!nC()&&e.shiftKey&&d!==r.Vertical&&(s=e.deltaY*i,c=0),A.translateBy(P,-(s/o)*u,-(c/o)*u,{internal:!0});let h=rH(P.property("__zoom")),{onViewportChangeStart:f,onViewportChange:p,onViewportChangeEnd:m}=_.getState();clearTimeout(B.current),L.current||(L.current=!0,null==n||n(e,h),null==f||f(h)),L.current&&(null==t||t(e,h),null==p||p(h),B.current=setTimeout(()=>{null==a||a(e,h),null==m||m(h),L.current=!1},150))},{passive:!1}))},[D,s,d,P,A,I,z,l,b,j,n,t,a]),(0,c.useEffect)(()=>{A&&A.on("start",e=>{var t,r;if(!e.sourceEvent||e.sourceEvent.internal)return null;R.current=null==(t=e.sourceEvent)?void 0:t.button;let{onViewportChangeStart:a}=_.getState(),o=rH(e.transform);S.current=!0,M.current=o,(null==(r=e.sourceEvent)?void 0:r.type)==="mousedown"&&_.setState({paneDragging:!0}),null==a||a(o),null==n||n(e.sourceEvent,o)})},[A,n]),(0,c.useEffect)(()=>{A&&(D&&!S.current?A.on("zoom",null):D||A.on("zoom",e=>{var n,r;let{onViewportChange:a}=_.getState();if(_.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),E.current=!!(o&&rG(p,null!=(r=R.current)?r:0)),(t||a)&&!(null==(n=e.sourceEvent)?void 0:n.internal)){let n=rH(e.transform);null==a||a(n),null==t||t(e.sourceEvent,n)}}))},[D,A,t,p,o]),(0,c.useEffect)(()=>{A&&A.on("end",e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;let{onViewportChangeEnd:n}=_.getState();if(S.current=!1,_.setState({paneDragging:!1}),o&&rG(p,null!=(t=R.current)?t:0)&&!E.current&&o(e.sourceEvent),E.current=!1,(a||n)&&((e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k)(M.current,e.transform)){let t=rH(e.transform);M.current=t,clearTimeout(k.current),k.current=setTimeout(()=>{null==n||n(t),null==a||a(e.sourceEvent,t)},150*!!s)}})},[A,s,p,a,o]),(0,c.useEffect)(()=>{A&&A.filter(e=>{let t=z||i,n=l&&e.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===e.button&&"mousedown"===e.type&&(rK(e,"react-flow__node")||rK(e,"react-flow__edge")))return!0;if(!p&&!t&&!s&&!h&&!l||D||!h&&"dblclick"===e.type||rK(e,j)&&"wheel"===e.type||rK(e,N)&&("wheel"!==e.type||s&&"wheel"===e.type&&!z)||!l&&e.ctrlKey&&"wheel"===e.type||!t&&!s&&!n&&"wheel"===e.type||!p&&("mousedown"===e.type||"touchstart"===e.type)||Array.isArray(p)&&!p.includes(e.button)&&"mousedown"===e.type)return!1;let r=Array.isArray(p)&&p.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[D,A,i,l,s,h,p,f,z]),c.default.createElement("div",{className:"react-flow__renderer",ref:C,style:rF},w)},rJ=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function rX(){let{userSelectionActive:e,userSelectionRect:t}=nl(rJ,O);return e&&t?c.default.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}function rq(e,t){let n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){let e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var a,o;if(r.style={...r.style},r.style.width=null!=(a=r.style.width)?a:r.width,r.style.height=null!=(o=r.style.height)?o:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){let e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){let e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function rW(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);let n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{let r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;let a={...n};for(let e of r)if(e)switch(e.type){case"select":a.selected=e.selected;break;case"position":void 0!==e.position&&(a.position=e.position),void 0!==e.positionAbsolute&&(a.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(a.dragging=e.dragging),a.expandParent&&rq(t,a);break;case"dimensions":void 0!==e.dimensions&&(a.width=e.dimensions.width,a.height=e.dimensions.height),void 0!==e.updateStyle&&(a.style={...a.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(a.resizing=e.resizing),a.expandParent&&rq(t,a);break;case"remove":return t}return t.push(a),t},n)}function rZ(e,t){return rW(e,t)}let r$=(e,t)=>({id:e,type:"select",selected:t});function rQ(e,t){return e.reduce((e,n)=>{let r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(r$(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(r$(n.id,!1))),e},[])}let r0=(e,t)=>n=>{n.target===t.current&&(null==e||e(n))},r1=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),r2=(0,c.memo)(e=>{let{isSelecting:t,selectionMode:n=a.Full,panOnDrag:r,onSelectionStart:o,onSelectionEnd:i,onPaneClick:l,onPaneContextMenu:s,onPaneScroll:u,onPaneMouseEnter:d,onPaneMouseMove:h,onPaneMouseLeave:f,children:p}=e,m=(0,c.useRef)(null),g=ns(),y=(0,c.useRef)(0),x=(0,c.useRef)(0),v=(0,c.useRef)(),{userSelectionActive:b,elementsSelectable:w,dragging:j}=nl(r1,O),k=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,x.current=0},_=e=>{null==l||l(e),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},S=w&&(t||b);return c.default.createElement("div",{className:N(["react-flow__pane",{dragging:j,selection:t}]),onClick:S?void 0:r0(_,m),onContextMenu:r0(e=>{if(Array.isArray(r)&&(null==r?void 0:r.includes(2)))return void e.preventDefault();null==s||s(e)},m),onWheel:r0(u?e=>u(e):void 0,m),onMouseEnter:S?void 0:d,onMouseDown:S?e=>{let{resetSelectedElements:n,domNode:r}=g.getState();if(v.current=null==r?void 0:r.getBoundingClientRect(),!w||!t||0!==e.button||e.target!==m.current||!v.current)return;let{x:a,y:i}=nE(e,v.current);n(),g.setState({userSelectionRect:{width:0,height:0,startX:a,startY:i,x:a,y:i}}),null==o||o(e)}:void 0,onMouseMove:S?e=>{var r,o;let{userSelectionRect:i,nodeInternals:l,edges:s,transform:u,onNodesChange:c,onEdgesChange:d,nodeOrigin:h,getNodes:f}=g.getState();if(!t||!v.current||!i)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});let p=nE(e,v.current),m=null!=(r=i.startX)?r:0,b=null!=(o=i.startY)?o:0,w={...i,x:p.x<m?p.x:m,y:p.y<b?p.y:b,width:Math.abs(p.x-m),height:Math.abs(p.y-b)},j=f(),N=nQ(l,w,u,n===a.Partial,!0,h),k=n0(N,s).map(e=>e.id),_=N.map(e=>e.id);if(y.current!==_.length){y.current=_.length;let e=rQ(j,_);e.length&&(null==c||c(e))}if(x.current!==k.length){x.current=k.length;let e=rQ(s,k);e.length&&(null==d||d(e))}g.setState({userSelectionRect:w})}:h,onMouseUp:S?e=>{if(0!==e.button)return;let{userSelectionRect:t}=g.getState();!b&&t&&e.target===m.current&&(null==_||_(e)),g.setState({nodesSelectionActive:y.current>0}),k(),null==i||i(e)}:void 0,onMouseLeave:S?e=>{b&&(g.setState({nodesSelectionActive:y.current>0}),null==i||i(e)),k()}:f,ref:m,style:rF},p,c.default.createElement(rX,null))});function r3(e,t,n){let r=e;do{if(null==r?void 0:r.matches(t))return!0;if(r===n.current)break;r=r.parentElement}while(r)return!1}function r5(e,t,n,r){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0,l=(a=e.extent||r)&&"parent"!==a?[a[0],[a[1][0]-(e.width||0),a[1][1]-(e.height||0)]]:a,s=l,u=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&u&&"parent"!==e.extent){let{x:t,y:r}=nZ(n.get(u),o).positionAbsolute;s=[[e.extent[0][0]+t,e.extent[0][1]+r],[e.extent[1][0]+t,e.extent[1][1]+r]]}}else if(u&&e.width&&e.height){let t=n.get(u),{x:r,y:a}=nZ(t,o).positionAbsolute;s=t&&nj(r)&&nj(a)&&nj(t.width)&&nj(t.height)?[[r+e.width*o[0],a+e.height*o[1]],[r+t.width-e.width+e.width*o[0],a+t.height-e.height+e.height*o[1]]]:s}else null==i||i("005",no.error005()),s=l;let c={x:0,y:0};u&&(c=nZ(n.get(u),o).positionAbsolute);let d=s&&"parent"!==s?nm(t,s):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function r4(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e,a=n.map(e=>({...r.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute}));return[t?a.find(e=>e.id===t):a[0],a]}r2.displayName="Pane";let r6=(e,t,n,r)=>{let a=t.querySelectorAll(e);if(!a||!a.length)return null;let o=Array.from(a),i=t.getBoundingClientRect(),l={x:i.width*r[0],y:i.height*r[1]};return o.map(e=>{let t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-i.left-l.x)/n,y:(t.top-i.top-l.y)/n,...nf(e)}})};function r7(e,t,n){return void 0===n?n:r=>{let a=t().nodeInternals.get(e);a&&n(r,{...a})}}function r9(e){let{id:t,store:n,unselect:r=!1,nodeRef:a}=e,{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:l,nodeInternals:s,onError:u}=n.getState(),c=s.get(t);if(!c){null==u||u("012",no.error012(t));return}n.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&l)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var e;return null==a||null==(e=a.current)?void 0:e.blur()})):o([t])}function r8(e){return(t,n,r)=>null==e?void 0:e(t,r)}function ae(e){let{nodeRef:t,disabled:n=!1,noDragClassName:r,handleSelector:a,nodeId:o,isSelectable:i,selectNodesOnDrag:l}=e,s=ns(),[u,d]=(0,c.useState)(!1),h=(0,c.useRef)([]),f=(0,c.useRef)({x:null,y:null}),p=(0,c.useRef)(0),m=(0,c.useRef)(null),g=(0,c.useRef)({x:0,y:0}),y=(0,c.useRef)(null),x=(0,c.useRef)(!1),v=(0,c.useRef)(!1),b=(0,c.useRef)(!1),w=function(){let e=ns();return(0,c.useCallback)(t=>{let{sourceEvent:n}=t,{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,s={x:(i-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:o?a[0]*Math.round(s.x/a[0]):s.x,ySnapped:o?a[1]*Math.round(s.y/a[1]):s.y,...s}},[])}();return(0,c.useEffect)(()=>{if(null==t?void 0:t.current){let e=ek(t.current),u=e=>{let{x:t,y:n}=e,{nodeInternals:r,onNodeDrag:a,onSelectionDrag:i,updateNodePositions:l,nodeExtent:u,snapGrid:c,snapToGrid:p,nodeOrigin:m,onError:g}=s.getState();f.current={x:t,y:n};let x=!1,v={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&u&&(v=nv(n$(h.current,m))),h.current=h.current.map(e=>{let a={x:t-e.distance.x,y:n-e.distance.y};p&&(a.x=c[0]*Math.round(a.x/c[0]),a.y=c[1]*Math.round(a.y/c[1]));let o=[[u[0][0],u[0][1]],[u[1][0],u[1][1]]];if(h.current.length>1&&u&&!e.extent){var i,l;o[0][0]=e.positionAbsolute.x-v.x+u[0][0],o[1][0]=e.positionAbsolute.x+(null!=(i=e.width)?i:0)-v.x2+u[1][0],o[0][1]=e.positionAbsolute.y-v.y+u[0][1],o[1][1]=e.positionAbsolute.y+(null!=(l=e.height)?l:0)-v.y2+u[1][1]}let s=r5(e,a,r,o,m,g);return x=x||e.position.x!==s.position.x||e.position.y!==s.position.y,e.position=s.position,e.positionAbsolute=s.positionAbsolute,e}),!x)return;l(h.current,!0,!0),d(!0);let b=o?a:r8(i);if(b&&y.current){let[e,t]=r4({nodeId:o,dragItems:h.current,nodeInternals:r});b(y.current,e,t)}},c=()=>{if(!m.current)return;let[e,t]=ny(g.current,m.current);if(0!==e||0!==t){var n,r;let{transform:a,panBy:o}=s.getState();f.current.x=(null!=(n=f.current.x)?n:0)-e/a[2],f.current.y=(null!=(r=f.current.y)?r:0)-t/a[2],o({x:e,y:t})&&u(f.current)}p.current=requestAnimationFrame(c)},j=e=>{var n;let{nodeInternals:r,multiSelectionActive:a,nodesDraggable:u,unselectNodesAndEdges:c,onNodeDragStart:d,onSelectionDragStart:p}=s.getState();v.current=!0;let m=o?d:r8(p);(!l||!i)&&!a&&o&&((null==(n=r.get(o))?void 0:n.selected)||c()),o&&i&&l&&r9({id:o,store:s,nodeRef:t});let g=w(e);if(f.current=g,h.current=Array.from(r.values()).filter(e=>(e.selected||e.id===o)&&(!e.parentNode||e.parentId||!function e(t,n){let r=t.parentNode||t.parentId;if(!r)return!1;let a=n.get(r);return!!a&&(!!a.selected||e(a,n))}(e,r))&&(e.draggable||u&&void 0===e.draggable)).map(e=>{var t,n,r,a;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:g.x-(null!=(r=null==(t=e.positionAbsolute)?void 0:t.x)?r:0),y:g.y-(null!=(a=null==(n=e.positionAbsolute)?void 0:n.y)?a:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}}),m&&h.current){let[t,n]=r4({nodeId:o,dragItems:h.current,nodeInternals:r});m(e.sourceEvent,t,n)}};if(n)e.on(".drag",null);else{let n=(function(){var e,t,n,r,a=t8,o=ne,i=nt,l=nn,s={},u=T("start","drag","end"),c=0,d=0;function h(e){e.on("mousedown.drag",f).filter(l).on("touchstart.drag",g).on("touchmove.drag",y,e_).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(i,l){if(!r&&a.call(this,i,l)){var s=v(this,o.call(this,i,l),i,l,"mouse");s&&(ek(i.view).on("mousemove.drag",p,eS).on("mouseup.drag",m,eS),eM(i.view),eE(i),n=!1,e=i.clientX,t=i.clientY,s("start",i))}}function p(r){if(eC(r),!n){var a=r.clientX-e,o=r.clientY-t;n=a*a+o*o>d}s.mouse("drag",r)}function m(e){ek(e.view).on("mousemove.drag mouseup.drag",null),eA(e.view,n),eC(e),s.mouse("end",e)}function g(e,t){if(a.call(this,e,t)){var n,r,i=e.changedTouches,l=o.call(this,e,t),s=i.length;for(n=0;n<s;++n)(r=v(this,l,e,t,i[n].identifier,i[n]))&&(eE(e),r("start",e,i[n]))}}function y(e){var t,n,r=e.changedTouches,a=r.length;for(t=0;t<a;++t)(n=s[r[t].identifier])&&(eC(e),n("drag",e,r[t]))}function x(e){var t,n,a=e.changedTouches,o=a.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<o;++t)(n=s[a[t].identifier])&&(eE(e),n("end",e,a[t]))}function v(e,t,n,r,a,o){var l,d,f,p=u.copy(),m=eI(o||n,t);if(null!=(f=i.call(e,new t9("beforestart",{sourceEvent:n,target:h,identifier:a,active:c,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return l=f.x-m[0]||0,d=f.y-m[1]||0,function n(o,i,u){var g,y=m;switch(o){case"start":s[a]=n,g=c++;break;case"end":delete s[a],--c;case"drag":m=eI(u||i,t),g=c}p.call(o,e,new t9(o,{sourceEvent:i,subject:f,target:h,identifier:a,active:g,x:m[0]+l,y:m[1]+d,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:p}),r)}}return h.filter=function(e){return arguments.length?(a="function"==typeof e?e:t7(!!e),h):a},h.container=function(e){return arguments.length?(o="function"==typeof e?e:t7(e),h):o},h.subject=function(e){return arguments.length?(i="function"==typeof e?e:t7(e),h):i},h.touchable=function(e){return arguments.length?(l="function"==typeof e?e:t7(!!e),h):l},h.on=function(){var e=u.on.apply(u,arguments);return e===u?h:e},h.clickDistance=function(e){return arguments.length?(d=(e*=1)*e,h):Math.sqrt(d)},h})().on("start",e=>{let{domNode:t,nodeDragThreshold:n}=s.getState();0===n&&j(e),b.current=!1,f.current=w(e),m.current=(null==t?void 0:t.getBoundingClientRect())||null,g.current=nE(e.sourceEvent,m.current)}).on("drag",e=>{let t=w(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=s.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!x.current&&v.current&&n&&(x.current=!0,c()),!v.current){var a,o,i,l;let n=t.xSnapped-(null!=(i=null==f||null==(a=f.current)?void 0:a.x)?i:0),s=t.ySnapped-(null!=(l=null==f||null==(o=f.current)?void 0:o.y)?l:0);Math.sqrt(n*n+s*s)>r&&j(e)}(f.current.x!==t.xSnapped||f.current.y!==t.ySnapped)&&h.current&&v.current&&(y.current=e.sourceEvent,g.current=nE(e.sourceEvent,m.current),u(t))}}).on("end",e=>{if(v.current&&!b.current&&(d(!1),x.current=!1,v.current=!1,cancelAnimationFrame(p.current),h.current)){let{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:a}=s.getState(),i=o?r:r8(a);if(t(h.current,!1,!1),i){let[t,r]=r4({nodeId:o,dragItems:h.current,nodeInternals:n});i(e.sourceEvent,t,r)}}}).filter(e=>{let n=e.target;return!e.button&&(!r||!r3(n,".".concat(r),t))&&(!a||r3(n,a,t))});return e.call(n),()=>{e.on(".drag",null)}}}},[t,n,r,a,i,s,o,l,w]),u}function at(){let e=ns();return(0,c.useCallback)(t=>{let{nodeInternals:n,nodeExtent:r,updateNodePositions:a,getNodes:o,snapToGrid:i,snapGrid:l,onError:s,nodesDraggable:u}=e.getState(),c=o().filter(e=>e.selected&&(e.draggable||u&&void 0===e.draggable)),d=i?l[0]:5,h=i?l[1]:5,f=t.isShiftPressed?4:1,p=t.x*d*f,m=t.y*h*f;a(c.map(e=>{if(e.positionAbsolute){let t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+m};i&&(t.x=l[0]*Math.round(t.x/l[0]),t.y=l[1]*Math.round(t.y/l[1]));let{positionAbsolute:a,position:o}=r5(e,t,n,r,void 0,s);e.position=o,e.positionAbsolute=a}return e}),!0,!1)},[])}let an={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ar=e=>{let t=t=>{let{id:n,type:r,data:a,xPos:o,yPos:i,xPosOrigin:l,yPosOrigin:s,selected:u,onClick:d,onMouseEnter:h,onMouseMove:f,onMouseLeave:p,onContextMenu:m,onDoubleClick:g,style:y,className:x,isDraggable:v,isSelectable:b,isConnectable:w,isFocusable:j,selectNodesOnDrag:k,sourcePosition:_,targetPosition:S,hidden:E,resizeObserver:C,dragHandle:M,zIndex:A,isParent:P,noDragClassName:O,noPanClassName:I,initialized:T,disableKeyboardA11y:D,ariaLabel:z,rfId:R,hasHandleBounds:L}=t,B=ns(),F=(0,c.useRef)(null),H=(0,c.useRef)(null),K=(0,c.useRef)(_),G=(0,c.useRef)(S),U=(0,c.useRef)(r),V=b||v||d||h||f||p,Y=at(),J=r7(n,B.getState,h),X=r7(n,B.getState,f),q=r7(n,B.getState,p),W=r7(n,B.getState,m),Z=r7(n,B.getState,g);(0,c.useEffect)(()=>()=>{H.current&&(null==C||C.unobserve(H.current),H.current=null)},[]),(0,c.useEffect)(()=>{if(F.current&&!E){let e=F.current;T&&L&&H.current===e||(H.current&&(null==C||C.unobserve(H.current)),null==C||C.observe(e),H.current=e)}},[E,T,L]),(0,c.useEffect)(()=>{let e=U.current!==r,t=K.current!==_,a=G.current!==S;F.current&&(e||t||a)&&(e&&(U.current=r),t&&(K.current=_),a&&(G.current=S),B.getState().updateNodeDimensions([{id:n,nodeElement:F.current,forceUpdate:!0}]))},[n,r,_,S]);let $=ae({nodeRef:F,disabled:E||!v,noDragClassName:O,handleSelector:M,nodeId:n,isSelectable:b,selectNodesOnDrag:k});return E?null:c.default.createElement("div",{className:N(["react-flow__node","react-flow__node-".concat(r),{[I]:v},x,{selected:u,selectable:b,parent:P,dragging:$}]),ref:F,style:{zIndex:A,transform:"translate(".concat(l,"px,").concat(s,"px)"),pointerEvents:V?"all":"none",visibility:T?"visible":"hidden",...y},"data-id":n,"data-testid":"rf__node-".concat(n),onMouseEnter:J,onMouseMove:X,onMouseLeave:q,onContextMenu:W,onClick:e=>{let{nodeDragThreshold:t}=B.getState();if(b&&(!k||!v||t>0)&&r9({id:n,store:B,nodeRef:F}),d){let t=B.getState().nodeInternals.get(n);t&&d(e,{...t})}},onDoubleClick:Z,onKeyDown:j?e=>{!nS(e)&&!D&&(nk.includes(e.key)&&b?r9({id:n,store:B,unselect:"Escape"===e.key,nodeRef:F}):v&&u&&Object.prototype.hasOwnProperty.call(an,e.key)&&(B.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~o,", y: ").concat(~~i)}),Y({x:an[e.key].x,y:an[e.key].y,isShiftPressed:e.shiftKey})))}:void 0,tabIndex:j?0:void 0,role:j?"button":void 0,"aria-describedby":D?void 0:"".concat(rN,"-").concat(R),"aria-label":z},c.default.createElement(nJ,{value:n},c.default.createElement(e,{id:n,data:a,type:r,xPos:o,yPos:i,selected:u,isConnectable:w,sourcePosition:_,targetPosition:S,dragging:$,dragHandle:M,zIndex:A})))};return t.displayName="NodeWrapper",(0,c.memo)(t)};let aa=e=>({...n$(e.getNodes().filter(e=>e.selected),e.nodeOrigin),transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive});var ao=(0,c.memo)(function(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:r}=e,a=ns(),{width:o,height:i,x:l,y:s,transformString:u,userSelectionActive:d}=nl(aa,O),h=at(),f=(0,c.useRef)(null);if((0,c.useEffect)(()=>{if(!r){var e;null==(e=f.current)||e.focus({preventScroll:!0})}},[r]),ae({nodeRef:f}),d||!o||!i)return null;let p=t?e=>{t(e,a.getState().getNodes().filter(e=>e.selected))}:void 0;return c.default.createElement("div",{className:N(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u}},c.default.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:e=>{Object.prototype.hasOwnProperty.call(an,e.key)&&h({x:an[e.key].x,y:an[e.key].y,isShiftPressed:e.shiftKey})},style:{width:o,height:i,top:s,left:l}}))});let ai=e=>e.nodesSelectionActive,al=e=>{let{children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,deleteKeyCode:s,onMove:u,onMoveStart:d,onMoveEnd:h,selectionKeyCode:f,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:b,elementsSelectable:w,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:k,panOnScrollSpeed:_,panOnScrollMode:S,zoomOnDoubleClick:E,panOnDrag:C,defaultViewport:M,translateExtent:A,minZoom:P,maxZoom:O,preventScrolling:I,onSelectionContextMenu:T,noWheelClassName:D,noPanClassName:z,disableKeyboardA11y:R}=e,L=nl(ai),B=rC(f),F=rC(v),H=F||C,K=F||k,G=B||p&&!0!==H;return(e=>{let{deleteKeyCode:t,multiSelectionKeyCode:n}=e,r=ns(),{deleteElements:a}=rL(),o=rC(t,rB),i=rC(n);(0,c.useEffect)(()=>{if(o){let{edges:e,getNodes:t}=r.getState();a({nodes:t().filter(e=>e.selected),edges:e.filter(e=>e.selected)}),r.setState({nodesSelectionActive:!1})}},[o]),(0,c.useEffect)(()=>{r.setState({multiSelectionActive:i})},[i])})({deleteKeyCode:s,multiSelectionKeyCode:x}),c.default.createElement(rY,{onMove:u,onMoveStart:d,onMoveEnd:h,onPaneContextMenu:i,elementsSelectable:w,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:K,panOnScrollSpeed:_,panOnScrollMode:S,zoomOnDoubleClick:E,panOnDrag:!B&&H,defaultViewport:M,translateExtent:A,minZoom:P,maxZoom:O,zoomActivationKeyCode:b,preventScrolling:I,noWheelClassName:D,noPanClassName:z},c.default.createElement(r2,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:H,isSelecting:!!G,selectionMode:m},t,L&&c.default.createElement(ao,{onSelectionContextMenu:T,noPanClassName:z,disableKeyboardA11y:R})))};al.displayName="FlowRenderer";var as=(0,c.memo)(al);function au(e){let t={input:ar(e.input||rl),default:ar(e.default||ro),output:ar(e.output||ru),group:ar(e.group||rc)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=ar(e[n]||ro),t),{});return{...t,...n}}let ac=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),ad=e=>{let{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:o,onError:i}=nl(ac,O),s=function(e){return nl((0,c.useCallback)(t=>e?nQ(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[e]))}(e.onlyRenderVisibleElements),u=(0,c.useRef)(),d=(0,c.useMemo)(()=>{if("undefined"==typeof ResizeObserver)return null;let e=new ResizeObserver(e=>{o(e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})))});return u.current=e,e},[]);return(0,c.useEffect)(()=>()=>{var e;null==u||null==(e=u.current)||e.disconnect()},[]),c.default.createElement("div",{className:"react-flow__nodes",style:rF},s.map(o=>{var s,u,h,f,p,m,g,y;let x=o.type||"default";e.nodeTypes[x]||(null==i||i("003",no.error003(x)),x="default");let v=e.nodeTypes[x]||e.nodeTypes.default,b=!!(o.draggable||t&&void 0===o.draggable),w=!!(o.selectable||a&&void 0===o.selectable),j=!!(o.connectable||n&&void 0===o.connectable),N=!!(o.focusable||r&&void 0===o.focusable),k=e.nodeExtent?nm(o.positionAbsolute,e.nodeExtent):o.positionAbsolute,_=null!=(f=null==k?void 0:k.x)?f:0,S=null!=(p=null==k?void 0:k.y)?p:0,E=(e=>{let{x:t,y:n,width:r,height:a,origin:o}=e;return!r||!a||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:n}:{x:t-r*o[0],y:n-a*o[1]}})({x:_,y:S,width:null!=(m=o.width)?m:0,height:null!=(g=o.height)?g:0,origin:e.nodeOrigin});return c.default.createElement(v,{key:o.id,id:o.id,className:o.className,style:o.style,type:x,data:o.data,sourcePosition:o.sourcePosition||l.Bottom,targetPosition:o.targetPosition||l.Top,hidden:o.hidden,xPos:_,yPos:S,xPosOrigin:E.x,yPosOrigin:E.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!o.selected,isDraggable:b,isSelectable:w,isConnectable:j,isFocusable:N,resizeObserver:d,dragHandle:o.dragHandle,zIndex:null!=(y=null==(s=o[nN])?void 0:s.z)?y:0,isParent:!!(null==(u=o[nN])?void 0:u.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!o.width&&!!o.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:o.ariaLabel,hasHandleBounds:!!(null==(h=o[nN])?void 0:h.handleBounds)})}))};ad.displayName="NodeRenderer";var ah=(0,c.memo)(ad);let af="react-flow__edgeupdater",ap=e=>{let{position:t,centerX:n,centerY:r,radius:a=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:u}=e;return c.default.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:N([af,"".concat(af,"-").concat(u)]),cx:((e,t,n)=>n===l.Left?e-t:n===l.Right?e+t:e)(n,a,t),cy:((e,t,n)=>n===l.Top?e-t:n===l.Bottom?e+t:e)(r,a,t),r:a,stroke:"transparent",fill:"transparent"})},am=()=>!0;var ag=e=>{let t=t=>{let{id:n,className:r,type:a,data:o,onClick:i,onEdgeDoubleClick:l,selected:s,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,style:y,source:x,target:v,sourceX:b,sourceY:w,targetX:j,targetY:k,sourcePosition:_,targetPosition:S,elementsSelectable:E,hidden:C,sourceHandleId:M,targetHandleId:A,onContextMenu:P,onMouseEnter:O,onMouseMove:I,onMouseLeave:T,reconnectRadius:D,onReconnect:z,onReconnectStart:R,onReconnectEnd:L,markerEnd:B,markerStart:F,rfId:H,ariaLabel:K,isFocusable:G,isReconnectable:U,pathOptions:V,interactionWidth:Y,disableKeyboardA11y:J}=t,X=(0,c.useRef)(null),[q,W]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(!1),Q=ns(),ee=(0,c.useMemo)(()=>"url('#".concat(nX(F,H),"')"),[F,H]),et=(0,c.useMemo)(()=>"url('#".concat(nX(B,H),"')"),[B,H]);if(C)return null;let en=nA(n,Q.getState,l),er=nA(n,Q.getState,P),ea=nA(n,Q.getState,O),eo=nA(n,Q.getState,I),ei=nA(n,Q.getState,T),el=(e,t)=>{if(0!==e.button)return;let{edges:r,isValidConnection:a}=Q.getState(),o=t?v:x,i=(t?A:M)||null,l=t?"target":"source",s=r.find(e=>e.id===n);$(!0),null==R||R(e,s,l),n8({event:e,handleId:i,nodeId:o,onConnect:e=>null==z?void 0:z(s,e),isTarget:t,getState:Q.getState,setState:Q.setState,isValidConnection:a||am,edgeUpdaterType:l,onReconnectEnd:e=>{$(!1),null==L||L(e,s,l)}})},es=()=>W(!0),eu=()=>W(!1);return c.default.createElement("g",{className:N(["react-flow__edge","react-flow__edge-".concat(a),r,{selected:s,animated:u,inactive:!E&&!i,updating:q}]),onClick:e=>{let{edges:t,addSelectedEdges:r,unselectNodesAndEdges:a,multiSelectionActive:o}=Q.getState(),l=t.find(e=>e.id===n);if(l){if(E)if(Q.setState({nodesSelectionActive:!1}),l.selected&&o){var s;a({nodes:[],edges:[l]}),null==(s=X.current)||s.blur()}else r([n]);i&&i(e,l)}},onDoubleClick:en,onContextMenu:er,onMouseEnter:ea,onMouseMove:eo,onMouseLeave:ei,onKeyDown:G?e=>{if(!J&&nk.includes(e.key)&&E){let{unselectNodesAndEdges:r,addSelectedEdges:a,edges:o}=Q.getState();if("Escape"===e.key){var t;null==(t=X.current)||t.blur(),r({edges:[o.find(e=>e.id===n)]})}else a([n])}}:void 0,tabIndex:G?0:void 0,role:G?"button":"img","data-testid":"rf__edge-".concat(n),"aria-label":null===K?void 0:K||"Edge from ".concat(x," to ").concat(v),"aria-describedby":G?"".concat(rk,"-").concat(H):void 0,ref:X},!Z&&c.default.createElement(e,{id:n,source:x,target:v,selected:s,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,data:o,style:y,sourceX:b,sourceY:w,targetX:j,targetY:k,sourcePosition:_,targetPosition:S,sourceHandleId:M,targetHandleId:A,markerStart:ee,markerEnd:et,pathOptions:V,interactionWidth:Y}),U&&c.default.createElement(c.default.Fragment,null,("source"===U||!0===U)&&c.default.createElement(ap,{position:_,centerX:b,centerY:w,radius:D,onMouseDown:e=>el(e,!0),onMouseEnter:es,onMouseOut:eu,type:"source"}),("target"===U||!0===U)&&c.default.createElement(ap,{position:S,centerX:j,centerY:k,radius:D,onMouseDown:e=>el(e,!1),onMouseEnter:es,onMouseOut:eu,type:"target"})))};return t.displayName="EdgeWrapper",(0,c.memo)(t)};function ay(e){let t={default:ag(e.default||nV),straight:ag(e.bezier||nH),step:ag(e.step||nF),smoothstep:ag(e.step||nB),simplebezier:ag(e.simplebezier||nD)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=ag(e[n]||nV),t),{});return{...t,...n}}function ax(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=((null==n?void 0:n.x)||0)+t.x,a=((null==n?void 0:n.y)||0)+t.y,o=(null==n?void 0:n.width)||t.width,i=(null==n?void 0:n.height)||t.height;switch(e){case l.Top:return{x:r+o/2,y:a};case l.Right:return{x:r+o,y:a+i/2};case l.Bottom:return{x:r+o/2,y:a+i};case l.Left:return{x:r,y:a+i/2}}}function av(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function ab(e){var t,n,r,a,o;let i=(null==e||null==(t=e[nN])?void 0:t.handleBounds)||null,l=i&&(null==e?void 0:e.width)&&(null==e?void 0:e.height)&&void 0!==(null==e||null==(n=e.positionAbsolute)?void 0:n.x)&&void 0!==(null==e||null==(r=e.positionAbsolute)?void 0:r.y);return[{x:(null==e||null==(a=e.positionAbsolute)?void 0:a.x)||0,y:(null==e||null==(o=e.positionAbsolute)?void 0:o.y)||0,width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0},i,!!l]}let aw=[{level:0,isMaxLevel:!0,edges:[]}],aj={[i.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return c.default.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[i.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return c.default.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},aN=e=>{let{id:t,type:n,color:r,width:a=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:s="auto-start-reverse"}=e,u=function(e){let t=ns();return(0,c.useMemo)(()=>{if(!Object.prototype.hasOwnProperty.call(aj,e)){var n,r;return null==(n=(r=t.getState()).onError)||n.call(r,"009",no.error009(e)),null}return aj[e]},[e])}(n);return u?c.default.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(a),markerHeight:"".concat(o),viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0"},c.default.createElement(u,{color:r,strokeWidth:l})):null},ak=e=>{let{defaultColor:t,rfId:n}=e,r=nl((0,c.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{let r=[];return e.edges.reduce((e,a)=>([a.markerStart,a.markerEnd].forEach(a=>{if(a&&"object"==typeof a){let o=nX(a,n);r.includes(o)||(e.push({id:o,color:a.color||t,...a}),r.push(o))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:t,rfId:n}),[t,n]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return c.default.createElement("defs",null,r.map(e=>c.default.createElement(aN,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};ak.displayName="MarkerDefinitions";var a_=(0,c.memo)(ak);let aS=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),aE=e=>{let{defaultMarkerColor:t,onlyRenderVisibleElements:r,elevateEdgesOnSelect:a,rfId:o,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:u,onEdgeMouseEnter:d,onEdgeMouseMove:h,onEdgeMouseLeave:f,onEdgeClick:p,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:y,onReconnectEnd:x,reconnectRadius:v,children:b,disableKeyboardA11y:w}=e,{edgesFocusable:j,edgesUpdatable:k,elementsSelectable:_,width:S,height:E,connectionMode:C,nodeInternals:M,onError:A}=nl(aS,O),P=function(e,t,n){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1,a=Object.entries(e.reduce((e,a)=>{let o=nj(a.zIndex),i=o?a.zIndex:0;if(n){var l,s;let e=t.get(a.target),n=t.get(a.source),r=a.selected||(null==e?void 0:e.selected)||(null==n?void 0:n.selected),u=Math.max((null==n||null==(l=n[nN])?void 0:l.z)||0,(null==e||null==(s=e[nN])?void 0:s.z)||0,1e3);i=(o?a.zIndex:0)+(r?u:0)}return e[i]?e[i].push(a):e[i]=[a],r=i>r?i:r,e},{})).map(e=>{let[t,n]=e,a=+t;return{edges:n,level:a,isMaxLevel:a===r}});return 0===a.length?aw:a}(nl((0,c.useCallback)(n=>e?n.edges.filter(e=>{let r=t.get(e.source),a=t.get(e.target);return(null==r?void 0:r.width)&&(null==r?void 0:r.height)&&(null==a?void 0:a.width)&&(null==a?void 0:a.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:a,targetWidth:o,targetHeight:i,width:l,height:s,transform:u}=e,c={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+o),y2:Math.max(t.y+a,n.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);let d=nv({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:l/u[2],height:s/u[2]});return Math.ceil(Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x))*Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y)))>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:a.width,targetHeight:a.height,width:n.width,height:n.height,transform:n.transform})}):n.edges,[e,t])),t,n)}(r,M,a);return S?c.default.createElement(c.default.Fragment,null,P.map(e=>{let{level:r,edges:a,isMaxLevel:b}=e;return c.default.createElement("svg",{key:r,style:{zIndex:r},width:S,height:E,className:"react-flow__edges react-flow__container"},b&&c.default.createElement(a_,{defaultColor:t,rfId:o}),c.default.createElement("g",null,a.map(e=>{var t,r;let[a,b,S]=ab(M.get(e.source)),[E,P,O]=ab(M.get(e.target));if(!S||!O)return null;let I=e.type||"default";i[I]||(null==A||A("011",no.error011(I)),I="default");let T=i[I]||i.default,D=C===n.Strict?P.target:(null!=(t=P.target)?t:[]).concat(null!=(r=P.source)?r:[]),z=av(b.source,e.sourceHandle),R=av(D,e.targetHandle),L=(null==z?void 0:z.position)||l.Bottom,B=(null==R?void 0:R.position)||l.Top,F=!!(e.focusable||j&&void 0===e.focusable),H=e.reconnectable||e.updatable;if(!z||!R)return null==A||A("008",no.error008(z,e)),null;let{sourceX:K,sourceY:G,targetX:U,targetY:V}=((e,t,n,r,a,o)=>{let i=ax(n,e,t),l=ax(o,r,a);return{sourceX:i.x,sourceY:i.y,targetX:l.x,targetY:l.y}})(a,z,L,E,R,B);return c.default.createElement(T,{key:e.id,id:e.id,className:N([e.className,s]),type:I,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:K,sourceY:G,targetX:U,targetY:V,sourcePosition:L,targetPosition:B,elementsSelectable:_,onContextMenu:u,onMouseEnter:d,onMouseMove:h,onMouseLeave:f,onClick:p,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:y,onReconnectEnd:x,reconnectRadius:v,rfId:o,ariaLabel:e.ariaLabel,isFocusable:F,isReconnectable:void 0!==g&&(H||k&&void 0===H),pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:w})})))}),b):null};aE.displayName="EdgeRenderer";var aC=(0,c.memo)(aE);let aM=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function aA(e){let{children:t}=e,n=nl(aM);return c.default.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}let aP={[l.Left]:l.Right,[l.Right]:l.Left,[l.Top]:l.Bottom,[l.Bottom]:l.Top},aO=e=>{var t,r,a,i,l,s,u;let{nodeId:d,handleType:h,style:f,type:p=o.Bezier,CustomComponent:m,connectionStatus:g}=e,{fromNode:y,handleId:x,toX:v,toY:b,connectionMode:w}=nl((0,c.useCallback)(e=>({fromNode:e.nodeInternals.get(d),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[d]),O),j=null==y||null==(t=y[nN])?void 0:t.handleBounds,N=null==j?void 0:j[h];if(w===n.Loose&&(N=N||(null==j?void 0:j["source"===h?"target":"source"])),!y||!N)return null;let k=x?N.find(e=>e.id===x):N[0],_=k?k.x+k.width/2:(null!=(i=y.width)?i:0)/2,S=k?k.y+k.height/2:null!=(l=y.height)?l:0,E=(null!=(s=null==(r=y.positionAbsolute)?void 0:r.x)?s:0)+_,C=(null!=(u=null==(a=y.positionAbsolute)?void 0:a.y)?u:0)+S,M=null==k?void 0:k.position,A=M?aP[M]:null;if(!M||!A)return null;if(m)return c.default.createElement(m,{connectionLineType:p,connectionLineStyle:f,fromNode:y,fromHandle:k,fromX:E,fromY:C,toX:v,toY:b,fromPosition:M,toPosition:A,connectionStatus:g});let P="",I={sourceX:E,sourceY:C,sourcePosition:M,targetX:v,targetY:b,targetPosition:A};return p===o.Bezier?[P]=nU(I):p===o.Step?[P]=nL({...I,borderRadius:0}):p===o.SmoothStep?[P]=nL(I):p===o.SimpleBezier?[P]=nT(I):P="M".concat(E,",").concat(C," ").concat(v,",").concat(b),c.default.createElement("path",{d:P,fill:"none",className:"react-flow__connection-path",style:f})};aO.displayName="ConnectionLine";let aI=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function aT(e){let{containerStyle:t,style:n,type:r,component:a}=e,{nodeId:o,handleType:i,nodesConnectable:l,width:s,height:u,connectionStatus:d}=nl(aI,O);return o&&i&&s&&l?c.default.createElement("svg",{style:t,width:s,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},c.default.createElement("g",{className:N(["react-flow__connection",d])},c.default.createElement(aO,{nodeId:o,handleType:i,style:n,type:r,CustomComponent:a,connectionStatus:d}))):null}function aD(e,t){return(0,c.useRef)(null),ns(),(0,c.useMemo)(()=>t(e),[e])}let az=e=>{let{nodeTypes:t,edgeTypes:n,onMove:r,onMoveStart:a,onMoveEnd:o,onInit:i,onNodeClick:l,onEdgeClick:s,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:y,onSelectionEnd:x,connectionLineType:v,connectionLineStyle:b,connectionLineComponent:w,connectionLineContainerStyle:j,selectionKeyCode:N,selectionOnDrag:k,selectionMode:_,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:C,deleteKeyCode:M,onlyRenderVisibleElements:A,elementsSelectable:P,selectNodesOnDrag:O,defaultViewport:I,translateExtent:T,minZoom:D,maxZoom:z,preventScrolling:R,defaultMarkerColor:L,zoomOnScroll:B,zoomOnPinch:F,panOnScroll:H,panOnScrollSpeed:K,panOnScrollMode:G,zoomOnDoubleClick:U,panOnDrag:V,onPaneClick:Y,onPaneMouseEnter:J,onPaneMouseMove:X,onPaneMouseLeave:q,onPaneScroll:W,onPaneContextMenu:Z,onEdgeContextMenu:$,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:et,onReconnect:en,onReconnectStart:er,onReconnectEnd:ea,reconnectRadius:eo,noDragClassName:ei,noWheelClassName:el,noPanClassName:es,elevateEdgesOnSelect:eu,disableKeyboardA11y:ec,nodeOrigin:ed,nodeExtent:eh,rfId:ef}=e,ep=aD(t,au),em=aD(n,ay);return!function(e){let t=rL(),n=(0,c.useRef)(!1);(0,c.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(i),c.default.createElement(as,{onPaneClick:Y,onPaneMouseEnter:J,onPaneMouseMove:X,onPaneMouseLeave:q,onPaneContextMenu:Z,onPaneScroll:W,deleteKeyCode:M,selectionKeyCode:N,selectionOnDrag:k,selectionMode:_,onSelectionStart:y,onSelectionEnd:x,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:C,elementsSelectable:P,onMove:r,onMoveStart:a,onMoveEnd:o,zoomOnScroll:B,zoomOnPinch:F,zoomOnDoubleClick:U,panOnScroll:H,panOnScrollSpeed:K,panOnScrollMode:G,panOnDrag:V,defaultViewport:I,translateExtent:T,minZoom:D,maxZoom:z,onSelectionContextMenu:g,preventScrolling:R,noDragClassName:ei,noWheelClassName:el,noPanClassName:es,disableKeyboardA11y:ec},c.default.createElement(aA,null,c.default.createElement(aC,{edgeTypes:em,onEdgeClick:s,onEdgeDoubleClick:d,onlyRenderVisibleElements:A,onEdgeContextMenu:$,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:et,onReconnect:en,onReconnectStart:er,onReconnectEnd:ea,reconnectRadius:eo,defaultMarkerColor:L,noPanClassName:es,elevateEdgesOnSelect:!!eu,disableKeyboardA11y:ec,rfId:ef},c.default.createElement(aT,{style:b,type:v,component:w,containerStyle:j})),c.default.createElement("div",{className:"react-flow__edgelabel-renderer"}),c.default.createElement(ah,{nodeTypes:ep,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:O,onlyRenderVisibleElements:A,noPanClassName:es,noDragClassName:ei,disableKeyboardA11y:ec,nodeOrigin:ed,nodeExtent:eh,rfId:ef})))};az.displayName="GraphView";var aR=(0,c.memo)(az);let aL=[[-1/0,-1/0],[1/0,1/0]],aB={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:aL,nodeExtent:aL,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:n.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:n_,isValidConnection:void 0},aF=e=>{let{children:t}=e,n=(0,c.useRef)(null);return n.current||(n.current=((e,t)=>e?P(e,t):P)((e,t)=>({...aB,setNodes:n=>{let{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:rO(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{let{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>({...r,...e}))})},setDefaultNodesAndEdges:(n,r)=>{let a=void 0!==n,o=void 0!==r;e({nodeInternals:a?rO(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{let{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:i,fitViewOnInitOptions:l,domNode:s,nodeOrigin:u}=t(),c=null==s?void 0:s.querySelector(".react-flow__viewport");if(!c)return;let d=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=n.reduce((e,t)=>{let n=a.get(t.id);if(null==n?void 0:n.hidden)a.set(n.id,{...n,[nN]:{...n[nN],handleBounds:void 0}});else if(n){let r=nf(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(a.set(n.id,{...n,[nN]:{...n[nN],handleBounds:{source:r6(".source",t.nodeElement,h,u),target:r6(".target",t.nodeElement,h,u)}},...r}),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);rP(a,u);let p=i||o&&!i&&rI(t,{initial:!0,...l});e({nodeInternals:new Map(a),fitViewOnInitDone:p}),(null==f?void 0:f.length)>0&&(null==r||r(f))},updateNodePositions:function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{triggerNodeChanges:a}=t();a(e.map(e=>{let t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}))},triggerNodeChanges:n=>{let{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:i,getNodes:l,elevateNodesOnSelect:s}=t();(null==n?void 0:n.length)&&(o&&e({nodeInternals:rO(rZ(n,l()),a,i,s)}),null==r||r(n))},addSelectedNodes:n=>{let r,{multiSelectionActive:a,edges:o,getNodes:i}=t(),l=null;a?r=n.map(e=>r$(e,!0)):(r=rQ(i(),n),l=rQ(o,[])),rT({changedNodes:r,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{let r,{multiSelectionActive:a,edges:o,getNodes:i}=t(),l=null;a?r=n.map(e=>r$(e,!0)):(r=rQ(o,n),l=rQ(i(),[])),rT({changedNodes:l,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{edges:a,getNodes:o}=t();rT({changedNodes:(n||o()).map(e=>(e.selected=!1,r$(e.id,!1))),changedEdges:(r||a).map(e=>r$(e.id,!1)),get:t,set:e})},setMinZoom:n=>{let{d3Zoom:r,maxZoom:a}=t();null==r||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{let{d3Zoom:r,minZoom:a}=t();null==r||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null==(r=t().d3Zoom)||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{let{edges:n,getNodes:r}=t();rT({changedNodes:r().filter(e=>e.selected).map(e=>r$(e.id,!1)),changedEdges:n.filter(e=>e.selected).map(e=>r$(e.id,!1)),get:t,set:e})},setNodeExtent:n=>{let{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=nm(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{let{transform:n,width:r,height:a,d3Zoom:o,d3Selection:i,translateExtent:l}=t();if(!o||!i||!e.x&&!e.y)return!1;let s=t$.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),u=null==o?void 0:o.constrain()(s,[[0,0],[r,a]],l);return o.transform(i,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:aB.connectionNodeId,connectionHandleId:aB.connectionHandleId,connectionHandleType:aB.connectionHandleType,connectionStatus:aB.connectionStatus,connectionStartHandle:aB.connectionStartHandle,connectionEndHandle:aB.connectionEndHandle}),reset:()=>e({...aB})}),Object.is)),c.default.createElement(na,{value:n.current},t)};aF.displayName="ReactFlowProvider";let aH=e=>{let{children:t}=e;return(0,c.useContext)(nr)?c.default.createElement(c.default.Fragment,null,t):c.default.createElement(aF,null,t)};aH.displayName="ReactFlowWrapper";let aK={input:rl,default:ro,output:ru,group:rc},aG={default:nV,straight:nH,step:nF,smoothstep:nB,simplebezier:nD},aU=[0,0],aV=[15,15],aY={x:0,y:0,zoom:1},aJ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},aX=(0,c.forwardRef)((e,t)=>{let{nodes:i,edges:l,defaultNodes:s,defaultEdges:u,className:d,nodeTypes:h=aK,edgeTypes:f=aG,onNodeClick:p,onEdgeClick:m,onInit:g,onMove:y,onMoveStart:x,onMoveEnd:v,onConnect:b,onConnectStart:w,onConnectEnd:j,onClickConnectStart:k,onClickConnectEnd:_,onNodeMouseEnter:S,onNodeMouseMove:E,onNodeMouseLeave:C,onNodeContextMenu:M,onNodeDoubleClick:A,onNodeDragStart:P,onNodeDrag:O,onNodeDragStop:I,onNodesDelete:T,onEdgesDelete:D,onSelectionChange:z,onSelectionDragStart:R,onSelectionDrag:L,onSelectionDragStop:B,onSelectionContextMenu:F,onSelectionStart:H,onSelectionEnd:K,connectionMode:G=n.Strict,connectionLineType:U=o.Bezier,connectionLineStyle:V,connectionLineComponent:Y,connectionLineContainerStyle:J,deleteKeyCode:X="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:W=!1,selectionMode:Z=a.Full,panActivationKeyCode:$="Space",multiSelectionKeyCode:Q=nC()?"Meta":"Control",zoomActivationKeyCode:ee=nC()?"Meta":"Control",snapToGrid:et=!1,snapGrid:en=aV,onlyRenderVisibleElements:er=!1,selectNodesOnDrag:ea=!0,nodesDraggable:eo,nodesConnectable:ei,nodesFocusable:el,nodeOrigin:es=aU,edgesFocusable:eu,edgesUpdatable:ec,elementsSelectable:ed,defaultViewport:eh=aY,minZoom:ef=.5,maxZoom:ep=2,translateExtent:em=aL,preventScrolling:eg=!0,nodeExtent:ey,defaultMarkerColor:ex="#b1b1b7",zoomOnScroll:ev=!0,zoomOnPinch:eb=!0,panOnScroll:ew=!1,panOnScrollSpeed:ej=.5,panOnScrollMode:eN=r.Free,zoomOnDoubleClick:ek=!0,panOnDrag:e_=!0,onPaneClick:eS,onPaneMouseEnter:eE,onPaneMouseMove:eC,onPaneMouseLeave:eM,onPaneScroll:eA,onPaneContextMenu:eP,children:eO,onEdgeContextMenu:eI,onEdgeDoubleClick:eT,onEdgeMouseEnter:eD,onEdgeMouseMove:ez,onEdgeMouseLeave:eR,onEdgeUpdate:eL,onEdgeUpdateStart:eB,onEdgeUpdateEnd:eF,onReconnect:eH,onReconnectStart:eK,onReconnectEnd:eG,reconnectRadius:eU=10,edgeUpdaterRadius:eV=10,onNodesChange:eY,onEdgesChange:eJ,noDragClassName:eX="nodrag",noWheelClassName:eq="nowheel",noPanClassName:eW="nopan",fitView:eZ=!1,fitViewOptions:e$,connectOnClick:eQ=!0,attributionPosition:e0,proOptions:e1,defaultEdgeOptions:e2,elevateNodesOnSelect:e3=!0,elevateEdgesOnSelect:e5=!1,disableKeyboardA11y:e4=!1,autoPanOnConnect:e6=!0,autoPanOnNodeDrag:e7=!0,connectionRadius:e9=20,isValidConnection:e8,onError:te,style:tt,id:tn,nodeDragThreshold:tr,...ta}=e,to=tn||"1";return c.default.createElement("div",{...ta,style:{...tt,...aJ},ref:t,className:N(["react-flow",d]),"data-testid":"rf__wrapper",id:tn},c.default.createElement(aH,null,c.default.createElement(aR,{onInit:g,onMove:y,onMoveStart:x,onMoveEnd:v,onNodeClick:p,onEdgeClick:m,onNodeMouseEnter:S,onNodeMouseMove:E,onNodeMouseLeave:C,onNodeContextMenu:M,onNodeDoubleClick:A,nodeTypes:h,edgeTypes:f,connectionLineType:U,connectionLineStyle:V,connectionLineComponent:Y,connectionLineContainerStyle:J,selectionKeyCode:q,selectionOnDrag:W,selectionMode:Z,deleteKeyCode:X,multiSelectionKeyCode:Q,panActivationKeyCode:$,zoomActivationKeyCode:ee,onlyRenderVisibleElements:er,selectNodesOnDrag:ea,defaultViewport:eh,translateExtent:em,minZoom:ef,maxZoom:ep,preventScrolling:eg,zoomOnScroll:ev,zoomOnPinch:eb,zoomOnDoubleClick:ek,panOnScroll:ew,panOnScrollSpeed:ej,panOnScrollMode:eN,panOnDrag:e_,onPaneClick:eS,onPaneMouseEnter:eE,onPaneMouseMove:eC,onPaneMouseLeave:eM,onPaneScroll:eA,onPaneContextMenu:eP,onSelectionContextMenu:F,onSelectionStart:H,onSelectionEnd:K,onEdgeContextMenu:eI,onEdgeDoubleClick:eT,onEdgeMouseEnter:eD,onEdgeMouseMove:ez,onEdgeMouseLeave:eR,onReconnect:null!=eH?eH:eL,onReconnectStart:null!=eK?eK:eB,onReconnectEnd:null!=eG?eG:eF,reconnectRadius:null!=eU?eU:eV,defaultMarkerColor:ex,noDragClassName:eX,noWheelClassName:eq,noPanClassName:eW,elevateEdgesOnSelect:e5,rfId:to,disableKeyboardA11y:e4,nodeOrigin:es,nodeExtent:ey}),c.default.createElement(rb,{nodes:i,edges:l,defaultNodes:s,defaultEdges:u,onConnect:b,onConnectStart:w,onConnectEnd:j,onClickConnectStart:k,onClickConnectEnd:_,nodesDraggable:eo,nodesConnectable:ei,nodesFocusable:el,edgesFocusable:eu,edgesUpdatable:ec,elementsSelectable:ed,elevateNodesOnSelect:e3,minZoom:ef,maxZoom:ep,nodeExtent:ey,onNodesChange:eY,onEdgesChange:eJ,snapToGrid:et,snapGrid:en,connectionMode:G,translateExtent:em,connectOnClick:eQ,defaultEdgeOptions:e2,fitView:eZ,fitViewOptions:e$,onNodesDelete:T,onEdgesDelete:D,onNodeDragStart:P,onNodeDrag:O,onNodeDragStop:I,onSelectionDrag:L,onSelectionDragStart:R,onSelectionDragStop:B,noPanClassName:eW,nodeOrigin:es,rfId:to,autoPanOnConnect:e6,autoPanOnNodeDrag:e7,onError:te,connectionRadius:e9,isValidConnection:e8,nodeDragThreshold:tr}),c.default.createElement(rg,{onSelectionChange:z}),eO,c.default.createElement(nd,{proOptions:e1,position:e0}),c.default.createElement(rE,{rfId:to,disableKeyboardA11y:e4})))});function aq(e){return t=>{let[n,r]=(0,c.useState)(t),a=(0,c.useCallback)(t=>r(n=>e(t,n)),[]);return[n,r,a]}}aX.displayName="ReactFlow";let aW=aq(rZ),aZ=aq(function(e,t){return rW(e,t)});function a$(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},c.default.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function aQ(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},c.default.createElement("path",{d:"M0 0h32v4.2H0z"}))}function a0(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},c.default.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function a1(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},c.default.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function a2(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},c.default.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}let a3=e=>{let{children:t,className:n,...r}=e;return c.default.createElement("button",{type:"button",className:N(["react-flow__controls-button",n]),...r},t)};a3.displayName="ControlButton";let a5=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),a4=e=>{let{style:t,showZoom:n=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:l,onFitView:s,onInteractiveChange:u,className:d,children:h,position:f="bottom-left"}=e,p=ns(),[m,g]=(0,c.useState)(!1),{isInteractive:y,minZoomReached:x,maxZoomReached:v}=nl(a5,O),{zoomIn:b,zoomOut:w,fitView:j}=rL();return((0,c.useEffect)(()=>{g(!0)},[]),m)?c.default.createElement(nc,{className:N(["react-flow__controls",d]),position:f,style:t,"data-testid":"rf__controls"},n&&c.default.createElement(c.default.Fragment,null,c.default.createElement(a3,{onClick:()=>{b(),null==i||i()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v},c.default.createElement(a$,null)),c.default.createElement(a3,{onClick:()=>{w(),null==l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x},c.default.createElement(aQ,null))),r&&c.default.createElement(a3,{className:"react-flow__controls-fitview",onClick:()=>{j(o),null==s||s()},title:"fit view","aria-label":"fit view"},c.default.createElement(a0,null)),a&&c.default.createElement(a3,{className:"react-flow__controls-interactive",onClick:()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),null==u||u(!y)},title:"toggle interactivity","aria-label":"toggle interactivity"},y?c.default.createElement(a2,null):c.default.createElement(a1,null)),h):null};a4.displayName="Controls";var a6=(0,c.memo)(a4);function a7(e){let{color:t,dimensions:n,lineWidth:r}=e;return c.default.createElement("path",{stroke:t,strokeWidth:r,d:"M".concat(n[0]/2," 0 V").concat(n[1]," M0 ").concat(n[1]/2," H").concat(n[0])})}function a9(e){let{color:t,radius:n}=e;return c.default.createElement("circle",{cx:n,cy:n,r:n,fill:t})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(s||(s={}));let a8={[s.Dots]:"#91919a",[s.Lines]:"#eee",[s.Cross]:"#e2e2e2"},oe={[s.Dots]:1,[s.Lines]:1,[s.Cross]:6},ot=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function on(e){let{id:t,variant:n=s.Dots,gap:r=20,size:a,lineWidth:o=1,offset:i=2,color:l,style:u,className:d}=e,h=(0,c.useRef)(null),{transform:f,patternId:p}=nl(ot,O),m=l||a8[n],g=a||oe[n],y=n===s.Dots,x=n===s.Cross,v=Array.isArray(r)?r:[r,r],b=[v[0]*f[2]||1,v[1]*f[2]||1],w=g*f[2],j=x?[w,w]:b,k=y?[w/i,w/i]:[j[0]/i,j[1]/i];return c.default.createElement("svg",{className:N(["react-flow__background",d]),style:{...u,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:h,"data-testid":"rf__background"},c.default.createElement("pattern",{id:p+t,x:f[0]%b[0],y:f[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(k[0],",-").concat(k[1],")")},y?c.default.createElement(a9,{color:m,radius:w/i}):c.default.createElement(a7,{dimensions:j,color:m,lineWidth:o})),c.default.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(p+t,")")}))}on.displayName="Background";var or=(0,c.memo)(on),oa=e.i(39669);let oo=async()=>(await d.default.get("".concat("http://hrmsbe.logikasistembisnis.id","/companydesign"))).data;function oi(e){let{companies:t}=e,[n,r,a]=aW([]),[o,l,s]=aZ([]),d=(0,c.useMemo)(()=>({}),[]);return(0,c.useEffect)(()=>{let e=t.filter(e=>""!==e.design),{nodes:n,edges:a}=((e,t)=>{let n=new oa.default.graphlib.Graph;return n.setGraph({rankdir:"TB",nodesep:50,ranksep:60}),n.setDefaultEdgeLabel(()=>({})),e.forEach(e=>{n.setNode(e.id,{width:180,height:60})}),t.forEach(e=>{n.setEdge(e.source,e.target)}),oa.default.layout(n),{nodes:e.map(e=>{let{x:t,y:r}=n.node(e.id);return{...e,position:{x:t-90,y:r-30}}}),edges:t}})(e.map(e=>({id:e.companyid.toString(),type:"default",data:{label:(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},children:[" ",(0,u.jsx)("p",{className:"font-semibold whitespace-normal",children:e.name}),(0,u.jsx)("p",{className:"text-xs italic",children:e.design})]})},position:{x:0,y:0},style:(e=>{let t={padding:"8px 16px",borderWidth:"1px",borderRadius:"8px",fontSize:"12px",textAlign:"center"};switch(e){case"Super Holding":return{...t,backgroundColor:"#DBEAFE",borderColor:"#93C5FD",color:"#1E3A8A"};case"Holding":return{...t,backgroundColor:"#E0F2FE",borderColor:"#7DD3FC",color:"#075985"};case"Country Operation":return{...t,backgroundColor:"#FEF9C3",borderColor:"#FDE047",color:"#713F12"};case"Subsidiary":return{...t,backgroundColor:"#DCFCE7",borderColor:"#86EFAC",color:"#166534"};case"Stand Alone":return{...t,backgroundColor:"#F3F4F6",borderColor:"#D1D5DB",color:"#374151"};default:return{...t,backgroundColor:"#FFFFFF",borderColor:"#D1D5DB"}}})(e.design)})),e.filter(e=>""!==e.reportTo).map(e=>{let n=t.find(t=>t.name===e.reportTo);return n?{id:"e-".concat(n.companyid,"-").concat(e.companyid),source:n.companyid.toString(),target:e.companyid.toString(),type:"smoothstep",markerEnd:{type:i.ArrowClosed,color:"#6b7280"},style:{stroke:"#6b7280"}}:null}).filter(e=>null!==e));r(n),l(a)},[t,r,l]),(0,u.jsxs)(aX,{nodes:n,edges:o,onNodesChange:a,onEdgesChange:s,nodeTypes:d,fitView:!0,nodesDraggable:!0,children:[(0,u.jsx)(a6,{}),(0,u.jsx)(or,{})]})}function ol(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[l,s]=(0,c.useState)(!0),[d,h]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([f(),oo()]),n=e.data.map(e=>{var t,n;return{...e,design:(null==(t=e.companydesign)?void 0:t.name)||"",reportTo:(null==(n=e.reporttocompany)?void 0:n.name)||""}});a(n),i(t.data)}catch(e){console.error("Gagal memuat data:",e)}finally{s(!1)}})()},[]);let p=(e,t,n)=>{let o=[...r];o[e]={...o[e],[t]:n},"design"===t&&(o[e].reportTo=""),a(o)},m=async()=>{try{h(!0);let e=r.filter(e=>""!==e.design).map(e=>{var t,n;let a=o.find(t=>t.name===e.design),i=r.find(t=>t.name===e.reportTo);return{companyid:e.companyid,companydesignid:null!=(t=null==a?void 0:a.companydesignid)?t:null,reporttocompanyid:null!=(n=null==i?void 0:i.companyid)?n:null}});await g(e),alert("Desain perusahaan berhasil disimpan!"),t()}catch(e){console.error("Gagal menyimpan desain perusahaan:",e),alert("Terjadi kesalahan saat menyimpan data.")}finally{h(!1)}},{hasAnyDesign:y,hasRoot:x}=(0,c.useMemo)(()=>({hasAnyDesign:r.some(e=>""!==e.design),hasRoot:r.some(e=>"Super Holding"===e.design||"Stand Alone"===e.design)}),[r]);return l?(0,u.jsx)("p",{className:"p-6 text-gray-600",children:"Memuat data..."}):(0,u.jsxs)("div",{className:"p-6 w-full mx-auto",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"5. Masukan informasi group perusahaan"}),(0,u.jsxs)("div",{className:"grid grid-cols-4 font-semibold text-sm bg-gray-100 border border-gray-300 rounded-t-md",children:[(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:"Nama Perusahaan"}),(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:"Negara"}),(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:"Desain Perusahaan"}),(0,u.jsx)("div",{className:"p-2",children:"Melapor Ke"})]}),r.map((e,t)=>{var n;let a=(e=>{switch(e){case"Super Holding":case"Stand Alone":default:return[];case"Holding":return r.filter(e=>"Super Holding"===e.design);case"Country Operation":return r.filter(e=>"Super Holding"===e.design||"Holding"===e.design);case"Subsidiary":return r.filter(e=>"Super Holding"===e.design||"Holding"===e.design||"Country Operation"===e.design)}})(e.design),i="Super Holding"===e.design||"Stand Alone"===e.design||0===a.length;return(0,u.jsxs)("div",{className:"grid grid-cols-4 border-x border-b border-gray-300 text-sm",children:[(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:e.name}),(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:(null==(n=e.country)?void 0:n.name)||""}),(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:(0,u.jsxs)("select",{value:e.design,onChange:e=>p(t,"design",e.target.value),className:"w-full border border-gray-300 rounded-md p-1 bg-blue-50 focus:ring-2 focus:ring-blue-400",children:[(0,u.jsx)("option",{value:"",children:"Pilih"}),o.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companydesignid))]})}),(0,u.jsx)("div",{className:"p-2",children:(0,u.jsxs)("select",{value:e.reportTo,onChange:e=>p(t,"reportTo",e.target.value),disabled:i,className:"w-full border border-gray-300 rounded-md p-1 ".concat(i?"bg-gray-100 text-gray-400":"bg-blue-50 focus:ring-2 focus:ring-blue-400"),children:[(0,u.jsx)("option",{value:"",children:""}),a.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.name))]})})]},t)}),(0,u.jsxs)("div",{className:"mt-6 w-full p-6 bg-gray-50 rounded-lg border overflow-hidden",style:{height:"500px"},children:[(0,u.jsx)("h4",{className:"text-md font-semibold mb-4 text-center",children:"Bagan Struktur Organisasi (Live Preview)"}),!y&&(0,u.jsxs)("div",{className:"h-full flex flex-col justify-center items-center text-center text-gray-500",children:[(0,u.jsx)("p",{children:"Bagan struktur akan muncul di sini."}),(0,u.jsx)("p",{className:"text-sm",children:'Mulai dengan memilih "Super Holding" atau "Stand Alone" pada tabel di atas.'})]}),y&&!x&&(0,u.jsxs)("div",{className:"h-full flex flex-col justify-center items-center text-center text-red-600",children:[(0,u.jsx)("p",{className:"font-semibold",children:"Struktur Tidak Valid"}),(0,u.jsx)("p",{className:"text-sm",children:'Tidak ditemukan "Super Holding" atau "Stand Alone" sebagai akar struktur.'})]}),y&&x&&(0,u.jsx)(oi,{companies:r})]}),(0,u.jsxs)("div",{className:"flex gap-4 justify-end mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition",disabled:d,children:"Kembali"}),(0,u.jsx)("button",{onClick:m,disabled:d,className:"".concat(d?"bg-gray-400":"bg-green-500 hover:bg-green-700"," text-sm text-white font-semibold py-2 px-6 rounded-full transition"),children:d?"Menyimpan...":"Simpan & Lanjut"})]})]})}let os="http://hrmsbe.logikasistembisnis.id",ou=async()=>(await d.default.get("".concat(os,"/baseorgstructure"))).data,oc=async()=>(await d.default.get("".concat(os,"/companybaseorgstruc"))).data,od=async e=>(await d.default.put("".concat(os,"/companybaseorgstruc"),e,{headers:{"Content-Type":"application/json"}})).data;function oh(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[l,s]=(0,c.useState)([]),[d,h]=(0,c.useState)(""),[p,m]=(0,c.useState)(!0),[g,y]=(0,c.useState)(!1),[x,v]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{m(!0);let[e,t,n]=await Promise.all([f(),ou(),oc()]);a((e.data||[]).sort((e,t)=>e.companyid-t.companyid)),i((t.data||[]).sort((e,t)=>e.ordeno-t.ordeno)),s(n.data||[])}catch(e){console.error("Gagal memuat data:",e),v("Gagal memuat data perusahaan atau struktur organisasi")}finally{m(!1)}})()},[]);let b=r.find(e=>e.name===d),w=async()=>{if(!b)return;y(!0),v(null);let e=b.companyid,t=o.map(t=>{let n=l.find(n=>n.companyid===e&&n.baseorgstructureid===t.baseorgstructureid);return n?{id:0!==n.id?n.id:void 0,companyid:e,baseorgstructureid:t.baseorgstructureid,selected:n.selected}:{companyid:e,baseorgstructureid:t.baseorgstructureid,selected:!1}});try{await od(t),alert("Data berhasil disimpan!");let e=await oc();s(e.data||[])}catch(e){console.error("Gagal menyimpan:",e),v("Gagal menyimpan data. Silakan coba lagi.")}finally{y(!1)}},j=!d;return(0,u.jsxs)("div",{className:"w-full mx-auto p-6",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"6. Selanjutnya, buatlah struktur organisasi dasar"}),(0,u.jsx)("div",{className:"mb-6 px-5",children:p?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data..."}):x?(0,u.jsx)("p",{className:"text-sm text-red-500",children:x}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:d,onChange:e=>h(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companyid))]})}),!p&&!x&&b&&(0,u.jsx)("div",{className:"w-full mb-6",children:(0,u.jsxs)("div",{className:"py-6 px-12",children:[(0,u.jsx)("h3",{className:"font-semibold mb-4 text-center text-lg",children:b.name}),(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)("ul",{className:"w-full max-w-xl space-y-2",children:o.map((e,t)=>{let n=l.find(t=>t.companyid===b.companyid&&t.baseorgstructureid===e.baseorgstructureid),r=!!n&&n.selected;return(0,u.jsxs)("li",{className:"flex items-center justify-between px-4 py-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("span",{className:"text-sm text-gray-500 w-6 text-right",children:[t+1,"."]}),(0,u.jsx)("span",{className:"text-sm text-gray-800",children:e.nama})]}),(0,u.jsx)("input",{type:"checkbox",checked:r,onChange:t=>((e,t)=>{if(!b)return;let n=b.companyid,r=l.findIndex(t=>t.companyid===n&&t.baseorgstructureid===e);if(r>-1){let e=[...l];e[r]={...e[r],selected:t},s(e)}else{let r={id:0,companyid:n,baseorgstructureid:e,selected:t};s(e=>[...e,r])}})(e.baseorgstructureid,t.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]},e.baseorgstructureid)})})})]})}),(0,u.jsx)("p",{className:"text-xs text-red-500 font-semibold mt-6",children:"CHECKLIST INI AKAN BERPENGARUH KE SUB-MODUL JOB REPOSITORY"}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:w,disabled:g||j,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(g||j?"opacity-70 cursor-not-allowed":""),children:g?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let of="http://hrmsbe.logikasistembisnis.id",op=async()=>(await d.default.get("".concat(of,"/hrbaserule"))).data,om=async()=>(await d.default.get("".concat(of,"/companyhrrule"))).data,og=async e=>(await d.default.put("".concat(of,"/companyhrrule"),e,{headers:{"Content-Type":"application/json"}})).data;function oy(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[l,s]=(0,c.useState)({}),[d,h]=(0,c.useState)(""),[p,m]=(0,c.useState)({}),[g,y]=(0,c.useState)({}),[x,v]=(0,c.useState)([]),[b,w]=(0,c.useState)({}),[j,N]=(0,c.useState)(!1),[k,_]=(0,c.useState)(!1),[S,E]=(0,c.useState)(!0),[C,M]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{E(!0);let[e,t]=await Promise.all([f(),op()]);a((e.data||[]).sort((e,t)=>e.companyid-t.companyid));let n=t.data||[];i(n);let r=n.reduce((e,t)=>(e[t.grouprule]||(e[t.grouprule]=[]),e[t.grouprule].push(t.rulename),e),{});w(r),s(r)}catch(e){console.error("Gagal memuat data:",e),M("Gagal memuat data perusahaan atau aturan dasar HR")}finally{E(!1)}})()},[]),(0,c.useEffect)(()=>{(async()=>{if(d&&0!==r.length)try{E(!0);let e=await om(),t=r.find(e=>e.name===d);if(!t)return;let n=(e.data||[]).filter(e=>e.companyid===t.companyid);v(n);let a=JSON.parse(JSON.stringify(b));n.forEach(e=>{0===e.hrbaseruleid&&(a[e.grouprule]||(a[e.grouprule]=[]),a[e.grouprule].includes(e.rulename)||a[e.grouprule].push(e.rulename))}),s(a)}catch(e){console.error("Gagal memuat aturan perusahaan:",e),M("Gagal memuat aturan HR untuk perusahaan ini")}finally{E(!1)}})()},[d,r,b]);let A=e=>{var t,n;let a=null==(t=g[e])?void 0:t.trim();a&&((null==(n=l[e])?void 0:n.includes(a))||(s(t=>({...t,[e]:[...t[e]||[],a]})),x.find(t=>t.rulename===a&&t.grouprule===e)||v(t=>{var n;return[...t,{companyid:(null==(n=r.find(e=>e.name===d))?void 0:n.companyid)||0,hrbaseruleid:0,grouprule:e,rulename:a,selected:!1}]}))),m(t=>({...t,[e]:!1})),y(t=>({...t,[e]:""}))},P=async()=>{if(!d)return void alert("Pilih perusahaan terlebih dahulu!");let e=r.find(e=>e.name===d);if(!e)return;let t=e.companyid;N(!0),_(!0);try{let n=[];Object.entries(l).forEach(e=>{let[r,a]=e;a.forEach(e=>{var a,i,l;let s=x.find(t=>t.rulename===e&&t.grouprule===r),u=o.find(t=>t.rulename===e&&t.grouprule===r),c=!!s&&s.selected,d=null!=(i=null!=(a=null==s?void 0:s.hrbaseruleid)?a:null==u?void 0:u.hrbaseruleid)?i:0,h=null!=(l=null==s?void 0:s.companyhrruleid)?l:void 0;n.push({companyhrruleid:h,companyid:t,hrbaseruleid:d,grouprule:r,rulename:e,selected:c})})});let r=await og(n);console.log("Data tersimpan:",r),alert("Aturan HR berhasil disimpan!");let a=(await om()).data.filter(t=>t.companyid===e.companyid);v(a)}catch(e){console.error("Gagal menyimpan aturan:",e),alert("Gagal menyimpan aturan HR!")}finally{N(!1),_(!1)}};return(0,u.jsxs)("div",{className:"w-full mx-auto p-6",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"7. Aturan Dasar HR"}),(0,u.jsx)("div",{className:"mb-6 px-5",children:S?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data..."}):C?(0,u.jsx)("p",{className:"text-sm text-red-500",children:C}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:d,onChange:e=>h(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companyid))]})}),!S&&!C&&(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-6 text-sm",children:Object.entries(l).map(e=>{let[t,n]=e;return(0,u.jsxs)("div",{className:"flex flex-col border border-gray-300 rounded-md overflow-hidden",children:[(0,u.jsx)("div",{className:"bg-blue-900 text-white text-center font-semibold py-1",children:t}),(0,u.jsxs)("div",{className:"p-3 space-y-1 flex-1",children:[n.map((e,n)=>(0,u.jsxs)("label",{className:"flex items-center justify-between",children:[(0,u.jsx)("span",{children:e}),(0,u.jsx)("input",{type:"checkbox","data-rule":"".concat(e,"-").concat(t),className:"h-4 w-4 text-blue-600 border-gray-300 rounded",checked:((e,t)=>{let n=x.find(n=>n.rulename===e&&n.grouprule===t);return!!n&&!0===n.selected})(e,t),onChange:n=>{let a=[...x],i=a.find(n=>n.rulename===e&&n.grouprule===t);if(i)i.selected=n.target.checked;else{var l;let i=o.find(n=>n.rulename===e&&n.grouprule===t);a.push({companyid:(null==(l=r.find(e=>e.name===d))?void 0:l.companyid)||0,hrbaseruleid:i?i.hrbaseruleid:0,grouprule:t,rulename:e,selected:n.target.checked})}v(a)}})]},n)),p[t]&&(0,u.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:(0,u.jsx)("input",{type:"text",value:g[t]||"",onChange:e=>y(n=>({...n,[t]:e.target.value})),autoFocus:!0,onBlur:()=>A(t),onKeyDown:e=>{"Enter"===e.key&&A(t)},className:"border border-gray-300 rounded-md px-2 py-1 w-full text-sm focus:ring-blue-500 focus:border-blue-500"})}),!p[t]&&(0,u.jsx)("div",{className:"mt-2 border-t border-gray-200 pt-2",children:(0,u.jsx)("button",{onClick:()=>m(e=>({...e,[t]:!0})),className:"w-full bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm py-1 transition",disabled:!d,children:"+ Tambah"})})]})]},t)})}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:P,disabled:j||k||!d,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(j||k?"opacity-70 cursor-not-allowed":""),children:j?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let ox="http://hrmsbe.logikasistembisnis.id",ov=async()=>(await d.default.get("".concat(ox,"/daftarcuti"))).data,ob=async()=>(await d.default.get("".concat(ox,"/daftarizin"))).data,ow=async()=>(await d.default.get("".concat(ox,"/companycuti"))).data,oj=async()=>(await d.default.get("".concat(ox,"/companyizin"))).data,oN=async e=>(await d.default.put("".concat(ox,"/companycuti"),e,{headers:{"Content-Type":"application/json"}})).data,ok=async e=>(await d.default.put("".concat(ox,"/companyizin"),e,{headers:{"Content-Type":"application/json"}})).data;function o_(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)(""),[l,s]=(0,c.useState)([]),[d,h]=(0,c.useState)([]),[p,m]=(0,c.useState)([]),[g,y]=(0,c.useState)([]),[x,v]=(0,c.useState)(!1),[b,w]=(0,c.useState)(!0),[j,N]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{w(!0);let[e,t,n]=await Promise.all([f(),ov(),ob()]);a((e.data||[]).sort((e,t)=>e.companyid-t.companyid)),s(t.data||[]),h(n.data||[])}catch(e){console.error("Gagal memuat data master:",e),N("Gagal memuat data perusahaan atau daftar cuti/izin")}finally{w(!1)}})()},[]),(0,c.useEffect)(()=>{o&&(async()=>{try{w(!0);let e=r.find(e=>e.name===o);if(!e)return;let[t,n]=await Promise.all([ow(),oj()]),a=t.data||[],i=n.data||[],s=a.filter(t=>t.companyid===e.companyid),u=i.filter(t=>t.companyid===e.companyid),c=l.map(t=>{var n,r;let a=s.find(e=>e.daftarcutiid===t.daftarcutiid);return{companycutiid:null!=(n=null==a?void 0:a.companycutiid)?n:0,companyid:e.companyid,daftarcutiid:t.daftarcutiid,deskripsi:t.deskripsi,jumlahhari:null!=(r=null==a?void 0:a.jumlahhari)?r:0}}),h=s.filter(e=>0===e.daftarcutiid),f=[...c,...h],p=d.map(t=>{var n,r;let a=u.find(e=>e.daftarizinid===t.daftarizinid);return{companyizinid:null!=(n=null==a?void 0:a.companyizinid)?n:0,companyid:e.companyid,daftarizinid:t.daftarizinid,deskripsi:t.deskripsi,jumlahhari:null!=(r=null==a?void 0:a.jumlahhari)?r:0}}),g=u.filter(e=>0===e.daftarizinid),x=[...p,...g];m(f),y(x)}catch(e){console.error("Gagal memuat company cuti/izin:",e)}finally{w(!1)}})()},[o,l,d,r]);let k=(e,t)=>{"cuti"===e?m(e=>e.map((e,n)=>n===t?{...e,jumlahhari:e.jumlahhari>0?0:1}:e)):y(e=>e.map((e,n)=>n===t?{...e,jumlahhari:e.jumlahhari>0?0:1}:e))},_=(e,t,n)=>{"cuti"===e?m(e=>e.map((e,r)=>r===t?{...e,jumlahhari:n}:e)):y(e=>e.map((e,r)=>r===t?{...e,jumlahhari:n}:e))},S=(e,t,n)=>{"cuti"===e?m(e=>e.map((e,r)=>r===t?{...e,deskripsi:n}:e)):y(e=>e.map((e,r)=>r===t?{...e,deskripsi:n}:e))},E=e=>{let t=r.find(e=>e.name===o);t&&("cuti"===e?m(e=>[...e,{companycutiid:0,companyid:t.companyid,daftarcutiid:0,deskripsi:"",jumlahhari:0}]):y(e=>[...e,{companyizinid:0,companyid:t.companyid,daftarizinid:0,deskripsi:"",jumlahhari:0}]))},C=async()=>{let e=r.find(e=>e.name===o);if(e)try{v(!0);let t=p.filter(e=>""!==e.deskripsi.trim()).map(t=>({...t.companycutiid?{companycutiid:t.companycutiid}:{},companyid:e.companyid,daftarcutiid:t.daftarcutiid,deskripsi:t.deskripsi,jumlahhari:Number(t.jumlahhari)||0})),n=g.filter(e=>""!==e.deskripsi.trim()).map(t=>({...t.companyizinid?{companyizinid:t.companyizinid}:{},companyid:e.companyid,daftarizinid:t.daftarizinid,deskripsi:t.deskripsi,jumlahhari:Number(t.jumlahhari)||0}));await oN(t),await ok(n),alert("Data cuti & izin berhasil disimpan!")}catch(e){console.error("Gagal menyimpan:",e),alert("Gagal menyimpan data, cek console!")}finally{v(!1)}},M=!o;return(0,u.jsxs)("main",{className:"p-6",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"8. Cuti dan Izin"}),(0,u.jsx)("div",{className:"px-5 mb-4",children:b?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data..."}):j?(0,u.jsx)("p",{className:"text-sm text-red-500",children:j}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>i(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companyid))]})}),o&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6",children:[(0,u.jsx)("h2",{className:"bg-blue-900 text-white text-lg font-bold text-center py-2 rounded-lg mb-4",children:"Tipe Cuti + Hari"}),(0,u.jsxs)("table",{className:"w-full text-sm text-gray-700",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"text-left py-2",children:"Jenis Cuti"}),(0,u.jsx)("th",{className:"text-center py-2",children:"Checklist"}),(0,u.jsx)("th",{className:"text-center py-2",children:"Jumlah Hari"})]})}),(0,u.jsx)("tbody",{children:p.map((e,t)=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"py-1",children:(0,u.jsx)("input",{type:"text",value:e.deskripsi,onChange:e=>S("cuti",t,e.target.value),className:"w-full px-2 py-1 text-sm ".concat(0!==e.daftarcutiid?"cursor-not-allowed":"bg-white"),placeholder:"Tulis jenis cuti...",readOnly:0!==e.daftarcutiid})}),(0,u.jsx)("td",{className:"text-center",children:(0,u.jsx)("input",{type:"checkbox",checked:e.jumlahhari>0,onChange:()=>k("cuti",t),className:"w-4 h-4 accent-blue-600"})}),(0,u.jsx)("td",{className:"text-center",children:(0,u.jsx)("input",{type:"number",value:e.jumlahhari||"",onChange:e=>_("cuti",t,Number(e.target.value)),className:"px-2 py-1 w-16 text-center"})})]},t))})]}),(0,u.jsx)("button",{onClick:()=>E("cuti"),className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"+ Tambah Cuti"})]}),(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6",children:[(0,u.jsx)("h2",{className:"bg-blue-900 text-white text-lg font-bold text-center py-2 rounded-lg mb-4",children:"Tipe Izin + Hari"}),(0,u.jsxs)("table",{className:"w-full text-sm text-gray-700",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"text-left py-2",children:"Jenis Izin"}),(0,u.jsx)("th",{className:"text-center py-2",children:"Checklist"}),(0,u.jsx)("th",{className:"text-center py-2",children:"Jumlah Hari"})]})}),(0,u.jsx)("tbody",{children:g.map((e,t)=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"py-1",children:(0,u.jsx)("input",{type:"text",value:e.deskripsi,onChange:e=>S("izin",t,e.target.value),className:"w-full px-2 py-1 text-sm ".concat(0!==e.daftarizinid?"cursor-not-allowed":"bg-white"),placeholder:"Tulis jenis izin...",readOnly:0!==e.daftarizinid})}),(0,u.jsx)("td",{className:"text-center",children:(0,u.jsx)("input",{type:"checkbox",checked:e.jumlahhari>0,onChange:()=>k("izin",t),className:"w-4 h-4 accent-blue-600"})}),(0,u.jsx)("td",{className:"text-center",children:(0,u.jsx)("input",{type:"number",value:e.jumlahhari||"",onChange:e=>_("izin",t,Number(e.target.value)),className:"px-2 py-1 w-16 text-center"})})]},t))})]}),(0,u.jsx)("button",{onClick:()=>E("izin"),className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"+ Tambah Izin"})]})]}),(0,u.jsx)("p",{className:"text-xs text-red-500 italic mt-6",children:"*Jika di-checklist maka akan muncul di pilihan cuti pegawai"})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:C,disabled:x||M,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(x||M?"opacity-70 cursor-not-allowed":""),children:x?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let oS="http://hrmsbe.logikasistembisnis.id",oE=async()=>(await d.default.get("".concat(oS,"/hariliburnasional"))).data,oC=async()=>(await d.default.get("".concat(oS,"/compliburnasional"))).data,oM=async e=>(await d.default.post("".concat(oS,"/compliburnasional"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,oA=async e=>(await d.default.delete("".concat(oS,"/compliburnasional/").concat(e))).data;var oP=e.i(37728);function oO(e){let t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}function oI(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)(""),[l,s]=(0,c.useState)([]),[d,h]=(0,c.useState)([]),[p,m]=(0,c.useState)(null),[g,y]=(0,c.useState)(""),[x,v]=(0,c.useState)(new Date),[b,w]=(0,c.useState)("Tidak"),[j,N]=(0,c.useState)(null),[k,_]=(0,c.useState)(!1),[S,E]=(0,c.useState)(!0),[C,M]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{E(!0);let[e,t]=await Promise.all([f(),oE()]);a((e.data||[]).sort((e,t)=>e.companyid-t.companyid)),s(t.data||[])}catch(e){console.error("Gagal memuat data master:",e),M("Gagal memuat data perusahaan")}finally{E(!1)}})()},[]);let A=()=>{N(null);let e=document.getElementById("file-upload");e&&(e.value="")},P=(0,c.useCallback)(async()=>{if(!o)return void h([]);try{E(!0);let e=r.find(e=>e.name===o);if(!e)return;let[t]=await Promise.all([oC()]),n=(t.data||[]).filter(t=>t.companyid===e.companyid),a=l.map(t=>{var r,a,o;let i=n.find(e=>e.hariliburnasid===t.hariliburnasid);return{compliburnasionalid:null!=(r=null==i?void 0:i.compliburnasionalid)?r:0,companyid:e.companyid,hariliburnasid:t.hariliburnasid,startdate:t.startdate,enddate:t.enddate,namatanggal:t.namatanggal,potongcutitahunan:i?i.potongcutitahunan:void 0,dokumenfilename:null!=(a=null==i?void 0:i.dokumenfilename)?a:"",dokumen_url:null!=(o=null==i?void 0:i.dokumen_url)?o:null}}),i=n.filter(e=>0===e.hariliburnasid),s=[...a,...i];h(s)}catch(e){console.error("Gagal memuat company libur:",e)}finally{E(!1)}},[o,l,r]);(0,c.useEffect)(()=>{P()},[P]);let O=Array.isArray(x),I=async()=>{if(o&&x)try{_(!0);let e=r.find(e=>e.name===o);if(!e)return;let t=new FormData;if(p){let e=d.find(e=>e.hariliburnasid===p.hariliburnasid);e&&0!==e.compliburnasionalid&&t.append("compliburnasionalid",e.compliburnasionalid.toString()),t.append("hariliburnasid",p.hariliburnasid.toString()),t.append("namatanggal",p.namatanggal)}else t.append("hariliburnasid","0"),t.append("namatanggal",g);t.append("companyid",e.companyid.toString()),t.append("startdate",oO(O?x[0]:x)),O&&x[1]&&x[0].getTime()!==x[1].getTime()&&t.append("enddate",oO(x[1])),t.append("potongcutitahunan","Ya"===b?"1":"0"),j&&t.append("dokumenfilename",j),await oM(t),alert("Data berhasil disimpan!"),y(""),v(new Date),w("Tidak"),m(null),A(),P()}catch(e){console.error("Gagal menyimpan data:",e),alert("Gagal menyimpan data")}finally{_(!1)}},T=async e=>{if(confirm("Apakah Anda yakin ingin menghapus data ini?"))try{await oA(e),alert("Data berhasil dihapus!"),P()}catch(e){console.error("Gagal menghapus data:",e),alert("Gagal menghapus data")}};return(0,u.jsxs)("main",{className:"min-h-screen p-6",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"9. Hari Libur Nasional"}),(0,u.jsx)("div",{className:"px-5 mb-3",children:S?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data..."}):C?(0,u.jsx)("p",{className:"text-sm text-red-500",children:C}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>i(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companyid))]})}),o&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"flex gap-4",children:[(0,u.jsxs)("div",{className:"w-1/4 p-6",children:[(0,u.jsx)("h2",{className:"bg-blue-900 text-white font-semibold text-center py-2 rounded-lg mb-4",children:"Masukkan/Edit Daftar Libur"}),(0,u.jsxs)("div",{className:"relative overflow-visible",children:[(0,u.jsx)("label",{className:"block mb-1 font-medium",children:"Keterangan"}),(0,u.jsx)("input",{list:"daftar-libur",type:"text",value:g,onChange:e=>{let t=e.target.value;y(t);let n=l.find(e=>e.namatanggal===t);m(n||null),n?v([new Date(n.startdate),new Date(n.enddate)]):v(new Date)},placeholder:"Libur Nasional",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"}),(0,u.jsx)("datalist",{id:"daftar-libur",children:d.map((e,t)=>(0,u.jsx)("option",{value:e.namatanggal},t))})]}),(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsx)("label",{className:"block mb-2 font-medium text-gray-800",children:"Kalender"}),(0,u.jsxs)("div",{children:[(0,u.jsx)(oP.default,{onChange:e=>{if(Array.isArray(e)){let[t,n]=e;t&&n&&(oO(t)===oO(n)?v(t):v([t,n]))}else e instanceof Date&&v(e)},value:x,selectRange:!0,className:"rounded-lg"}),(0,u.jsx)("div",{className:"mt-2 text-sm text-gray-600",children:O&&x?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Dari:"})," ",x[0].toLocaleDateString("id-ID")]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Sampai:"})," ",x[1].toLocaleDateString("id-ID")]})]}):x&&(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Tanggal:"})," ",x.toLocaleDateString("id-ID")]})})]})]}),(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsx)("label",{className:"block mb-1 font-medium",children:"Potong Cuti Tahunan"}),(0,u.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",value:b,onChange:e=>w(e.target.value),children:[(0,u.jsx)("option",{children:"Ya"}),(0,u.jsx)("option",{children:"Tidak"})]})]}),(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsx)("label",{className:"block mb-1 font-medium",children:"Upload Dokumen"}),(0,u.jsx)("input",{type:"file",id:"file-upload",accept:"application/pdf,image/*",onChange:e=>{e.target.files&&e.target.files.length>0?N(e.target.files[0]):N(null)},className:"hidden"}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer flex-shrink-0 rounded-lg border border-gray-400 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Pilih File"}),(0,u.jsx)("span",{className:"text-sm text-gray-600 flex-1 truncate overflow-hidden whitespace-nowrap",children:j?j.name:"Belum ada file dipilih"}),j&&(0,u.jsx)("button",{type:"button",onClick:A,className:"flex-shrink-0 text-red-500 hover:text-red-700 text-xl font-bold","aria-label":"Hapus file",children:""})]})]}),(0,u.jsx)("div",{className:"mt-3",children:(0,u.jsx)("button",{onClick:I,disabled:k,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-full text-sm w-full transition ".concat(k?"opacity-70 cursor-not-allowed":""),children:k?"Menyimpan...":"Simpan"})})]}),(0,u.jsxs)("div",{className:"w-3/4 p-6",children:[(0,u.jsx)("h2",{className:"bg-blue-900 text-white font-semibold text-center py-2 rounded-lg mb-4",children:"Daftar Hari Libur Nasional"}),(0,u.jsxs)("table",{className:"min-w-full border border-gray-300 text-sm text-gray-800 rounded-lg overflow-hidden",children:[(0,u.jsx)("thead",{className:"bg-gray-100 text-left",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-4 py-2 border-b",children:"Keterangan"}),(0,u.jsx)("th",{className:"px-4 py-2 border-b",children:"Tanggal"}),(0,u.jsx)("th",{className:"px-4 py-2 border-b text-center",children:"Potong Cuti Tahunan"}),(0,u.jsx)("th",{className:"px-4 py-2 border-b",children:"Dokumen"}),(0,u.jsx)("th",{className:"px-4 py-2 border-b text-center",children:"Aksi"})]})}),(0,u.jsx)("tbody",{children:d.map((e,t)=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"px-4 py-2 border-b border-gray-200",children:e.namatanggal}),(0,u.jsxs)("td",{className:"px-4 py-2 border-b border-gray-200",children:[e.startdate?oO(new Date(e.startdate)):""," ",e.enddate?" / ".concat(oO(new Date(e.enddate))):""]}),(0,u.jsx)("td",{className:"px-4 py-2 border-b border-gray-200 text-center",children:void 0===e.potongcutitahunan||null===e.potongcutitahunan?"-":e.potongcutitahunan?"Ya":"Tidak"}),(0,u.jsx)("td",{className:"px-4 py-2 border-b border-gray-200 text-center",children:e.dokumen_url?(0,u.jsx)("a",{href:e.dokumen_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Lihat Dokumen"}):"-"}),(0,u.jsx)("td",{className:"px-4 py-2 border-b border-gray-200 text-center",children:e.compliburnasionalid&&0!==e.compliburnasionalid?(0,u.jsx)("button",{onClick:()=>T(e.compliburnasionalid),className:"text-red-600 hover:text-red-800 font-semibold cursor-pointer",children:"Hapus"}):"-"})]},t))})]})]})]})}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let oT="http://hrmsbe.logikasistembisnis.id",oD=async()=>(await d.default.get("".concat(oT,"/companyworkinghours"))).data,oz=async e=>(await d.default.put("".concat(oT,"/companyworkinghours"),e,{headers:{"Content-Type":"application/json"}})).data,oR=async e=>(await d.default.delete("".concat(oT,"/companyworkinghours/").concat(e))).data,oL=async()=>(await d.default.get("".concat(oT,"/companyworkingbreaktime"))).data,oB=async e=>(await d.default.put("".concat(oT,"/companyworkingbreaktime"),e,{headers:{"Content-Type":"application/json"}})).data,oF=async e=>(await d.default.delete("".concat(oT,"/companyworkingbreaktime/").concat(e))).data;function oH(e){let{onNextStep:t,onBack:n}=e,r=e=>{if(!e&&""!==e)return"";let t=String(null!=e?e:"");if(/^\d{1,2}:\d{2}$/.test(t)){let[e,n]=t.split(":");return"".concat(e.padStart(2,"0"),":").concat(n)}if(t.includes(":")){let e=t.split(":"),n=(e[0]||"00").padStart(2,"0"),r=(e[1]||"00").slice(0,2);return"".concat(n,":").concat(r)}return t.slice(0,5)},[a,o]=(0,c.useState)([]),[i,l]=(0,c.useState)([]),[s,d]=(0,c.useState)([]),[h,p]=(0,c.useState)(""),[m,g]=(0,c.useState)(""),[y,x]=(0,c.useState)(""),[v,b]=(0,c.useState)(""),[w,j]=(0,c.useState)(!0),[N,k]=(0,c.useState)(null),[_,S]=(0,c.useState)(!1),[E,C]=(0,c.useState)(!1),[M,A]=(0,c.useState)(null),[P,O]=(0,c.useState)(null),[I,T]=(0,c.useState)({tipejadwal:"Shift",kategori:"Pagi",skema:"6-1",durasi:8,durasiistirahat:1,jammasuk:"08:00",jamkeluar:"16:00",kodeshift:""}),[D,z]=(0,c.useState)([]),[R,L]=(0,c.useState)(!1),B=async()=>{try{j(!0),k(null);let[e,t,n]=await Promise.all([f(),oD(),oL()]),r=(e.data||[]).sort((e,t)=>e.companyid-t.companyid),a=t.data||[],i=n.data||[];o(r),l(a),d(i)}catch(e){console.error("Error fetching data:",e),k("Gagal memuat data dari server.")}finally{j(!1)}};(0,c.useEffect)(()=>{B()},[]);let F=(0,c.useMemo)(()=>{if(!h)return[];let e=i.filter(e=>e.companyid===Number(h));return m&&(e=e.filter(e=>e.tipejadwal===m)),y&&(e=e.filter(e=>e.kategori===y)),v&&(e=e.filter(e=>e.skema===v)),e.map(e=>{let t=s.filter(t=>t.companyworkinghoursid===e.companyworkinghoursid).map(e=>({...e,starttime:r(e.starttime),endtime:r(e.endtime)}));return t.sort((e,t)=>e.starttime.localeCompare(t.starttime)),{...e,jammasuk:r(e.jammasuk),jamkeluar:r(e.jamkeluar),breaks:t}})},[i,s,h,m,y,v]),H=(e,t,n)=>{z(r=>r.map((r,a)=>a===e?{...r,[t]:n}:r))},K=async e=>{if(e.preventDefault(),O(null),!h){alert("Perusahaan belum dipilih."),console.groupEnd();return}if(!I.tipejadwal||!I.kategori||!I.skema)return void O("Tipe Jadwal, Kategori, dan Skema wajib dipilih.");if(!I.kodeshift||""===I.kodeshift.trim())return void O("Kode Shift wajib diisi.");if(!I.jammasuk||!I.jamkeluar)return void O("Jam Masuk dan Jam Keluar wajib diisi.");if(void 0===I.durasi||0>=Number(I.durasi))return void O("Durasi Kerja wajib diisi dan harus lebih dari 0.");if(void 0===I.durasiistirahat||0>Number(I.durasiistirahat))return void O("Durasi Istirahat wajib diisi (boleh 0).");try{C(!0);let e=Number(h),t={...M?{companyworkinghoursid:M}:{},companyid:e,tipejadwal:I.tipejadwal,kategori:I.kategori,skema:I.skema,durasi:Number(I.durasi),durasiistirahat:Number(I.durasiistirahat),jammasuk:r(I.jammasuk),jamkeluar:r(I.jamkeluar),kodeshift:I.kodeshift},n=await oz([t]),a=null!=M?M:null,o=(e,t)=>{for(let n of t)if(n in e){let t=e[n];if("number"==typeof t)return t;if("string"==typeof t&&""!==t.trim()&&!Number.isNaN(Number(t)))return Number(t)}return null};if(n&&"object"==typeof n){if("data"in n){let e=n.data;if(Array.isArray(e)&&e.length>0&&"object"==typeof e[0]){let t=e[0],n=o(t,["companyworkinghoursid","id","companyworkinghours_id"]);n&&(a=n)}else if(e&&"object"==typeof e){let t=o(e,["companyworkinghoursid","id","companyworkinghours_id"]);t&&(a=t)}}if(!a&&"results"in n){let e=n.results;if(Array.isArray(e)&&e.length>0&&"object"==typeof e[0]){let t=e[0];if("data"in t&&t.data&&"object"==typeof t.data){let e=t.data,n=o(e,["companyworkinghoursid","id","companyworkinghours_id"]);n&&(a=n)}else{let e=o(t,["companyworkinghoursid","id","companyworkinghours_id"]);e&&(a=e)}}}}if(!a){let t=((await oD()).data||[]).find(t=>{var n,a;return t.companyid===e&&t.tipejadwal===I.tipejadwal&&t.kategori===I.kategori&&r(t.jammasuk)===r(I.jammasuk)&&r(t.jamkeluar)===r(I.jamkeluar)&&(null!=(n=t.kodeshift)?n:"")===(null!=(a=I.kodeshift)?a:"")});t&&(a=t.companyworkinghoursid)}if(!a)throw Error("Gagal mendapatkan ID Jam Kerja untuk menyimpan detail istirahat. Backend mungkin tidak mengembalikan ID.");let i=D.filter(e=>e.starttime&&e.endtime);if(i.length>0){let e=i.map(e=>({...e.id?{id:e.id}:{},companyworkinghoursid:null!=a?a:void 0,starttime:r(e.starttime),endtime:r(e.endtime)}));await oB(e)}await B(),alert("Simpan berhasil."),S(!1)}catch(e){console.error("Gagal menyimpan:",e),alert("Terjadi kesalahan saat menyimpan.")}finally{C(!1),console.groupEnd()}},G=async()=>{if(M&&confirm("Anda yakin ingin menghapus jadwal ini beserta semua detail istirahat terkait?"))try{L(!0),await oR(M),await B(),S(!1),alert("Jadwal berhasil dihapus.")}catch(e){console.error("Gagal menghapus jadwal:",e),alert("Gagal menghapus jadwal.")}finally{L(!1)}},U=async e=>{let t=D[e];if(!t||!t.id)return void z(t=>t.filter((t,n)=>n!==e));if(confirm("Anda yakin ingin menghapus detail istirahat ini?"))try{L(!0),await oF(t.id),await B();let e=(((await oL()).data||[]).filter(e=>e.companyworkinghoursid===M)||[]).map(e=>({id:e.id,companyworkinghoursid:e.companyworkinghoursid,starttime:r(e.starttime),endtime:r(e.endtime)}));z(e),alert("Detail istirahat berhasil dihapus.")}catch(e){console.error("Gagal menghapus detail istirahat:",e),alert("Gagal menghapus detail istirahat.")}finally{L(!1)}};return(0,u.jsxs)("main",{className:"min-h-screen px-6 py-10 relative",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"10. Atur Jam Kerja"}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Data Jam Kerja & Detail Istirahat  klik baris untuk edit"}),(0,u.jsx)("div",{className:"p-5 shadow rounded-sm mb-6 bg-white",children:w?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Sedang memuat data..."}):N?(0,u.jsx)("p",{className:"text-sm text-red-500",children:N}):(0,u.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-4 items-end justify-between",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 flex-grow",children:[(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-semibold text-gray-700",children:"Perusahaan"}),(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-full",value:h,onChange:e=>p(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),a.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name},e.companyid))]})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-semibold text-gray-700",children:"Tipe Jadwal"}),(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-full",value:m,onChange:e=>g(e.target.value),disabled:!h,children:[(0,u.jsx)("option",{value:"",children:"Semua"}),(0,u.jsx)("option",{value:"Shift",children:"Shift"}),(0,u.jsx)("option",{value:"Non Shift",children:"Non Shift"})]})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-semibold text-gray-700",children:"Kategori"}),(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-full",value:y,onChange:e=>x(e.target.value),disabled:!h,children:[(0,u.jsx)("option",{value:"",children:"Semua"}),(0,u.jsx)("option",{value:"Pagi",children:"Pagi"}),(0,u.jsx)("option",{value:"Siang",children:"Siang"}),(0,u.jsx)("option",{value:"Malam",children:"Malam"})]})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-semibold text-gray-700",children:"Skema"}),(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-full",value:v,onChange:e=>b(e.target.value),disabled:!h,children:[(0,u.jsx)("option",{value:"",children:"Semua"}),(0,u.jsx)("option",{value:"6-1",children:"6-1"}),(0,u.jsx)("option",{value:"5-2",children:"5-2"})]})]})]}),(0,u.jsx)("div",{className:"flex-shrink-0",children:(0,u.jsx)("button",{onClick:()=>{if(!h)return void alert("Mohon pilih perusahaan terlebih dahulu.");A(null),O(null),T({tipejadwal:m||"Shift",kategori:y||"Pagi",skema:v||"6-1",durasi:8,durasiistirahat:1,jammasuk:"08:00",jamkeluar:"16:00",kodeshift:""}),z([]),S(!0)},disabled:!h||E,className:"bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-md text-sm font-medium shadow disabled:opacity-50 disabled:cursor-not-allowed transition-colors cursor-pointer",children:"+ Tambah Jadwal"})})]})}),(0,u.jsx)("div",{className:"overflow-x-auto rounded-sm shadow mb-10 bg-white",children:(0,u.jsxs)("table",{className:"w-full text-sm border-collapse",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"bg-blue-900 text-white text-center",children:[(0,u.jsx)("th",{className:"px-4 py-2",children:"Tipe Jadwal"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Kategori"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Skema"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Durasi"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Durasi Istirahat"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Jam Masuk"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Jam Keluar"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Istirahat Mulai"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Istirahat Selesai"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Kode Shift"})]})}),(0,u.jsxs)("tbody",{children:[!h&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:10,className:"px-4 py-8 text-center text-gray-500 italic",children:"Pilih perusahaan untuk melihat data."})}),h&&0===F.length&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:10,className:"px-4 py-8 text-center text-gray-500 italic",children:"Data tidak ditemukan untuk filter ini."})}),F.map((e,t)=>(0,u.jsxs)("tr",{className:"text-center items-center ".concat(t%2==0?"bg-gray-50":"bg-white"," hover:bg-blue-50 cursor-pointer"),onClick:()=>{A(e.companyworkinghoursid),O(null),T({tipejadwal:e.tipejadwal,kategori:e.kategori,skema:e.skema,durasi:e.durasi,durasiistirahat:e.durasiistirahat,jammasuk:r(e.jammasuk),jamkeluar:r(e.jamkeluar),kodeshift:e.kodeshift||""}),z((e.breaks||[]).map(e=>({id:e.id,companyworkinghoursid:e.companyworkinghoursid,starttime:r(e.starttime),endtime:r(e.endtime)}))),S(!0)},title:"Klik untuk edit",children:[(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.tipejadwal}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.kategori}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.skema}),(0,u.jsxs)("td",{className:"px-4 py-2 align-top pt-3",children:[e.durasi," Jam"]}),(0,u.jsxs)("td",{className:"px-4 py-2 align-top pt-3",children:[e.durasiistirahat," Jam"]}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:r(e.jammasuk)}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:r(e.jamkeluar)}),(0,u.jsx)("td",{className:"px-4 py-2 align-top",children:e.breaks.length>0?(0,u.jsx)("div",{className:"flex flex-col gap-1",children:e.breaks.map(e=>(0,u.jsx)("span",{className:"block border-b border-blue-100 last:border-0 pb-1 pt-1",children:r(e.starttime)},e.id))}):"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top",children:e.breaks.length>0?(0,u.jsx)("div",{className:"flex flex-col gap-1",children:e.breaks.map(e=>(0,u.jsx)("span",{className:"block border-b border-blue-100 last:border-0 pb-1 pt-1",children:r(e.endtime)},e.id))}):"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3 font-mono text-gray-600",children:e.kodeshift})]},e.companyworkinghoursid))]})]})}),_&&(0,u.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:M?"Edit Jadwal":"Tambah Jadwal Baru"}),(0,u.jsx)("div",{className:"flex items-center gap-3",children:M&&(0,u.jsx)("button",{type:"button",onClick:G,disabled:R,className:"text-xs bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded",children:R?"Menghapus...":"Hapus Jadwal"})})]}),P&&(0,u.jsxs)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:[(0,u.jsx)("strong",{children:"Perhatian:"})," ",P]}),(0,u.jsxs)("form",{onSubmit:K,className:"space-y-4",children:[(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Tipe Jadwal"}),(0,u.jsxs)("select",{className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:I.tipejadwal,onChange:e=>T({...I,tipejadwal:e.target.value}),required:!0,children:[(0,u.jsx)("option",{value:"Shift",children:"Shift"}),(0,u.jsx)("option",{value:"Non Shift",children:"Non Shift"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Kategori"}),(0,u.jsxs)("select",{className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:I.kategori,onChange:e=>T({...I,kategori:e.target.value}),required:!0,children:[(0,u.jsx)("option",{value:"Pagi",children:"Pagi"}),(0,u.jsx)("option",{value:"Siang",children:"Siang"}),(0,u.jsx)("option",{value:"Malam",children:"Malam"})]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Skema"}),(0,u.jsxs)("select",{className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:I.skema,onChange:e=>T({...I,skema:e.target.value}),required:!0,children:[(0,u.jsx)("option",{value:"6-1",children:"6-1"}),(0,u.jsx)("option",{value:"5-2",children:"5-2"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Kode Shift"}),(0,u.jsx)("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:I.kodeshift,onChange:e=>T({...I,kodeshift:e.target.value}),placeholder:"Contoh: PAGI-A"})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Jam Masuk"}),(0,u.jsx)("input",{type:"time",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:I.jammasuk,onChange:e=>T({...I,jammasuk:e.target.value}),required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Jam Keluar"}),(0,u.jsx)("input",{type:"time",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:I.jamkeluar,onChange:e=>T({...I,jamkeluar:e.target.value}),required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Durasi Kerja (Jam)"}),(0,u.jsx)("input",{type:"number",min:0,step:.5,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:I.durasi,onChange:e=>T({...I,durasi:Number(e.target.value)}),required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Durasi Istirahat (Jam)"}),(0,u.jsx)("input",{type:"number",min:0,step:.5,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:I.durasiistirahat,onChange:e=>T({...I,durasiistirahat:Number(e.target.value)}),required:!0})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Waktu Istirahat (Detail)"}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{type:"button",onClick:()=>{z(e=>[...e,{id:null,companyworkinghoursid:null!=M?M:null,starttime:"12:00",endtime:"13:00"}])},className:"text-xs bg-blue-900 text-white px-3 py-1 rounded mr-2",children:"+ Tambah Istirahat"})})]}),0===D.length?(0,u.jsx)("div",{className:"text-sm text-gray-500 italic",children:"Belum ada detail istirahat"}):(0,u.jsx)("div",{className:"grid gap-2",children:D.map((e,t)=>(0,u.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,u.jsx)("input",{type:"time",value:e.starttime,onChange:e=>H(t,"starttime",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}),(0,u.jsx)("input",{type:"time",value:e.endtime,onChange:e=>H(t,"endtime",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}),(0,u.jsx)("div",{className:"flex gap-2 justify-end",children:(0,u.jsx)("button",{type:"button",onClick:()=>U(t),disabled:R,className:"text-xs bg-red-600 text-white px-2 py-1 rounded",title:e.id?"Hapus dari server":"Hapus dari UI",children:"Hapus"})})]},t))})]}),(0,u.jsxs)("div",{className:"pt-4 flex justify-end gap-2 border-t border-gray-100 mt-4",children:[(0,u.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded cursor-pointer",disabled:E,children:"Batal"}),(0,u.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-blue-900 text-white rounded hover:bg-blue-800 cursor-pointer",disabled:E,children:E?"Menyimpan...":"Simpan Jadwal"})]})]})]})}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let oK="http://hrmsbe.logikasistembisnis.id",oG=async()=>(await d.default.get("".concat(oK,"/grouprole"))).data,oU=async()=>(await d.default.get("".concat(oK,"/menu"))).data,oV=async e=>(await d.default.put("".concat(oK,"/menu"),e,{headers:{"Content-Type":"application/json"}})).data,oY=["Desain Perusahaan","Manajemen Pengguna","Dasar Kompensasi dan Benefit"];function oJ(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[l,s]=(0,c.useState)([]),[d,h]=(0,c.useState)(""),[p,m]=(0,c.useState)("HR"),[g,y]=(0,c.useState)(!0),[x,v]=(0,c.useState)(null),[b,w]=(0,c.useState)(!1),[j,N]=(0,c.useState)(!1),k=[{title:"MODUL MASTER ADMIN",parentid:1},{title:"MODUL LAYANAN MANDIRI",parentid:2}],_=async()=>{try{y(!0);let[e,t,n]=await Promise.all([f(),oG(),oU()]),r=(e.data||[]).sort((e,t)=>e.companyid-t.companyid);a(r),i((t.data||[]).sort((e,t)=>e.grouproleid-t.grouproleid)),s(n.data||[])}catch(e){console.error("Gagal memuat data:",e),v("Gagal memuat data referensi.")}finally{y(!1)}};(0,c.useEffect)(()=>{_()},[]);let S=async()=>{if(!d)return void alert("Mohon pilih perusahaan sebelum menyimpan.");if(!p)return void alert("Mohon pilih tipe Security Group (HR / Non HR) sebelum menyimpan.");let e=k.map(e=>e.parentid),t=new Set(oY),n=l.filter(n=>n.companyid===Number(d)&&e.includes(n.parentmenuid)&&t.has(n.menuname)).map(e=>{var t,n;let r="HR"===p,a=null!=(t=e.grouprole_ids)?t:[],o=a.length>0?"#".concat(a.join("#"),"#"):"",i={companyid:Number(d),menuname:e.menuname,parentmenuid:e.parentmenuid,hrgroup:r,active:null==(n=e.active)||n,grouprole:o,grouprole_ids:a};return e.menuid&&e.menuid>0?{...i,menuid:e.menuid}:i});if(0===n.length)return void alert("Tidak ada perubahan untuk disimpan pada perusahaan dan tipe Security Group ini.");try{w(!0),N(!0);let r=(await oV(n)).data||[];s(n=>[...n.filter(n=>!(n.companyid===Number(d)&&e.includes(n.parentmenuid)&&t.has(n.menuname))),...r]),await _(),alert("Sukses menyimpan menu.")}catch(e){console.error("Gagal menyimpan menu:",e),alert("Gagal menyimpan data. Silakan coba lagi.")}finally{w(!1),N(!1)}};return(0,u.jsxs)("main",{className:"min-h-screen p-6",children:[(0,u.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"11. Security Group - SG"}),(0,u.jsx)("div",{className:"p-5 rounded-lg shadow mb-6 bg-white border border-gray-100",children:(0,u.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-end",children:[(0,u.jsxs)("div",{className:"flex-1 w-full md:max-w-xs",children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Pilih Perusahaan"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)("select",{className:"w-full appearance-none bg-white border border-gray-300 text-gray-700 py-2.5 px-4 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",value:d,onChange:e=>h(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name},e.companyid))]}),(0,u.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,u.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,u.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),(0,u.jsxs)("div",{className:"flex-1 w-full md:max-w-xs",children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tipe Security Group"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)("select",{className:"w-full appearance-none bg-white border border-gray-300 text-gray-700 py-2.5 px-4 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",value:p,onChange:e=>m(e.target.value),children:[(0,u.jsx)("option",{value:"HR",children:"HR"}),(0,u.jsx)("option",{value:"NON_HR",children:"Non HR"})]}),(0,u.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,u.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,u.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]})}),(0,u.jsx)("div",{className:"overflow-hidden bg-white rounded-xl shadow-sm border border-gray-200",children:(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"w-full border-collapse text-sm text-left",children:[(0,u.jsx)("thead",{className:"bg-gray-50 text-gray-700",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-6 py-4 font-semibold border-b border-gray-200 min-w-[250px] sticky left-0 bg-gray-50 z-10",children:"Modul / Menu"}),o.map(e=>(0,u.jsx)("th",{className:"px-2 py-4 font-semibold border-b border-gray-200 text-center whitespace-nowrap min-w-[80px]",children:e.grouprolename},e.grouproleid))]})}),(0,u.jsx)("tbody",{className:"divide-y divide-gray-100",children:k.map(e=>(0,u.jsxs)(c.default.Fragment,{children:[(0,u.jsx)("tr",{className:"bg-blue-100/50",children:(0,u.jsx)("td",{colSpan:o.length+1,className:"px-6 py-3 font-bold text-blue-900 text-xs uppercase tracking-wide border-t border-blue-100",children:e.title})}),oY.map((t,n)=>{let r=l.find(n=>n.menuname===t&&n.parentmenuid===e.parentid&&n.companyid===Number(d)&&("HR"===p?!0===n.hrgroup:!1===n.hrgroup||!n.hrgroup));return(0,u.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors group",children:[(0,u.jsx)("td",{className:"px-6 py-3 font-medium text-gray-700 border-r border-gray-100 sticky left-0 bg-white group-hover:bg-gray-50",children:t}),o.map(n=>{var a,o;let i=null!=(o=null==r||null==(a=r.grouprole_ids)?void 0:a.includes(n.grouproleid))&&o;return(0,u.jsx)("td",{className:"px-2 py-3 text-center border-r border-gray-50 last:border-0",children:(0,u.jsx)("input",{type:"checkbox",checked:i,onChange:()=>((e,t,n,r)=>{if(!d)return void alert("Mohon pilih perusahaan terlebih dahulu.");s(a=>{let o=a.findIndex(n=>n.menuname===t&&n.parentmenuid===e&&n.companyid===Number(d));if(-1===o)return[...a,{menuid:0,companyid:Number(d),menuname:t,parentmenuid:e,hrgroup:"HR"===p,active:!0,grouprole_ids:[n],grouprole:"#".concat(n,"#")}];{let e=[...a],t={...e[o]},i=t.grouprole_ids?[...t.grouprole_ids]:[];r?i=i.filter(e=>e!==n):i.push(n);let l=i.length>0?"#"+i.join("#")+"#":"";return e[o]={...t,grouprole_ids:i,grouprole:l},e}})})(e.parentid,t,n.grouproleid,i),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!d})},n.grouproleid)})]},"".concat(e.parentid,"-").concat(n))})]},e.parentid))})]})})})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:S,disabled:b||j,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(b||j?"opacity-70 cursor-not-allowed":""),children:b?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let oX="http://hrmsbe.logikasistembisnis.id",oq=async e=>(await d.default.get("".concat(oX,"/organization"),{params:{companyid:e}})).data,oW=async e=>(await d.default.post("".concat(oX,"/organization"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,oZ=async e=>(await d.default.post("".concat(oX,"/organization/nonactive"),e,{headers:{"Content-Type":"application/json"}})).data;function o$(e){let{label:t,value:n,onChange:r,onSelect:a,options:o,placeholder:i,disabled:l=!1}=e,[s,d]=(0,c.useState)(!1),h=(0,c.useRef)(null),f=o.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()));return(0,c.useEffect)(()=>{function e(e){h.current&&!h.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,u.jsxs)("div",{className:"relative",ref:h,children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium uppercase",children:t}),(0,u.jsx)("input",{className:"w-full border border-gray-300 rounded px-2 py-2 ".concat(l?"bg-gray-100 cursor-not-allowed":""),value:n,onChange:e=>{r(e.target.value),d(!0)},onFocus:()=>d(!0),placeholder:i,disabled:l}),s&&f.length>0&&!l&&(0,u.jsx)("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 mt-1 max-h-48 overflow-y-auto shadow-lg rounded-sm text-sm",children:f.map(e=>(0,u.jsx)("li",{className:"px-3 py-2 hover:bg-blue-50 cursor-pointer text-gray-700",onClick:()=>{a(e.original),d(!1)},children:e.name},e.id))})]})}function oQ(e){var t;let{onNextStep:n,onBack:r}=e,[a,o]=(0,c.useState)([]),[i,l]=(0,c.useState)(""),[s,d]=(0,c.useState)(!0),[h,p]=(0,c.useState)(!1),[m,g]=(0,c.useState)(null),[y,x]=(0,c.useState)(null),[v,b]=(0,c.useState)(null),[w,j]=(0,c.useState)(null),[N,k]=(0,c.useState)(""),[_,S]=(0,c.useState)(null),[E,C]=(0,c.useState)(""),[M,A]=(0,c.useState)(null),[P,O]=(0,c.useState)(""),[I,T]=(0,c.useState)(""),[D,z]=(0,c.useState)(null),[R,L]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{try{d(!0),g(null);let e=((await f()).data||[]).sort((e,t)=>e.companyid-t.companyid);o(e)}catch(e){console.error(e),g("Gagal memuat daftar perusahaan.")}finally{d(!1)}})()},[]);let B=async e=>{try{p(!0),g(null);let t=await oq(e);b(t.data||[])}catch(e){console.error(e),g("Gagal memuat struktur organisasi.")}finally{p(!1)}};(0,c.useEffect)(()=>{if(!i){b(null),F();return}B(Number(i))},[i]);let F=()=>{j(null),k(""),S(null),C(""),A(null),O(""),T(""),H(),g(null),x(null)},H=()=>{z(null),L("");let e=document.getElementById("file-upload");e&&(e.value="")},K=(v||[]).filter(e=>e.active).map(e=>({id:e.companydirectorateid,name:e.directoratename,original:e})),G=w?((null==v||null==(t=v.find(e=>e.companydirectorateid===w))?void 0:t.divisions)||[]).filter(e=>e.active).map(e=>({id:e.companydivisionid,name:e.divisionname,original:e})):[],U=(()=>{var e;if(!w||!_)return[];let t=null==v?void 0:v.find(e=>e.companydirectorateid===w),n=null==t||null==(e=t.divisions)?void 0:e.find(e=>e.companydivisionid===_);return((null==n?void 0:n.departments)||[]).filter(e=>e.active).map(e=>({id:e.companydepartmentid,name:e.departmentname,original:e}))})(),V=async()=>{if(g(null),x(null),!i)return void g("Pilih perusahaan terlebih dahulu.");if(!N.trim())return void g("Nama Direktorat wajib diisi.");if(E.trim()&&!N.trim())return void g("Isi Direktorat sebelum mengisi Divisi.");if(P.trim()&&!E.trim())return void g("Isi Divisi sebelum mengisi Department.");if(I.trim()&&!P.trim())return void g("Isi Department sebelum mengisi Unit Kerja.");try{let e=new FormData;e.append("companyid",String(i)),w&&e.append("companydirectorateid",String(w)),e.append("directoratename",N),E.trim()&&(_&&e.append("companydivisionid",String(_)),e.append("divisionname",E)),P.trim()&&(M&&e.append("companydepartmentid",String(M)),e.append("departmentname",P)),I.trim()&&e.append("unitkerjaname",I),R.trim()&&e.append("dokumenname",R),D&&e.append("dokumenfile",D,D.name),e.append("active","true"),await oW(e),x("Data berhasil disimpan!"),B(Number(i)),F()}catch(e){console.error(e),g("Gagal menyimpan data.")}},Y=(()=>{if(!v)return[];let e=[];return v.forEach(t=>{if(t.active){if(!t.divisions||0===t.divisions.length)return void e.push({directorateId:t.companydirectorateid,directoratename:t.directoratename,divisionId:null,divisionname:"-",departmentId:null,departmentname:"-",unitId:null,unitkerjaname:null});t.divisions.forEach(n=>{if(n.active){if(!n.departments||0===n.departments.length)return void e.push({directorateId:t.companydirectorateid,directoratename:t.directoratename,divisionId:n.companydivisionid,divisionname:n.divisionname,departmentId:null,departmentname:"-",unitId:null,unitkerjaname:null});n.departments.forEach(r=>{if(!r.active)return;let a=(r.unit_kerjas||[]).filter(e=>e&&e.active)||[];0===a.length?e.push({directorateId:t.companydirectorateid,directoratename:t.directoratename,divisionId:n.companydivisionid,divisionname:n.divisionname,departmentId:r.companydepartmentid,departmentname:r.departmentname,unitId:null,unitkerjaname:null}):a.forEach(a=>{var o,i;e.push({directorateId:t.companydirectorateid,directoratename:t.directoratename,divisionId:n.companydivisionid,divisionname:n.divisionname,departmentId:r.companydepartmentid,departmentname:r.departmentname,unitId:a.companyunitkerjaid,unitkerjaname:a.unitkerjaname,dokumenname:null!=(o=a.dokumenname)?o:null,dokumen_url:null!=(i=a.dokumen_url)?i:null})})})}})}}),e})(),J=async e=>{if(i&&window.confirm("Apakah Anda yakin ingin menonaktifkan data ini?"))try{p(!0);let t={companyid:Number(i),active:!1};e.unitId?t.companyunitkerjaid=e.unitId:e.departmentId?t.companydepartmentid=e.departmentId:e.divisionId?t.companydivisionid=e.divisionId:t.companydirectorateid=e.directorateId,await oZ(t),B(Number(i))}catch(e){console.error(e),g("Gagal menonaktifkan data."),p(!1)}};return(0,u.jsxs)("div",{className:"p-6 bg-white text-sm",children:[(0,u.jsx)("h2",{className:"text-xl font-bold mb-4",children:"12. HIRARKI ORGANISASI"}),(0,u.jsx)("div",{className:"mb-6 px-5",children:s?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data perusahaan..."}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:i,onChange:e=>l(""===e.target.value?"":Number(e.target.value)),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),a.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name},e.companyid))]})}),(0,u.jsxs)("div",{className:"w-full flex gap-4 items-start",children:[(0,u.jsxs)("div",{className:"w-1/4 space-y-4 px-5",children:[(0,u.jsx)("div",{className:"text-center py-2 bg-blue-900 text-white rounded-sm text-sm font-medium",children:"Tambah Hirarki Organisasi"}),m&&(0,u.jsx)("div",{className:"text-red-600 text-xs bg-red-50 p-2 rounded border border-red-200",children:m}),y&&(0,u.jsx)("div",{className:"text-green-600 text-xs bg-green-50 p-2 rounded border border-green-200",children:y}),(0,u.jsx)(o$,{label:"Direktorat",value:N,options:K,onChange:e=>{k(e),j(null),S(null),C(""),A(null),O("")},onSelect:e=>{k(e.directoratename),j(e.companydirectorateid),S(null),C(""),A(null),O("")},placeholder:"Nama direktorat",disabled:!i}),(0,u.jsx)(o$,{label:"Divisi",value:E,options:G,onChange:e=>{C(e),S(null),A(null),O("")},onSelect:e=>{C(e.divisionname),S(e.companydivisionid),A(null),O("")},placeholder:"Nama divisi",disabled:!N}),(0,u.jsx)(o$,{label:"Department",value:P,options:U,onChange:e=>{O(e),A(null)},onSelect:e=>{O(e.departmentname),A(e.companydepartmentid)},placeholder:"Nama department",disabled:!E}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium uppercase",children:"Unit Kerja"}),(0,u.jsx)("input",{className:"w-full border border-gray-300 rounded px-2 py-2 ".concat(P?"":"bg-gray-100"),value:I,onChange:e=>T(e.target.value),placeholder:"Nama unit kerja",disabled:!P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium uppercase",children:"Upload Dokumen"}),(0,u.jsx)("input",{type:"file",id:"file-upload",onChange:e=>{e.target.files&&e.target.files[0]&&z(e.target.files[0])},className:"hidden",disabled:!I}),(0,u.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,u.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer flex-shrink-0 rounded border border-gray-300 px-3 py-2 text-xs font-medium transition ".concat(I?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:"Pilih File"}),(0,u.jsx)("span",{className:"text-xs text-gray-500 truncate flex-1",children:D?D.name:"Belum ada file dipilih"}),D&&(0,u.jsx)("button",{type:"button",onClick:H,className:"text-red-500 hover:text-red-700 font-bold px-1",children:""})]}),D&&(0,u.jsxs)("div",{className:"mt-3 animate-in fade-in slide-in-from-top-1 duration-300",children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium",children:"NAMA DOKUMEN"}),(0,u.jsx)("input",{className:"w-full border border-gray-300 rounded px-2 py-2",value:R,onChange:e=>L(e.target.value),placeholder:"Nama display dokumen..."})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{onClick:V,disabled:!i,className:"w-full text-white px-4 py-2 rounded cursor-pointer ".concat(i?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"),children:"+ Tambah"})})]}),(0,u.jsx)("div",{className:"w-3/4",children:(0,u.jsx)("div",{className:"overflow-x-auto rounded-sm shadow mb-10 bg-white",children:(0,u.jsxs)("table",{className:"min-w-full border-collapse text-sm",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"bg-blue-900 text-white text-center",children:[(0,u.jsx)("th",{className:"px-4 py-2",children:"DIREKTORAT"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"DIVISI"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"DEPARTMENT"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"UNIT KERJA"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"DOKUMEN"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"AKSI"})]})}),(0,u.jsx)("tbody",{children:h?Array.from({length:3}).map((e,t)=>(0,u.jsx)("tr",{className:"odd:bg-white even:bg-gray-50 text-center",children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-4 text-gray-400 animate-pulse",children:"Loading data..."})},t)):i?0===Y.length?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"Belum ada data struktur organisasi."})}):Y.map((e,t)=>{var n;return(0,u.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50 text-center",children:[(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.directoratename}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.divisionname}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.departmentname}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:null!=(n=e.unitkerjaname)?n:"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.dokumen_url?(0,u.jsx)("a",{href:e.dokumen_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.dokumenname||"-"}):"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:(0,u.jsx)("button",{onClick:()=>J(e),className:"px-2 py-1 rounded-sm bg-red-600 text-white hover:bg-red-700 transition",children:"Nonaktif"})})]},t)}):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"Pilih perusahaan untuk melihat data."})})})]})})})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:r,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:n,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let o0="http://hrmsbe.logikasistembisnis.id",o1=async e=>(await d.default.get("".concat(o0,"/jobfamily"),{params:{companyid:e}})).data,o2=async e=>(await d.default.post("".concat(o0,"/jobfamily"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,o3=async e=>(await d.default.post("".concat(o0,"/jobfamily/nonactive"),e,{headers:{"Content-Type":"application/json"}})).data;function o5(e){let{label:t,value:n,onChange:r,onSelect:a,options:o,placeholder:i,disabled:l=!1}=e,[s,d]=(0,c.useState)(!1),h=(0,c.useRef)(null),f=o.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()));return(0,c.useEffect)(()=>{function e(e){h.current&&!h.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,u.jsxs)("div",{className:"relative",ref:h,children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium uppercase",children:t}),(0,u.jsx)("input",{className:"w-full border border-gray-300 rounded px-2 py-2 ".concat(l?"bg-gray-100 cursor-not-allowed":""),value:n,onChange:e=>{r(e.target.value),d(!0)},onFocus:()=>d(!0),placeholder:i,disabled:l}),s&&f.length>0&&!l&&(0,u.jsx)("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 mt-1 max-h-48 overflow-y-auto shadow-lg rounded-sm text-sm",children:f.map(e=>(0,u.jsx)("li",{className:"px-3 py-2 hover:bg-blue-50 cursor-pointer text-gray-700",onClick:()=>{a(e.original),d(!1)},children:e.name},e.id))})]})}function o4(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)(""),[l,s]=(0,c.useState)(!0),[d,h]=(0,c.useState)(!1),[p,m]=(0,c.useState)(null),[g,y]=(0,c.useState)(null),[x,v]=(0,c.useState)(null),[b,w]=(0,c.useState)(null),[j,N]=(0,c.useState)(""),[k,_]=(0,c.useState)(""),[S,E]=(0,c.useState)(null),[C,M]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{try{s(!0),m(null);let e=((await f()).data||[]).sort((e,t)=>e.companyid-t.companyid);a(e)}catch(e){console.error(e),m("Gagal memuat daftar perusahaan.")}finally{s(!1)}})()},[]);let A=async e=>{try{h(!0),m(null);let t=await o1(e);v(t.data||[])}catch(e){console.error(e),m("Gagal memuat data Job Family")}finally{h(!1)}};(0,c.useEffect)(()=>{if(!o){v(null),P();return}A(Number(o))},[o]);let P=()=>{w(null),N(""),_(""),O(),m(null),y(null)},O=()=>{E(null),M("");let e=document.getElementById("file-upload");e&&(e.value="")},I=(x||[]).filter(e=>e.active).map(e=>({id:e.companyjobfamilyid,name:e.jobfamilyname,original:e})),T=async()=>{if(m(null),y(null),!o)return void m("Pilih perusahaan terlebih dahulu.");if(!j.trim())return void m("Nama Job Family wajib diisi.");if(k.trim()&&!j.trim())return void m("Isi Job Family sebelum mengisi Sub Family.");try{let e=new FormData;e.append("companyid",String(o)),b&&e.append("companyjobfamilyid",String(b)),e.append("jobfamilyname",j),k.trim()&&e.append("subfamilyname",k),C.trim()&&e.append("dokumenname",C),S&&e.append("dokumenfile",S,S.name),e.append("active","true"),await o2(e),y("Data berhasil disimpan!"),A(Number(o)),P()}catch(e){console.error(e),m("Gagal menyimpan data.")}},D=(()=>{if(!x)return[];let e=[];return x.forEach(t=>{t.active&&(!t.subfamily||t.subfamily&&0===t.subfamily.length?e.push({jobfamilyId:t.companyjobfamilyid,jobfamilyname:t.jobfamilyname,jobfamilycode:t.jobfamilycode,subfamilyId:null,subfamilyname:null,subfamilycode:null,dokumenname:null,dokumen_url:null}):(t.subfamily||[]).forEach(n=>{var r,a;n.active&&e.push({jobfamilyId:t.companyjobfamilyid,jobfamilyname:t.jobfamilyname,jobfamilycode:t.jobfamilycode,subfamilyId:n.companysubfamilyid,subfamilyname:n.subfamilyname,subfamilycode:n.subfamilycode,dokumenname:null!=(r=n.dokumenname)?r:null,dokumen_url:null!=(a=n.dokumen_url)?a:null})}))}),e})(),z=async e=>{if(o&&window.confirm("Apakah Anda yakin ingin menonaktifkan data ini?"))try{h(!0);let t={companyid:Number(o),active:!1};e.subfamilyId?t.companysubfamilyid=e.subfamilyId:t.companyjobfamilyid=e.jobfamilyId,await o3(t),A(Number(o))}catch(e){console.error(e),m("Gagal menonaktifkan data."),h(!1)}};return(0,u.jsxs)("div",{className:"p-6 bg-white text-sm",children:[(0,u.jsx)("h2",{className:"text-xl font-bold mb-4",children:"13. KELOMPOK JABATAN (JOB FAMILY)"}),(0,u.jsx)("div",{className:"mb-6 px-5",children:l?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data perusahaan..."}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>i(""===e.target.value?"":Number(e.target.value)),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name},e.companyid))]})}),(0,u.jsxs)("div",{className:"w-full flex gap-4 items-start",children:[(0,u.jsxs)("div",{className:"w-1/4 space-y-4 px-5",children:[(0,u.jsx)("div",{className:"text-center py-2 bg-blue-900 text-white rounded-sm text-sm font-medium",children:"Tambah Kelompok Jabatan"}),p&&(0,u.jsx)("div",{className:"text-red-600 text-xs bg-red-50 p-2 rounded border border-red-200",children:p}),g&&(0,u.jsx)("div",{className:"text-green-600 text-xs bg-green-50 p-2 rounded border border-green-200",children:g}),(0,u.jsx)(o5,{label:"Nama Kelompok Jabatan",value:j,options:I,onChange:e=>{N(e),w(null),_("")},onSelect:e=>{N(e.jobfamilyname),w(e.companyjobfamilyid),_("")},placeholder:"Nama job family",disabled:!o}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium uppercase",children:"Nama Sub-Kelompok Jabatan"}),(0,u.jsx)("input",{className:"w-full border border-gray-300 rounded px-2 py-2 ".concat(j?"":"bg-gray-100"),value:k,onChange:e=>_(e.target.value),placeholder:"Nama sub-job family",disabled:!j})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium uppercase",children:"Upload Dokumen"}),(0,u.jsx)("input",{type:"file",id:"file-upload-job",onChange:e=>{e.target.files&&e.target.files[0]&&E(e.target.files[0])},className:"hidden",disabled:!k}),(0,u.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,u.jsx)("label",{htmlFor:"file-upload-job",className:"cursor-pointer flex-shrink-0 rounded border border-gray-300 px-3 py-2 text-xs font-medium transition ".concat(k?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:"Pilih File"}),(0,u.jsx)("span",{className:"text-xs text-gray-500 truncate flex-1",children:S?S.name:"Belum ada file dipilih"}),S&&(0,u.jsx)("button",{type:"button",onClick:O,className:"text-red-500 hover:text-red-700 font-bold px-1",children:""})]}),S&&(0,u.jsxs)("div",{className:"mt-3 animate-in fade-in slide-in-from-top-1 duration-300",children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium",children:"NAMA DOKUMEN"}),(0,u.jsx)("input",{className:"w-full border border-gray-300 rounded px-2 py-2",value:C,onChange:e=>M(e.target.value),placeholder:"Nama display dokumen..."})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{onClick:T,disabled:!o,className:"w-full text-white px-4 py-2 rounded cursor-pointer ".concat(o?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"),children:"+ Tambah"})})]}),(0,u.jsx)("div",{className:"w-3/4",children:(0,u.jsx)("div",{className:"overflow-x-auto rounded-sm shadow mb-10 bg-white",children:(0,u.jsxs)("table",{className:"min-w-full border-collapse text-sm",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"bg-blue-900 text-white text-center",children:[(0,u.jsx)("th",{className:"px-4 py-2",children:"Kelompok Jabatan (Job Family)"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Kode Job Family"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Sub-Kelompok Jabatan (Sub-Job Family)"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Kode Sub Family"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Dokumen"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Aksi"})]})}),(0,u.jsx)("tbody",{children:d?Array.from({length:3}).map((e,t)=>(0,u.jsx)("tr",{className:"odd:bg-white even:bg-gray-50 text-center",children:(0,u.jsx)("td",{colSpan:4,className:"px-4 py-4 text-gray-400 animate-pulse",children:"Loading data..."})},t)):o?0===D.length?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-500",children:"Belum ada data Job Family."})}):D.map((e,t)=>{var n,r;return(0,u.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50 text-center",children:[(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.jobfamilyname}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.jobfamilycode}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:null!=(n=e.subfamilyname)?n:"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:null!=(r=e.subfamilycode)?r:"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.dokumen_url?(0,u.jsx)("a",{href:e.dokumen_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.dokumenname||"Unduh"}):"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:(0,u.jsx)("button",{onClick:()=>z(e),className:"px-2 py-1 rounded-sm bg-red-600 text-white hover:bg-red-700 transition",children:"Nonaktif"})})]},t)}):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-500",children:"Pilih perusahaan untuk melihat data."})})})]})})})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}function o6(){let e=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(!e.current)return;let t=e.current.querySelectorAll("button[data-label]"),n=0;t.forEach(e=>{let t=e.offsetWidth;t>n&&(n=t)}),t.forEach(e=>{e.style.width="".concat(n,"px")})},[]),(0,u.jsxs)("div",{className:"min-h-screen bg-white px-12 py-8",children:[(0,u.jsx)("h2",{className:"text-xl font-bold mb-6",children:"13. JOB REPOSITORY - FORM"}),(0,u.jsx)("div",{ref:e,className:"grid grid-cols-2 gap-x-12 gap-y-4",children:[{label:"PERUSAHAAN",placeholder:"List Box"},{label:"JOB FAMILY",placeholder:"Free text"},{label:"NAMA POSISI",placeholder:"Free text"},{label:"SUB JOB FAMILY",placeholder:"Free text"},{label:"MELAPOR KEPADA",placeholder:"Free text"},{label:"KODE POSISI",value:"TER-GENERATE OTOMATIS JC0000001",disabled:!0},{label:"UNIT KERJA",placeholder:"List Box"},{label:"KODE KELOMPOK JABATAN",value:"TER-GENERATE OTOMATIS",disabled:!0},{label:"DEPARTEMEN",placeholder:"Free text"},{label:"KODE SUB-KELOMPOK JABATAN",value:"TER-GENERATE OTOMATIS",disabled:!0},{label:"DIVISI",placeholder:"Free text"},{label:"LOREM IPSUM",placeholder:"Free text"},{label:"DIREKTORAT",placeholder:"Free text"},{label:"LOREM IPSUM",placeholder:"Free text"}].map((e,t)=>(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("button",{"data-label":!0,className:"bg-[#0b2c66] text-white font-semibold text-sm px-4 py-2 rounded flex-shrink-0 text-center",children:e.label}),e.disabled?(0,u.jsx)("input",{type:"text",value:e.value,disabled:!0,className:"ml-2 w-full border border-gray-200 bg-gray-100 px-3 py-2 rounded text-gray-500"}):(0,u.jsx)("input",{type:"text",placeholder:e.placeholder,className:"ml-2 w-full border border-gray-200 bg-[#f5f9ff] px-3 py-2 rounded"})]},t))}),(0,u.jsxs)("div",{className:"flex items-center justify-start mt-8 gap-4",children:[(0,u.jsx)("button",{className:"bg-green-500 text-white font-semibold text-xs px-4 py-2 rounded-full",children:"SIMPAN SEBAGAI TEMPLATE"}),(0,u.jsx)("button",{className:"bg-blue-500 text-white font-semibold text-xs px-4 py-2 rounded-full",children:"UPLOAD TEMPLATE"})]})]})}function o7(){return(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsx)("h2",{className:"text-lg font-bold mb-4",children:"14. JOB REPOSITORY - LIST"}),(0,u.jsx)("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg ",children:(0,u.jsxs)("table",{className:"min-w-[1400px] w-full text-sm text-left text-gray-700",children:[(0,u.jsx)("thead",{className:"bg-blue-900 text-white",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"PERUSAHAAN"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"NAMA POSISI"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"MELAPOR KEPADA"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"UNIT KERJA"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"DEPARTEMEN"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"SUB-KELOMPOK JABATAN"})]})}),(0,u.jsx)("tbody",{children:[{perusahaan:"PT. Kamu Ada Aja",namaPosisi:"DIREKTUR UTAMA",melaporKepada:"-",unitKerja:"PT. Kamu Ada Aja",departemen:"PT. Kamu Ada Aja",subKelJabatan:"PT. Kamu Ada Aja"},{perusahaan:"PT. Kamu Ada Aja",namaPosisi:"KEPALA BAGIAN PRODUKSI",melaporKepada:"DIREKTUR PRODUKSI",unitKerja:"PT. Kamu Ada Aja",departemen:"PT. Kamu Ada Aja",subKelJabatan:"PT. Kamu Ada Aja"}].map((e,t)=>(0,u.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,u.jsx)("td",{className:"px-4 py-2",children:e.perusahaan}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.namaPosisi}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.melaporKepada}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.unitKerja}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.departemen}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.subKelJabatan})]},t))})]})})]})}function o9(){let[e,t]=(0,c.useState)(1);return(0,u.jsxs)("div",{children:[1===e&&(0,u.jsx)(w,{onNextStep:()=>t(2)}),2===e&&(0,u.jsx)(j,{onNextStep:()=>t(3),onBack:()=>t(1)}),3===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ol,{onNextStep:()=>t(4),onBack:()=>t(2)})}),4===e&&(0,u.jsx)(oh,{onNextStep:()=>t(5),onBack:()=>t(3)}),5===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(oy,{onNextStep:()=>t(6),onBack:()=>t(4)})}),6===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(o_,{onNextStep:()=>t(7),onBack:()=>t(5)})}),7===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(oI,{onNextStep:()=>t(8),onBack:()=>t(6)})}),8===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(oH,{onNextStep:()=>t(9),onBack:()=>t(7)})}),9===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(oJ,{onNextStep:()=>t(10),onBack:()=>t(8)})}),10===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(oQ,{onNextStep:()=>t(11),onBack:()=>t(9)})}),11===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(o4,{onNextStep:()=>t(12),onBack:()=>t(10)})}),12===e&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o6,{}),(0,u.jsxs)("div",{className:"flex gap-4 justify-end mt-6",children:[(0,u.jsx)("button",{onClick:()=>t(11),className:"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition",children:"Kembali"}),(0,u.jsx)("button",{onClick:()=>t(13),className:"bg-green-500 hover:bg-green-700 text-sm text-white font-semibold py-2 px-6 rounded-full transition",children:"Simpan & Lanjut"})]})]}),13===e&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o7,{}),(0,u.jsxs)("div",{className:"flex gap-4 justify-end mt-6",children:[(0,u.jsx)("button",{onClick:()=>t(12),className:"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition",children:"Kembali"}),(0,u.jsx)("button",{onClick:()=>t(13),className:"bg-green-500 hover:bg-green-700 text-sm text-white font-semibold py-2 px-6 rounded-full transition",children:"Kirim"})]})]})]})}}]);