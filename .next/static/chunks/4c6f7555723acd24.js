(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67034,(e,t,n)=>{!function(){var e={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,o=l(e),i=o[0],s=o[1],u=new a((i+s)*3/4-s),c=0,d=s>0?i-4:i;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,o=[],i=0,s=r-a;i<s;i+=16383)o.push(function(e,t,r){for(var a,o=[],i=t;i<r;i+=3)a=(e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(n[a>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}(e,i,i+16383>s?s:i+16383));return 1===a?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===a&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=o.length;i<s;++i)n[i]=o[i],r[o.charCodeAt(i)]=i;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r[45]=62,r[95]=63},72:function(e,t,n){"use strict";var r=n(675),a=n(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e){var r=e,a=t;if(("string"!=typeof a||""===a)&&(a="utf8"),!s.isEncoding(a))throw TypeError("Unknown encoding: "+a);var o=0|h(r,a),l=i(o),u=l.write(r,a);return u!==o&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return function(e,t,n){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),s.prototype),r}(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return s.from(c,t,n);var p=function(e){if(s.isBuffer(e)){var t=0|f(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?i(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),i(e<0?0:0|f(e))}function d(e){for(var t=e.length<0?0:0|f(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return(u(e),e<=0)?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)};function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return _(e).length;default:if(a)return r?-1:S(e).length;t=(""+t).toLowerCase(),a=!0}}function p(e,t,n){var a,o,i,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",o=t;o<n;++o)a+=M[e[o]];return a}(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}(this,t,n);case"base64":return a=this,o=t,i=n,0===o&&i===a.length?r.fromByteArray(a):r.fromByteArray(a.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),a="",o=0;o<r.length;o+=2)a+=String.fromCharCode(r[o]+256*r[o+1]);return a}(this,t,n);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,a){var o;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(o=n*=1)!=o&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(a)return -1;else n=e.length-1;else if(n<0)if(!a)return -1;else n=0;if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,a);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(a)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return y(e,[t],n,r,a)}throw TypeError("val must be string, number or Buffer")}function y(e,t,n,r,a){var o,i=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;i=2,s/=2,l/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*i}else -1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return -1}s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(C(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,a=0,o=Math.min(n,r);a<o;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:+(r<n)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=s.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(C(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,a){if(C(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,a>>>=0,this===e)return 0;for(var o=a-r,i=n-t,l=Math.min(o,i),u=this.slice(r,a),c=e.slice(t,n),d=0;d<l;++d)if(u[d]!==c[d]){o=u[d],i=c[d];break}return o<i?-1:+(i<o)},s.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)};function v(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var o,i,s,l,u=e[a],c=null,d=u>239?4:u>223?3:u>191?2:1;if(a+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:(192&(o=e[a+1]))==128&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[a+1],i=e[a+2],(192&o)==128&&(192&i)==128&&(l=(15&u)<<12|(63&o)<<6|63&i)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[a+1],i=e[a+2],s=e[a+3],(192&o)==128&&(192&i)==128&&(192&s)==128&&(l=(15&u)<<18|(63&o)<<12|(63&i)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),a+=d}var f=r,h=f.length;if(h<=4096)return String.fromCharCode.apply(String,f);for(var p="",m=0;m<h;)p+=String.fromCharCode.apply(String,f.slice(m,m+=4096));return p}function x(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function b(e,t,n,r,a,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function w(e,t,n,r,a,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function j(e,t,n,r,o){return t*=1,n>>>=0,o||w(e,t,n,4,34028234663852886e22,-34028234663852886e22),a.write(e,t,n,r,23,4),n+4}function E(e,t,n,r,o){return t*=1,n>>>=0,o||w(e,t,n,8,17976931348623157e292,-17976931348623157e292),a.write(e,t,n,r,52,8),n+8}s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a,o,i,s,l,u,c,d,f=this.length-t;if((void 0===n||n>f)&&(n=f),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var h=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var o=t.length;r>o/2&&(r=o/2);for(var i=0;i<r;++i){var s,l=parseInt(t.substr(2*i,2),16);if((s=l)!=s)break;e[n+i]=l}return i}(this,e,t,n);case"utf8":case"utf-8":return a=t,o=n,A(S(e,this.length-a),this,a,o);case"ascii":return i=t,s=n,A(k(e),this,i,s);case"latin1":case"binary":return function(e,t,n,r){return A(k(t),e,n,r)}(this,e,t,n);case"base64":return l=t,u=n,A(_(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=n,A(function(e,t){for(var n,r,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,a.push(n%256),a.push(r);return a}(e,this.length-c),this,c,d);default:if(h)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=t,a=1,o=this[e+--r];r>0&&(a*=256);)o+=this[e+--r]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||x(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),a.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),a.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),a.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),a.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var a=Math.pow(2,8*n)-1;b(this,e,t,n,a,0)}var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var a=Math.pow(2,8*n)-1;b(this,e,t,n,a,0)}var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var a=Math.pow(2,8*n-1);b(this,e,t,n,a-1,-a)}var o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var a=Math.pow(2,8*n-1);b(this,e,t,n,a-1,-a)}var o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return E(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return E(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=a-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return a},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var a,o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var i=s.isBuffer(e)?e:s.from(e,r),l=i.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=i[a%l]}return this};var N=/[^+/0-9A-Za-z-_]/g;function S(e,t){t=t||1/0;for(var n,r=e.length,a=null,o=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!a){if(n>56319||i+1===r){(t-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),a=n;continue}n=(a-55296<<10|n-56320)+65536}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function k(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function _(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length)&&!(a>=e.length);++a)t[a+n]=e[a];return a}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var M=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var r=16*n,a=0;a<16;++a)t[r+a]=e[n]+e[a];return t}()},783:function(e,t){t.read=function(e,t,n,r,a){var o,i,s=8*a-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?a-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(i=o&(1<<-c)-1,o>>=-c,c+=r;c>0;i=256*i+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,r),o-=u}return(h?-1:1)*i*Math.pow(2,o-r)},t.write=function(e,t,n,r,a,o){var i,s,l,u=8*o-a-1,c=(1<<u)-1,d=c>>1,f=5960464477539062e-23*(23===a),h=r?0:o-1,p=r?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),i+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(i++,l/=2),i+d>=c?(s=0,i=c):i+d>=1?(s=(t*l-1)*Math.pow(2,a),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),i=0));a>=8;e[n+h]=255&s,h+=p,s/=256,a-=8);for(i=i<<a|s,u+=a;u>0;e[n+h]=255&i,h+=p,i/=256,u-=8);e[n+h-p]|=128*m}}},n={};function r(t){var a=n[t];if(void 0!==a)return a.exports;var o=n[t]={exports:{}},i=!0;try{e[t](o,o.exports,r),i=!1}finally{i&&delete n[t]}return o.exports}r.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=r(72)}()},55838,(e,t,n)=>{"use strict";var r=e.r(71645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,i=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,c=r[1];return s(function(){a.value=n,a.getSnapshot=t,u(a)&&c({inst:a})},[e,n,t]),i(function(){return u(a)&&c({inst:a}),e(function(){u(a)&&c({inst:a})})},[e]),l(n),n};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},2239,(e,t,n)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,n)=>{"use strict";var r=e.r(71645),a=e.r(2239),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=i(e,(d=u(function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==a&&f.hasValue){var t=f.value;if(a(t,e))return s=t}return s=e}if(t=s,o(i,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(i=e,t):(i=e,s=n)}var i,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,a]))[0],d[1]);return l(function(){f.hasValue=!0,f.value=h},[h]),c(h),h}},30224,(e,t,n)=>{"use strict";t.exports=e.r(52822)},65742,(e,t,n)=>{t.exports=function(){this.__data__=[],this.size=0}},25172,(e,t,n)=>{t.exports=function(e,t){return e===t||e!=e&&t!=t}},34314,(e,t,n)=>{var r=e.r(25172);t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},19206,(e,t,n)=>{var r=e.r(34314),a=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},67763,(e,t,n)=>{var r=e.r(34314);t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},23407,(e,t,n)=>{var r=e.r(34314);t.exports=function(e){return r(this.__data__,e)>-1}},53833,(e,t,n)=>{var r=e.r(34314);t.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},29039,(e,t,n)=>{var r=e.r(65742),a=e.r(19206),o=e.r(67763),i=e.r(23407),s=e.r(53833);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,t.exports=l},5400,(e,t,n)=>{var r=e.r(29039);t.exports=function(){this.__data__=new r,this.size=0}},86238,(e,t,n)=>{t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},57831,(e,t,n)=>{t.exports=function(e){return this.__data__.get(e)}},77802,(e,t,n)=>{t.exports=function(e){return this.__data__.has(e)}},236,(e,t,n)=>{t.exports=e.g&&e.g.Object===Object&&e.g},39088,(e,t,n)=>{var r=e.r(236),a="object"==typeof self&&self&&self.Object===Object&&self;t.exports=r||a||Function("return this")()},30353,(e,t,n)=>{t.exports=e.r(39088).Symbol},43436,(e,t,n)=>{var r=e.r(30353),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},5089,(e,t,n)=>{var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},77684,(e,t,n)=>{var r=e.r(30353),a=e.r(43436),o=e.r(5089),i=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},12447,(e,t,n)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},71223,(e,t,n)=>{var r=e.r(77684),a=e.r(12447);t.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},53789,(e,t,n)=>{t.exports=e.r(39088)["__core-js_shared__"]},69553,(e,t,n)=>{var r=e.r(53789),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();t.exports=function(e){return!!a&&a in e}},76366,(e,t,n)=>{var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},54368,(e,t,n)=>{var r=e.r(71223),a=e.r(69553),o=e.r(12447),i=e.r(76366),s=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,d=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!o(e)||a(e))&&(r(e)?d:s).test(i(e))}},63958,(e,t,n)=>{t.exports=function(e,t){return null==e?void 0:e[t]}},41920,(e,t,n)=>{var r=e.r(54368),a=e.r(63958);t.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},87362,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"Map")},32760,(e,t,n)=>{t.exports=e.r(41920)(Object,"create")},50514,(e,t,n)=>{var r=e.r(32760);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},97617,(e,t,n)=>{t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},57412,(e,t,n)=>{var r=e.r(32760),a=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},23592,(e,t,n)=>{var r=e.r(32760),a=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},39004,(e,t,n)=>{var r=e.r(32760);t.exports=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},34421,(e,t,n)=>{var r=e.r(50514),a=e.r(97617),o=e.r(57412),i=e.r(23592),s=e.r(39004);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,t.exports=l},48994,(e,t,n)=>{var r=e.r(34421),a=e.r(29039),o=e.r(87362);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},24053,(e,t,n)=>{t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},87994,(e,t,n)=>{var r=e.r(24053);t.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},96768,(e,t,n)=>{var r=e.r(87994);t.exports=function(e){var t=r(this,e).delete(e);return this.size-=!!t,t}},29932,(e,t,n)=>{var r=e.r(87994);t.exports=function(e){return r(this,e).get(e)}},92647,(e,t,n)=>{var r=e.r(87994);t.exports=function(e){return r(this,e).has(e)}},46644,(e,t,n)=>{var r=e.r(87994);t.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=+(n.size!=a),this}},87547,(e,t,n)=>{var r=e.r(48994),a=e.r(96768),o=e.r(29932),i=e.r(92647),s=e.r(46644);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,t.exports=l},20517,(e,t,n)=>{var r=e.r(29039),a=e.r(87362),o=e.r(87547);t.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},1551,(e,t,n)=>{var r=e.r(29039),a=e.r(5400),o=e.r(86238),i=e.r(57831),s=e.r(77802),l=e.r(20517);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=l,t.exports=u},12895,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},24251,(e,t,n)=>{var r=e.r(41920);t.exports=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},74548,(e,t,n)=>{var r=e.r(24251);t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},4300,(e,t,n)=>{var r=e.r(74548),a=e.r(25172),o=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},72351,(e,t,n)=>{var r=e.r(4300),a=e.r(74548);t.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),i?a(n,u,c):r(n,u,c)}return n}},55803,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},77289,(e,t,n)=>{t.exports=function(e){return null!=e&&"object"==typeof e}},66645,(e,t,n)=>{var r=e.r(77684),a=e.r(77289);t.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},73250,(e,t,n)=>{var r=e.r(66645),a=e.r(77289),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable;t.exports=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")}},45350,(e,t,n)=>{t.exports=Array.isArray},24013,(e,t,n)=>{t.exports=function(){return!1}},56956,(e,t,n)=>{var r=e.r(39088),a=e.r(24013),o=n&&!n.nodeType&&n,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o?r.Buffer:void 0;t.exports=(s?s.isBuffer:void 0)||a},66397,(e,t,n)=>{var r=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},98376,(e,t,n)=>{t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},76602,(e,t,n)=>{var r=e.r(77684),a=e.r(98376),o=e.r(77289),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},33999,(e,t,n)=>{t.exports=function(e){return function(t){return e(t)}}},80156,(e,t,n)=>{var r=e.r(236),a=n&&!n.nodeType&&n,o=a&&t&&!t.nodeType&&t,i=o&&o.exports===a&&r.process;t.exports=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return i&&i.binding&&i.binding("util")}catch(e){}}()},3023,(e,t,n)=>{var r=e.r(76602),a=e.r(33999),o=e.r(80156),i=o&&o.isTypedArray;t.exports=i?a(i):r},58877,(e,t,n)=>{var r=e.r(55803),a=e.r(73250),o=e.r(45350),i=e.r(56956),s=e.r(66397),l=e.r(3023),u=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=o(e),c=!n&&a(e),d=!n&&!c&&i(e),f=!n&&!c&&!d&&l(e),h=n||c||d||f,p=h?r(e.length,String):[],m=p.length;for(var g in e)(t||u.call(e,g))&&!(h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m)))&&p.push(g);return p}},63996,(e,t,n)=>{var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},25717,(e,t,n)=>{t.exports=function(e,t){return function(n){return e(t(n))}}},42369,(e,t,n)=>{t.exports=e.r(25717)(Object.keys,Object)},48477,(e,t,n)=>{var r=e.r(63996),a=e.r(42369),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},51095,(e,t,n)=>{var r=e.r(71223),a=e.r(98376);t.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},33679,(e,t,n)=>{var r=e.r(58877),a=e.r(48477),o=e.r(51095);t.exports=function(e){return o(e)?r(e):a(e)}},60196,(e,t,n)=>{var r=e.r(72351),a=e.r(33679);t.exports=function(e,t){return e&&r(t,a(t),e)}},13730,(e,t,n)=>{t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},85689,(e,t,n)=>{var r=e.r(12447),a=e.r(63996),o=e.r(13730),i=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)"constructor"==s&&(t||!i.call(e,s))||n.push(s);return n}},89695,(e,t,n)=>{var r=e.r(58877),a=e.r(85689),o=e.r(51095);t.exports=function(e){return o(e)?r(e,!0):a(e)}},52624,(e,t,n)=>{var r=e.r(72351),a=e.r(89695);t.exports=function(e,t){return e&&r(t,a(t),e)}},22781,(e,t,n)=>{var r=e.r(39088),a=n&&!n.nodeType&&n,o=a&&t&&!t.nodeType&&t,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},76736,(e,t,n)=>{t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},36100,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},45159,(e,t,n)=>{t.exports=function(){return[]}},17332,(e,t,n)=>{var r=e.r(36100),a=e.r(45159),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols;t.exports=i?function(e){return null==e?[]:r(i(e=Object(e)),function(t){return o.call(e,t)})}:a},74071,(e,t,n)=>{var r=e.r(72351),a=e.r(17332);t.exports=function(e,t){return r(e,a(e),t)}},69102,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},62413,(e,t,n)=>{t.exports=e.r(25717)(Object.getPrototypeOf,Object)},33648,(e,t,n)=>{var r=e.r(69102),a=e.r(62413),o=e.r(17332),i=e.r(45159);t.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i},45001,(e,t,n)=>{var r=e.r(72351),a=e.r(33648);t.exports=function(e,t){return r(e,a(e),t)}},23403,(e,t,n)=>{var r=e.r(69102),a=e.r(45350);t.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},13370,(e,t,n)=>{var r=e.r(23403),a=e.r(17332),o=e.r(33679);t.exports=function(e){return r(e,o,a)}},7889,(e,t,n)=>{var r=e.r(23403),a=e.r(33648),o=e.r(89695);t.exports=function(e){return r(e,o,a)}},1419,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"DataView")},17074,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"Promise")},6966,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"Set")},73895,(e,t,n)=>{t.exports=e.r(41920)(e.r(39088),"WeakMap")},67426,(e,t,n)=>{var r=e.r(1419),a=e.r(87362),o=e.r(17074),i=e.r(6966),s=e.r(73895),l=e.r(77684),u=e.r(76366),c="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=u(r),g=u(a),y=u(o),v=u(i),x=u(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=p||a&&b(new a)!=c||o&&b(o.resolve())!=d||i&&b(new i)!=f||s&&b(new s)!=h)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case g:return c;case y:return d;case v:return f;case x:return h}return t}),t.exports=b},53265,(e,t,n)=>{var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},63750,(e,t,n)=>{t.exports=e.r(39088).Uint8Array},25393,(e,t,n)=>{var r=e.r(63750);t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64146,(e,t,n)=>{var r=e.r(25393);t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},84046,(e,t,n)=>{var r=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},98430,(e,t,n)=>{var r=e.r(30353),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;t.exports=function(e){return o?Object(o.call(e)):{}}},14712,(e,t,n)=>{var r=e.r(25393);t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},49769,(e,t,n)=>{var r=e.r(25393),a=e.r(64146),o=e.r(84046),i=e.r(98430),s=e.r(14712);t.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return i(e)}}},46352,(e,t,n)=>{var r=e.r(12447),a=Object.create;t.exports=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}()},92433,(e,t,n)=>{var r=e.r(46352),a=e.r(62413),o=e.r(63996);t.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},81198,(e,t,n)=>{var r=e.r(67426),a=e.r(77289);t.exports=function(e){return a(e)&&"[object Map]"==r(e)}},54284,(e,t,n)=>{var r=e.r(81198),a=e.r(33999),o=e.r(80156),i=o&&o.isMap;t.exports=i?a(i):r},36206,(e,t,n)=>{var r=e.r(67426),a=e.r(77289);t.exports=function(e){return a(e)&&"[object Set]"==r(e)}},40158,(e,t,n)=>{var r=e.r(36206),a=e.r(33999),o=e.r(80156),i=o&&o.isSet;t.exports=i?a(i):r},64324,(e,t,n)=>{var r=e.r(1551),a=e.r(12895),o=e.r(4300),i=e.r(60196),s=e.r(52624),l=e.r(22781),u=e.r(76736),c=e.r(74071),d=e.r(45001),f=e.r(13370),h=e.r(7889),p=e.r(67426),m=e.r(53265),g=e.r(49769),y=e.r(92433),v=e.r(45350),x=e.r(56956),b=e.r(54284),w=e.r(12447),j=e.r(40158),E=e.r(33679),N=e.r(89695),S="[object Arguments]",k="[object Function]",_="[object Object]",A={};A[S]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[_]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[k]=A["[object WeakMap]"]=!1,t.exports=function e(t,n,C,M,O,T){var R,P=1&n,I=2&n,B=4&n;if(C&&(R=O?C(t,M,O,T):C(t)),void 0!==R)return R;if(!w(t))return t;var D=v(t);if(D){if(R=m(t),!P)return u(t,R)}else{var L=p(t),z=L==k||"[object GeneratorFunction]"==L;if(x(t))return l(t,P);if(L==_||L==S||z&&!O){if(R=I||z?{}:y(t),!P)return I?d(t,s(R,t)):c(t,i(R,t))}else{if(!A[L])return O?t:{};R=g(t,L,P)}}T||(T=new r);var F=T.get(t);if(F)return F;T.set(t,R),j(t)?t.forEach(function(r){R.add(e(r,n,C,r,t,T))}):b(t)&&t.forEach(function(r,a){R.set(a,e(r,n,C,a,t,T))});var U=B?I?h:f:I?N:E,H=D?void 0:U(t);return a(H||t,function(r,a){H&&(r=t[a=r]),o(R,a,e(r,n,C,a,t,T))}),R}},12989,(e,t,n)=>{var r=e.r(64324);t.exports=function(e){return r(e,4)}},56751,(e,t,n)=>{t.exports=function(e){return function(){return e}}},72385,(e,t,n)=>{t.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),s=i.length;s--;){var l=i[e?s:++a];if(!1===n(o[l],l,o))break}return t}}},98728,(e,t,n)=>{t.exports=e.r(72385)()},63799,(e,t,n)=>{var r=e.r(98728),a=e.r(33679);t.exports=function(e,t){return e&&r(e,t,a)}},73554,(e,t,n)=>{var r=e.r(51095);t.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==a(s[i],i,s););return n}}},53587,(e,t,n)=>{var r=e.r(63799);t.exports=e.r(73554)(r)},10504,(e,t,n)=>{t.exports=function(e){return e}},73282,(e,t,n)=>{var r=e.r(10504);t.exports=function(e){return"function"==typeof e?e:r}},93448,(e,t,n)=>{var r=e.r(12895),a=e.r(53587),o=e.r(73282),i=e.r(45350);t.exports=function(e,t){return(i(e)?r:a)(e,o(t))}},71846,(e,t,n)=>{t.exports=e.r(93448)},36179,(e,t,n)=>{var r=e.r(53587);t.exports=function(e,t){var n=[];return r(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}},21274,(e,t,n)=>{t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},39805,(e,t,n)=>{t.exports=function(e){return this.__data__.has(e)}},27493,(e,t,n)=>{var r=e.r(87547),a=e.r(21274),o=e.r(39805);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,t.exports=i},51477,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},15262,(e,t,n)=>{t.exports=function(e,t){return e.has(t)}},6856,(e,t,n)=>{var r=e.r(27493),a=e.r(51477),o=e.r(15262);t.exports=function(e,t,n,i,s,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var y=e[p],v=t[p];if(i)var x=u?i(v,y,p,t,e,l):i(y,v,p,e,t,l);if(void 0!==x){if(x)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,i,l)))return g.push(t)})){m=!1;break}}else if(!(y===v||s(y,v,n,i,l))){m=!1;break}}return l.delete(e),l.delete(t),m}},75331,(e,t,n)=>{t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},99850,(e,t,n)=>{t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},78012,(e,t,n)=>{var r=e.r(30353),a=e.r(63750),o=e.r(25172),i=e.r(6856),s=e.r(75331),l=e.r(99850),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new a(e),new a(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=l),e.size!=t.size&&!p)break;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var g=i(h(e),h(t),r,u,d,f);return f.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},30698,(e,t,n)=>{var r=e.r(13370),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,o,i,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var d=c;d--;){var f=u[d];if(!(l?f in t:a.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<c;){var y=e[f=u[d]],v=t[f];if(o)var x=l?o(v,y,f,t,e,s):o(y,v,f,e,t,s);if(!(void 0===x?y===v||i(y,v,n,o,s):x)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(m=!1)}return s.delete(e),s.delete(t),m}},78353,(e,t,n)=>{var r=e.r(1551),a=e.r(6856),o=e.r(78012),i=e.r(30698),s=e.r(67426),l=e.r(45350),u=e.r(56956),c=e.r(3023),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,m,g,y){var v=l(e),x=l(t),b=v?f:s(e),w=x?f:s(t);b=b==d?h:b,w=w==d?h:w;var j=b==h,E=w==h,N=b==w;if(N&&u(e)){if(!u(t))return!1;v=!0,j=!1}if(N&&!j)return y||(y=new r),v||c(e)?a(e,t,n,m,g,y):o(e,t,b,n,m,g,y);if(!(1&n)){var S=j&&p.call(e,"__wrapped__"),k=E&&p.call(t,"__wrapped__");if(S||k){var _=S?e.value():e,A=k?t.value():t;return y||(y=new r),g(_,A,n,m,y)}}return!!N&&(y||(y=new r),i(e,t,n,m,g,y))}},21885,(e,t,n)=>{var r=e.r(78353),a=e.r(77289);t.exports=function e(t,n,o,i,s){return t===n||(null!=t&&null!=n&&(a(t)||a(n))?r(t,n,o,i,e,s):t!=t&&n!=n)}},48299,(e,t,n)=>{var r=e.r(1551),a=e.r(21885);t.exports=function(e,t,n,o){var i=n.length,s=i,l=!o;if(null==e)return!s;for(e=Object(e);i--;){var u=n[i];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var c=(u=n[i])[0],d=e[c],f=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var h=new r;if(o)var p=o(d,f,c,e,t,h);if(!(void 0===p?a(f,d,3,o,h):p))return!1}}return!0}},15782,(e,t,n)=>{var r=e.r(12447);t.exports=function(e){return e==e&&!r(e)}},41903,(e,t,n)=>{var r=e.r(15782),a=e.r(33679);t.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},65570,(e,t,n)=>{t.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},23426,(e,t,n)=>{var r=e.r(48299),a=e.r(41903),o=e.r(65570);t.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},61884,(e,t,n)=>{var r=e.r(77684),a=e.r(77289);t.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9903,(e,t,n)=>{var r=e.r(45350),a=e.r(61884),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},57588,(e,t,n)=>{var r=e.r(87547);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,t.exports=a},88832,(e,t,n)=>{var r=e.r(57588);t.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},2677,(e,t,n)=>{var r=e.r(88832),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;t.exports=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)}),t})},92708,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},72537,(e,t,n)=>{var r=e.r(30353),a=e.r(92708),o=e.r(45350),i=e.r(61884),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},2922,(e,t,n)=>{var r=e.r(72537);t.exports=function(e){return null==e?"":r(e)}},86287,(e,t,n)=>{var r=e.r(45350),a=e.r(9903),o=e.r(2677),i=e.r(2922);t.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},2054,(e,t,n)=>{var r=e.r(61884),a=1/0;t.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},33141,(e,t,n)=>{var r=e.r(86287),a=e.r(2054);t.exports=function(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},82820,(e,t,n)=>{var r=e.r(33141);t.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},40688,(e,t,n)=>{t.exports=function(e,t){return null!=e&&t in Object(e)}},15359,(e,t,n)=>{var r=e.r(86287),a=e.r(73250),o=e.r(45350),i=e.r(66397),s=e.r(98376),l=e.r(2054);t.exports=function(e,t,n){t=r(t,e);for(var u=-1,c=t.length,d=!1;++u<c;){var f=l(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&i(f,c)&&(o(e)||a(e))}},76590,(e,t,n)=>{var r=e.r(40688),a=e.r(15359);t.exports=function(e,t){return null!=e&&a(e,t,r)}},72298,(e,t,n)=>{var r=e.r(21885),a=e.r(82820),o=e.r(76590),i=e.r(9903),s=e.r(15782),l=e.r(65570),u=e.r(2054);t.exports=function(e,t){return i(e)&&s(t)?l(u(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,3)}}},1079,(e,t,n)=>{t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},30970,(e,t,n)=>{var r=e.r(33141);t.exports=function(e){return function(t){return r(t,e)}}},33906,(e,t,n)=>{var r=e.r(1079),a=e.r(30970),o=e.r(9903),i=e.r(2054);t.exports=function(e){return o(e)?r(i(e)):a(e)}},66305,(e,t,n)=>{var r=e.r(23426),a=e.r(72298),o=e.r(10504),i=e.r(45350),s=e.r(33906);t.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):s(e)}},84892,(e,t,n)=>{var r=e.r(36100),a=e.r(36179),o=e.r(66305),i=e.r(45350);t.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},36760,(e,t,n)=>{var r=Object.prototype.hasOwnProperty;t.exports=function(e,t){return null!=e&&r.call(e,t)}},44708,(e,t,n)=>{var r=e.r(36760),a=e.r(15359);t.exports=function(e,t){return null!=e&&a(e,t,r)}},46217,(e,t,n)=>{var r=e.r(48477),a=e.r(67426),o=e.r(73250),i=e.r(45350),s=e.r(51095),l=e.r(56956),u=e.r(63996),c=e.r(3023),d=Object.prototype.hasOwnProperty;t.exports=function(e){if(null==e)return!0;if(s(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||o(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},79393,(e,t,n)=>{t.exports=function(e){return void 0===e}},7073,(e,t,n)=>{var r=e.r(53587),a=e.r(51095);t.exports=function(e,t){var n=-1,o=a(e)?Array(e.length):[];return r(e,function(e,r,a){o[++n]=t(e,r,a)}),o}},10632,(e,t,n)=>{var r=e.r(92708),a=e.r(66305),o=e.r(7073),i=e.r(45350);t.exports=function(e,t){return(i(e)?r:o)(e,a(t,3))}},92427,(e,t,n)=>{t.exports=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}},78577,(e,t,n)=>{t.exports=function(e,t,n,r,a){return a(e,function(e,a,o){n=r?(r=!1,e):t(n,e,a,o)}),n}},58253,(e,t,n)=>{var r=e.r(92427),a=e.r(53587),o=e.r(66305),i=e.r(78577),s=e.r(45350);t.exports=function(e,t,n){var l=s(e)?r:i,u=arguments.length<3;return l(e,o(t,4),n,u,a)}},85845,(e,t,n)=>{var r=e.r(77684),a=e.r(45350),o=e.r(77289);t.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&"[object String]"==r(e)}},13450,(e,t,n)=>{t.exports=e.r(1079)("length")},79589,(e,t,n)=>{var r=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(e){return r.test(e)}},7129,(e,t,n)=>{var r="\ud800-\udfff",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\ud83c[\udffb-\udfff]",i="[^"+r+"]",s="(?:\ud83c[\udde6-\uddff]){2}",l="[\ud800-\udbff][\udc00-\udfff]",u="(?:"+a+"|"+o+")?",c="[\\ufe0e\\ufe0f]?",d="(?:\\u200d(?:"+[i,s,l].join("|")+")"+c+u+")*",f=RegExp(o+"(?="+o+")|"+("(?:"+[i+a+"?",a,s,l,"["+r+"]"].join("|"))+")"+(c+u+d),"g");t.exports=function(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}},22994,(e,t,n)=>{var r=e.r(13450),a=e.r(79589),o=e.r(7129);t.exports=function(e){return a(e)?o(e):r(e)}},35405,(e,t,n)=>{var r=e.r(48477),a=e.r(67426),o=e.r(51095),i=e.r(85845),s=e.r(22994);t.exports=function(e){if(null==e)return 0;if(o(e))return i(e)?s(e):e.length;var t=a(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},79335,(e,t,n)=>{var r=e.r(12895),a=e.r(46352),o=e.r(63799),i=e.r(66305),s=e.r(62413),l=e.r(45350),u=e.r(56956),c=e.r(71223),d=e.r(12447),f=e.r(3023);t.exports=function(e,t,n){var h=l(e),p=h||u(e)||f(e);if(t=i(t,4),null==n){var m=e&&e.constructor;n=p?h?new m:[]:d(e)&&c(m)?a(s(e)):{}}return(p?r:o)(e,function(e,r,a){return t(n,e,r,a)}),n}},33803,(e,t,n)=>{var r=e.r(30353),a=e.r(73250),o=e.r(45350),i=r?r.isConcatSpreadable:void 0;t.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},41891,(e,t,n)=>{var r=e.r(69102),a=e.r(33803);t.exports=function e(t,n,o,i,s){var l=-1,u=t.length;for(o||(o=a),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,i,s):r(s,c):i||(s[s.length]=c)}return s}},87160,(e,t,n)=>{t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},72953,(e,t,n)=>{var r=e.r(87160),a=Math.max;t.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),l=Array(s);++i<s;)l[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=n(l),r(e,this,u)}}},1647,(e,t,n)=>{var r=e.r(56751),a=e.r(24251),o=e.r(10504);t.exports=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o},51994,(e,t,n)=>{var r=Date.now;t.exports=function(e){var t=0,n=0;return function(){var a=r(),o=16-(a-n);if(n=a,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},84665,(e,t,n)=>{var r=e.r(1647);t.exports=e.r(51994)(r)},95059,(e,t,n)=>{var r=e.r(10504),a=e.r(72953),o=e.r(84665);t.exports=function(e,t){return o(a(e,t,r),e+"")}},56445,(e,t,n)=>{t.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return -1}},4078,(e,t,n)=>{t.exports=function(e){return e!=e}},1987,(e,t,n)=>{t.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return -1}},81446,(e,t,n)=>{var r=e.r(56445),a=e.r(4078),o=e.r(1987);t.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},46515,(e,t,n)=>{var r=e.r(81446);t.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},29584,(e,t,n)=>{t.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},91692,(e,t,n)=>{t.exports=function(){}},8484,(e,t,n)=>{var r=e.r(6966),a=e.r(91692),o=e.r(99850);t.exports=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a},10339,(e,t,n)=>{var r=e.r(27493),a=e.r(46515),o=e.r(29584),i=e.r(15262),s=e.r(8484),l=e.r(99850);t.exports=function(e,t,n){var u=-1,c=a,d=e.length,f=!0,h=[],p=h;if(n)f=!1,c=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);f=!1,c=i,p=new r}else p=t?[]:h;e:for(;++u<d;){var g=e[u],y=t?t(g):g;if(g=n||0!==g?g:0,f&&y==y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),h.push(g)}else c(p,y,n)||(p!==h&&p.push(y),h.push(g))}return h}},91072,(e,t,n)=>{var r=e.r(51095),a=e.r(77289);t.exports=function(e){return a(e)&&r(e)}},4366,(e,t,n)=>{var r=e.r(41891),a=e.r(95059),o=e.r(10339),i=e.r(91072);t.exports=a(function(e){return o(r(e,1,i,!0))})},18110,(e,t,n)=>{var r=e.r(92708);t.exports=function(e,t){return r(t,function(t){return e[t]})}},80985,(e,t,n)=>{var r=e.r(18110),a=e.r(33679);t.exports=function(e){return null==e?[]:r(e,a(e))}},79749,(e,t,n)=>{var r;try{r={clone:e.r(12989),constant:e.r(56751),each:e.r(71846),filter:e.r(84892),has:e.r(44708),isArray:e.r(45350),isEmpty:e.r(46217),isFunction:e.r(71223),isUndefined:e.r(79393),keys:e.r(33679),map:e.r(10632),reduce:e.r(58253),size:e.r(35405),transform:e.r(79335),union:e.r(4366),values:e.r(80985)}}catch(e){}r||(r=window._),t.exports=r},64930,(e,t,n)=>{"use strict";var r=e.r(79749);function a(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function o(e,t){e[t]?e[t]++:e[t]=1}function i(e,t){--e[t]||delete e[t]}function s(e,t,n,a){var o=""+t,i=""+n;if(!e&&o>i){var s=o;o=i,i=s}return o+"\x01"+i+"\x01"+(r.isUndefined(a)?"\0":a)}function l(e,t){return s(e,t.v,t.w,t.name)}t.exports=a,a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(e){return this._label=e,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return r.keys(this._nodes)},a.prototype.sources=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._in[t])})},a.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._out[t])})},a.prototype.setNodes=function(e,t){var n=arguments,a=this;return r.each(e,function(e){n.length>1?a.setNode(e,t):a.setNode(e)}),this},a.prototype.setNode=function(e,t){return r.has(this._nodes,e)?arguments.length>1&&(this._nodes[e]=t):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this},a.prototype.node=function(e){return this._nodes[e]},a.prototype.hasNode=function(e){return r.has(this._nodes,e)},a.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},a.prototype.setParent=function(e,t){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t="\0";else{t+="";for(var n=t;!r.isUndefined(n);n=this.parent(n))if(n===e)throw Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},a.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},a.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},a.prototype.children=function(e){if(r.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else if("\0"===e)return this.nodes();else if(this.hasNode(e))return[]},a.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},a.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},a.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},a.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},a.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),r.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var a={};return this._isCompound&&r.each(t.nodes(),function(e){t.setParent(e,function e(r){var o=n.parent(r);return void 0===o||t.hasNode(o)?(a[r]=o,o):o in a?a[o]:e(o)}(e))}),t},a.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return r.values(this._edgeObjs)},a.prototype.setPath=function(e,t){var n=this,a=arguments;return r.reduce(e,function(e,r){return a.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r}),this},a.prototype.setEdge=function(){var e,t,n,a,i=!1,l=arguments[0];"object"==typeof l&&null!==l&&"v"in l?(e=l.v,t=l.w,n=l.name,2==arguments.length&&(a=arguments[1],i=!0)):(e=l,t=arguments[1],n=arguments[3],arguments.length>2&&(a=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var u=s(this._isDirected,e,t,n);if(r.has(this._edgeLabels,u))return i&&(this._edgeLabels[u]=a),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=i?a:this._defaultEdgeLabelFn(e,t,n);var c=function(e,t,n,r){var a=""+t,o=""+n;if(!e&&a>o){var i=a;a=o,o=i}var s={v:a,w:o};return r&&(s.name=r),s}(this._isDirected,e,t,n);return e=c.v,t=c.w,Object.freeze(c),this._edgeObjs[u]=c,o(this._preds[t],e),o(this._sucs[e],t),this._in[t][u]=c,this._out[e][u]=c,this._edgeCount++,this},a.prototype.edge=function(e,t,n){var r=1==arguments.length?l(this._isDirected,arguments[0]):s(this._isDirected,e,t,n);return this._edgeLabels[r]},a.prototype.hasEdge=function(e,t,n){var a=1==arguments.length?l(this._isDirected,arguments[0]):s(this._isDirected,e,t,n);return r.has(this._edgeLabels,a)},a.prototype.removeEdge=function(e,t,n){var r=1==arguments.length?l(this._isDirected,arguments[0]):s(this._isDirected,e,t,n),a=this._edgeObjs[r];return a&&(e=a.v,t=a.w,delete this._edgeLabels[r],delete this._edgeObjs[r],i(this._preds[t],e),i(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},a.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var a=r.values(n);return t?r.filter(a,function(e){return e.v===t}):a}},a.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var a=r.values(n);return t?r.filter(a,function(e){return e.w===t}):a}},a.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},36347,(e,t,n)=>{t.exports="2.1.8"},45376,(e,t,n)=>{t.exports={Graph:e.r(64930),version:e.r(36347)}},52829,(e,t,n)=>{var r=e.r(79749),a=e.r(64930);t.exports={write:function(e){var t,n,a={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:(t=e,r.map(t.nodes(),function(e){var n=t.node(e),a=t.parent(e),o={v:e};return r.isUndefined(n)||(o.value=n),r.isUndefined(a)||(o.parent=a),o})),edges:(n=e,r.map(n.edges(),function(e){var t=n.edge(e),a={v:e.v,w:e.w};return r.isUndefined(e.name)||(a.name=e.name),r.isUndefined(t)||(a.value=t),a}))};return r.isUndefined(e.graph())||(a.value=r.clone(e.graph())),a},read:function(e){var t=new a(e.options).setGraph(e.value);return r.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),r.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},92100,(e,t,n)=>{var r=e.r(79749);t.exports=function(e){var t,n={},a=[];return r.each(e.nodes(),function(o){t=[],function a(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),a),r.each(e.predecessors(o),a))}(o),t.length&&a.push(t)}),a}},92402,(e,t,n)=>{var r=e.r(79749);function a(){this._arr=[],this._keyIndices={}}t.exports=a,a.prototype.size=function(){return this._arr.length},a.prototype.keys=function(){return this._arr.map(function(e){return e.key})},a.prototype.has=function(e){return r.has(this._keyIndices,e)},a.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},a.prototype.min=function(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key},a.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var a=this._arr,o=a.length;return n[e]=o,a.push({key:e,priority:t}),this._decrease(o),!0}return!1},a.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},a.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},a.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,a=e;n<t.length&&(a=t[n].priority<t[a].priority?n:a,r<t.length&&(a=t[r].priority<t[a].priority?r:a),a!==e&&(this._swap(e,a),this._heapify(a)))},a.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},a.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,a=n[e],o=n[t];n[e]=o,n[t]=a,r[o.key]=e,r[a.key]=t}},74584,(e,t,n)=>{var r=e.r(79749),a=e.r(92402);t.exports=function(e,t,n,r){return function(e,t,n,r){var o,i,s={},l=new a,u=function(e){var t=e.v!==o?e.v:e.w,r=s[t],a=n(e),u=i.distance+a;if(a<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+a);u<r.distance&&(r.distance=u,r.predecessor=o,l.decrease(t,u))};for(e.nodes().forEach(function(e){var n=e===t?0:1/0;s[e]={distance:n},l.add(e,n)});l.size()>0&&(i=s[o=l.removeMin()]).distance!==1/0;)r(o).forEach(u);return s}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},63255,(e,t,n)=>{var r=e.r(74584),a=e.r(79749);t.exports=function(e,t,n){return a.transform(e.nodes(),function(a,o){a[o]=r(e,o,t,n)},{})}},36194,(e,t,n)=>{var r=e.r(79749);t.exports=function(e){var t=0,n=[],a={},o=[];return e.nodes().forEach(function(i){r.has(a,i)||function i(s){var l=a[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach(function(e){r.has(a,e)?a[e].onStack&&(l.lowlink=Math.min(l.lowlink,a[e].index)):(i(e),l.lowlink=Math.min(l.lowlink,a[e].lowlink))}),l.lowlink===l.index){var u,c=[];do a[u=n.pop()].onStack=!1,c.push(u);while(s!==u)o.push(c)}}(i)}),o}},72175,(e,t,n)=>{var r=e.r(79749),a=e.r(36194);t.exports=function(e){return r.filter(a(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},78229,(e,t,n)=>{var r=e.r(79749);t.exports=function(e,t,n){var r,o,i,s,l;return r=e,o=t||a,i=n||function(t){return e.outEdges(t)},s={},(l=r.nodes()).forEach(function(e){s[e]={},s[e][e]={distance:0},l.forEach(function(t){e!==t&&(s[e][t]={distance:1/0})}),i(e).forEach(function(t){var n=t.v===e?t.w:t.v,r=o(t);s[e][n]={distance:r,predecessor:e}})}),l.forEach(function(e){var t=s[e];l.forEach(function(n){var r=s[n];l.forEach(function(n){var a=r[e],o=t[n],i=r[n],s=a.distance+o.distance;s<i.distance&&(i.distance=s,i.predecessor=o.predecessor)})})}),s};var a=r.constant(1)},8240,(e,t,n)=>{var r=e.r(79749);function a(e){var t={},n={},a=[];if(r.each(e.sinks(),function i(s){if(r.has(n,s))throw new o;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),i),delete n[s],a.push(s))}),r.size(t)!==e.nodeCount())throw new o;return a}function o(){}t.exports=a,a.CycleException=o,o.prototype=Error()},68780,(e,t,n)=>{var r=e.r(8240);t.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},92512,(e,t,n)=>{var r=e.r(79749);t.exports=function(e,t,n){r.isArray(t)||(t=[t]);var a=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return r.each(t,function(t){if(!e.hasNode(t))throw Error("Graph does not have node: "+t);!function e(t,n,a,o,i,s){!r.has(o,n)&&(o[n]=!0,a||s.push(n),r.each(i(n),function(n){e(t,n,a,o,i,s)}),a&&s.push(n))}(e,t,"post"===n,i,a,o)}),o}},20233,(e,t,n)=>{var r=e.r(92512);t.exports=function(e,t){return r(e,t,"post")}},21802,(e,t,n)=>{var r=e.r(92512);t.exports=function(e,t){return r(e,t,"pre")}},67875,(e,t,n)=>{var r=e.r(79749),a=e.r(64930),o=e.r(92402);t.exports=function(e,t){var n,i=new a,s={},l=new o;function u(e){var r=e.v===n?e.w:e.v,a=l.priority(r);if(void 0!==a){var o=t(e);o<a&&(s[r]=n,l.decrease(r,o))}}if(0===e.nodeCount())return i;r.each(e.nodes(),function(e){l.add(e,1/0),i.setNode(e)}),l.decrease(e.nodes()[0],0);for(var c=!1;l.size()>0;){if(n=l.removeMin(),r.has(s,n))i.setEdge(n,s[n]);else if(c)throw Error("Input graph is not connected: "+e);else c=!0;e.nodeEdges(n).forEach(u)}return i}},64182,(e,t,n)=>{t.exports={components:e.r(92100),dijkstra:e.r(74584),dijkstraAll:e.r(63255),findCycles:e.r(72175),floydWarshall:e.r(78229),isAcyclic:e.r(68780),postorder:e.r(20233),preorder:e.r(21802),prim:e.r(67875),tarjan:e.r(36194),topsort:e.r(8240)}},62319,(e,t,n)=>{var r=e.r(45376);t.exports={Graph:r.Graph,json:e.r(52829),alg:e.r(64182),version:r.version}},40576,(e,t,n)=>{var r;try{r=e.r(62319)}catch(e){}r||(r=window.graphlib),t.exports=r},71944,(e,t,n)=>{var r=e.r(64324);t.exports=function(e){return r(e,5)}},70237,(e,t,n)=>{var r=e.r(25172),a=e.r(51095),o=e.r(66397),i=e.r(12447);t.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return("number"==s?!!(a(n)&&o(t,n.length)):"string"==s&&t in n)&&r(n[t],e)}},10806,(e,t,n)=>{var r=e.r(95059),a=e.r(25172),o=e.r(70237),i=e.r(89695),s=Object.prototype,l=s.hasOwnProperty;t.exports=r(function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],d=i(c),f=-1,h=d.length;++f<h;){var p=d[f],m=e[p];(void 0===m||a(m,s[p])&&!l.call(e,p))&&(e[p]=c[p])}return e})},95200,(e,t,n)=>{var r=e.r(66305),a=e.r(51095),o=e.r(33679);t.exports=function(e){return function(t,n,i){var s=Object(t);if(!a(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,i);return u>-1?s[l?t[u]:u]:void 0}}},48891,(e,t,n)=>{var r=/\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},30364,(e,t,n)=>{var r=e.r(48891),a=/^\s+/;t.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},73759,(e,t,n)=>{var r=e.r(30364),a=e.r(12447),o=e.r(61884),i=0/0,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?i:+e}},82560,(e,t,n)=>{var r=e.r(73759),a=1/0;t.exports=function(e){return e?(e=r(e))===a||e===-a?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},4653,(e,t,n)=>{var r=e.r(82560);t.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},26965,(e,t,n)=>{var r=e.r(56445),a=e.r(66305),o=e.r(4653),i=Math.max;t.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return -1;var l=null==n?0:o(n);return l<0&&(l=i(s+l,0)),r(e,a(t,3),l)}},60191,(e,t,n)=>{t.exports=e.r(95200)(e.r(26965))},72810,(e,t,n)=>{var r=e.r(41891);t.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},14200,(e,t,n)=>{var r=e.r(98728),a=e.r(73282),o=e.r(89695);t.exports=function(e,t){return null==e?e:r(e,a(t),o)}},4879,(e,t,n)=>{t.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},60793,(e,t,n)=>{var r=e.r(74548),a=e.r(63799),o=e.r(66305);t.exports=function(e,t){var n={};return t=o(t,3),a(e,function(e,a,o){r(n,a,t(e,a,o))}),n}},41015,(e,t,n)=>{var r=e.r(61884);t.exports=function(e,t,n){for(var a=-1,o=e.length;++a<o;){var i=e[a],s=t(i);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,u=i}return u}},80957,(e,t,n)=>{t.exports=function(e,t){return e>t}},86966,(e,t,n)=>{var r=e.r(41015),a=e.r(80957),o=e.r(10504);t.exports=function(e){return e&&e.length?r(e,o,a):void 0}},58352,(e,t,n)=>{var r=e.r(74548),a=e.r(25172);t.exports=function(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},1320,(e,t,n)=>{var r=e.r(77684),a=e.r(62413),o=e.r(77289),i=Object.prototype,s=Function.prototype.toString,l=i.hasOwnProperty,u=s.call(Object);t.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==u}},84305,(e,t,n)=>{t.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},37153,(e,t,n)=>{var r=e.r(72351),a=e.r(89695);t.exports=function(e){return r(e,a(e))}},27579,(e,t,n)=>{var r=e.r(58352),a=e.r(22781),o=e.r(14712),i=e.r(76736),s=e.r(92433),l=e.r(73250),u=e.r(45350),c=e.r(91072),d=e.r(56956),f=e.r(71223),h=e.r(12447),p=e.r(1320),m=e.r(3023),g=e.r(84305),y=e.r(37153);t.exports=function(e,t,n,v,x,b,w){var j=g(e,n),E=g(t,n),N=w.get(E);if(N)return void r(e,n,N);var S=b?b(j,E,n+"",e,t,w):void 0,k=void 0===S;if(k){var _=u(E),A=!_&&d(E),C=!_&&!A&&m(E);S=E,_||A||C?u(j)?S=j:c(j)?S=i(j):A?(k=!1,S=a(E,!0)):C?(k=!1,S=o(E,!0)):S=[]:p(E)||l(E)?(S=j,l(j)?S=y(j):(!h(j)||f(j))&&(S=s(E))):k=!1}k&&(w.set(E,S),x(S,E,v,b,w),w.delete(E)),r(e,n,S)}},5702,(e,t,n)=>{var r=e.r(1551),a=e.r(58352),o=e.r(98728),i=e.r(27579),s=e.r(12447),l=e.r(89695),u=e.r(84305);t.exports=function e(t,n,c,d,f){t!==n&&o(n,function(o,l){if(f||(f=new r),s(o))i(t,n,l,c,e,d,f);else{var h=d?d(u(t,l),o,l+"",t,n,f):void 0;void 0===h&&(h=o),a(t,l,h)}},l)}},83495,(e,t,n)=>{var r=e.r(95059),a=e.r(70237);t.exports=function(e){return r(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&a(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})}},11595,(e,t,n)=>{var r=e.r(5702);t.exports=e.r(83495)(function(e,t,n){r(e,t,n)})},98128,(e,t,n)=>{t.exports=function(e,t){return e<t}},37544,(e,t,n)=>{var r=e.r(41015),a=e.r(98128),o=e.r(10504);t.exports=function(e){return e&&e.length?r(e,o,a):void 0}},49673,(e,t,n)=>{var r=e.r(41015),a=e.r(66305),o=e.r(98128);t.exports=function(e,t){return e&&e.length?r(e,a(t,2),o):void 0}},31926,(e,t,n)=>{var r=e.r(39088);t.exports=function(){return r.Date.now()}},42173,(e,t,n)=>{var r=e.r(4300),a=e.r(86287),o=e.r(66397),i=e.r(12447),s=e.r(2054);t.exports=function(e,t,n,l){if(!i(e))return e;t=a(t,e);for(var u=-1,c=t.length,d=c-1,f=e;null!=f&&++u<c;){var h=s(t[u]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)break;if(u!=d){var m=f[h];void 0===(p=l?l(m,h,f):void 0)&&(p=i(m)?m:o(t[u+1])?[]:{})}r(f,h,p),f=f[h]}return e}},81829,(e,t,n)=>{var r=e.r(33141),a=e.r(42173),o=e.r(86287);t.exports=function(e,t,n){for(var i=-1,s=t.length,l={};++i<s;){var u=t[i],c=r(e,u);n(c,u)&&a(l,o(u,e),c)}return l}},13879,(e,t,n)=>{var r=e.r(81829),a=e.r(76590);t.exports=function(e,t){return r(e,t,function(t,n){return a(e,n)})}},6227,(e,t,n)=>{var r=e.r(72810),a=e.r(72953),o=e.r(84665);t.exports=function(e){return o(a(e,void 0,r),e+"")}},80210,(e,t,n)=>{var r=e.r(13879);t.exports=e.r(6227)(function(e,t){return null==e?{}:r(e,t)})},93440,(e,t,n)=>{var r=Math.ceil,a=Math.max;t.exports=function(e,t,n,o){for(var i=-1,s=a(r((t-e)/(n||1)),0),l=Array(s);s--;)l[o?s:++i]=e,e+=n;return l}},69523,(e,t,n)=>{var r=e.r(93440),a=e.r(70237),o=e.r(82560);t.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),r(t,n,i,e)}}},44950,(e,t,n)=>{t.exports=e.r(69523)()},83629,(e,t,n)=>{t.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},4886,(e,t,n)=>{var r=e.r(61884);t.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e==e,i=r(e),s=void 0!==t,l=null===t,u=t==t,c=r(t);if(!l&&!c&&!i&&e>t||i&&s&&u&&!l&&!c||a&&s&&u||!n&&u||!o)return 1;if(!a&&!i&&!c&&e<t||c&&n&&o&&!a&&!i||l&&n&&o||!s&&o||!u)return -1}return 0}},58322,(e,t,n)=>{var r=e.r(4886);t.exports=function(e,t,n){for(var a=-1,o=e.criteria,i=t.criteria,s=o.length,l=n.length;++a<s;){var u=r(o[a],i[a]);if(u){if(a>=l)return u;return u*("desc"==n[a]?-1:1)}}return e.index-t.index}},28138,(e,t,n)=>{var r=e.r(92708),a=e.r(33141),o=e.r(66305),i=e.r(7073),s=e.r(83629),l=e.r(33999),u=e.r(58322),c=e.r(10504),d=e.r(45350);t.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[c];var f=-1;return t=r(t,l(o)),s(i(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++f,value:e}}),function(e,t){return u(e,t,n)})}},31195,(e,t,n)=>{var r=e.r(41891),a=e.r(28138),o=e.r(95059),i=e.r(70237);t.exports=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])})},85658,(e,t,n)=>{var r=e.r(2922),a=0;t.exports=function(e){var t=++a;return r(e)+t}},89726,(e,t,n)=>{t.exports=function(e,t,n){for(var r=-1,a=e.length,o=t.length,i={};++r<a;){var s=r<o?t[r]:void 0;n(i,e[r],s)}return i}},78957,(e,t,n)=>{var r=e.r(4300),a=e.r(89726);t.exports=function(e,t){return a(e||[],t||[],r)}},11994,(e,t,n)=>{var r;try{r={cloneDeep:e.r(71944),constant:e.r(56751),defaults:e.r(10806),each:e.r(71846),filter:e.r(84892),find:e.r(60191),flatten:e.r(72810),forEach:e.r(93448),forIn:e.r(14200),has:e.r(44708),isUndefined:e.r(79393),last:e.r(4879),map:e.r(10632),mapValues:e.r(60793),max:e.r(86966),merge:e.r(11595),min:e.r(37544),minBy:e.r(49673),now:e.r(31926),pick:e.r(80210),range:e.r(44950),reduce:e.r(58253),sortBy:e.r(31195),uniqueId:e.r(85658),values:e.r(80985),zipObject:e.r(78957)}}catch(e){}r||(r=window._),t.exports=r},71676,(e,t,n)=>{function r(){var e={};e._next=e._prev=e,this._sentinel=e}function a(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}t.exports=r,r.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return a(t),t},r.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&a(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},r.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},15769,(e,t,n)=>{var r=e.r(11994),a=e.r(40576).Graph,o=e.r(71676);t.exports=function(e,t){if(1>=e.nodeCount())return[];var n,u,c,d,f,h,p,m=(n=e,u=t||i,c=new a,d=0,f=0,r.forEach(n.nodes(),function(e){c.setNode(e,{v:e,in:0,out:0})}),r.forEach(n.edges(),function(e){var t=c.edge(e.v,e.w)||0,n=u(e);c.setEdge(e.v,e.w,t+n),f=Math.max(f,c.node(e.v).out+=n),d=Math.max(d,c.node(e.w).in+=n)}),h=r.range(f+d+3).map(function(){return new o}),p=d+1,r.forEach(c.nodes(),function(e){l(h,p,c.node(e))}),{graph:c,buckets:h,zeroIdx:p}),g=function(e,t,n){for(var r,a=[],o=t[t.length-1],i=t[0];e.nodeCount();){for(;r=i.dequeue();)s(e,t,n,r);for(;r=o.dequeue();)s(e,t,n,r);if(e.nodeCount()){for(var l=t.length-2;l>0;--l)if(r=t[l].dequeue()){a=a.concat(s(e,t,n,r,!0));break}}}return a}(m.graph,m.buckets,m.zeroIdx);return r.flatten(r.map(g,function(t){return e.outEdges(t.v,t.w)}),!0)};var i=r.constant(1);function s(e,t,n,a,o){var i=o?[]:void 0;return r.forEach(e.inEdges(a.v),function(r){var a=e.edge(r),s=e.node(r.v);o&&i.push({v:r.v,w:r.w}),s.out-=a,l(t,n,s)}),r.forEach(e.outEdges(a.v),function(r){var a=e.edge(r),o=r.w,i=e.node(o);i.in-=a,l(t,n,i)}),e.removeNode(a.v),i}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},28155,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(15769);t.exports={run:function(e){var t,n,o,i,s,l="greedy"===e.graph().acyclicer?a(e,(t=e,function(e){return t.edge(e).weight})):(n=e,o=[],i={},s={},r.forEach(n.nodes(),function e(t){r.has(s,t)||(s[t]=!0,i[t]=!0,r.forEach(n.outEdges(t),function(t){r.has(i,t.w)?o.push(t):e(t.w)}),delete i[t])}),o);r.forEach(l,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))})},undo:function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},80897,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(40576).Graph;function o(e,t,n,a){var o;do o=r.uniqueId(a);while(e.hasNode(o))return n.dummy=t,e.setNode(o,n),o}function i(e){return r.max(r.map(e.nodes(),function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n}))}t.exports={addDummyNode:o,simplify:function(e){var t=new a().setGraph(e.graph());return r.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},a=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+a.weight,minlen:Math.max(r.minlen,a.minlen)})}),t},asNonCompoundGraph:function(e){var t=new a({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,a=e.x,o=e.y,i=t.x-a,s=t.y-o,l=e.width/2,u=e.height/2;if(!i&&!s)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*l>Math.abs(i)*u?(s<0&&(u=-u),n=u*i/s,r=u):(i<0&&(l=-l),n=l,r=l*s/i),{x:a+n,y:o+r}},buildLayerMatrix:function(e){var t=r.map(r.range(i(e)+1),function(){return[]});return r.forEach(e.nodes(),function(n){var a=e.node(n),o=a.rank;r.isUndefined(o)||(t[o][a.order]=n)}),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank}));r.forEach(e.nodes(),function(n){var a=e.node(n);r.has(a,"rank")&&(a.rank-=t)})},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank})),n=[];r.forEach(e.nodes(),function(r){var a=e.node(r).rank-t;n[a]||(n[a]=[]),n[a].push(r)});var a=0,o=e.graph().nodeRankFactor;r.forEach(n,function(t,n){r.isUndefined(t)&&n%o!=0?--a:a&&r.forEach(t,function(t){e.node(t).rank+=a})})},addBorderNode:function(e,t,n,r){var a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=r),o(e,"border",a,t)},maxRank:i,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},21810,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(80897);t.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){!function(e,t){var n,r,o,i=t.v,s=e.node(i).rank,l=t.w,u=e.node(l).rank,c=t.name,d=e.edge(t),f=d.labelRank;if(u!==s+1){for(e.removeEdge(t),o=0,++s;s<u;++o,++s)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:t,rank:s},n=a.addDummyNode(e,"edge",r,"_d"),s===f&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),e.setEdge(i,n,{weight:d.weight},c),0===o&&e.graph().dummyChains.push(n),i=n;e.setEdge(i,l,{weight:d.weight},c)}}(e,t)})},undo:function(e){r.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),a=r.edgeLabel;for(e.setEdge(r.edgeObj,a);r.dummy;)n=e.successors(t)[0],e.removeNode(t),a.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(a.x=r.x,a.y=r.y,a.width=r.width,a.height=r.height),t=n,r=e.node(t)})}}},99269,(e,t,n)=>{"use strict";var r=e.r(11994);t.exports={longestPath:function(e){var t={};r.forEach(e.sources(),function n(a){var o=e.node(a);if(r.has(t,a))return o.rank;t[a]=!0;var i=r.min(r.map(e.outEdges(a),function(t){return n(t.w)-e.edge(t).minlen}));return(i===1/0||null==i)&&(i=0),o.rank=i})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},10836,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(40576).Graph,o=e.r(99269).slack;t.exports=function(e){var t,n,i,s,l=new a({directed:!1}),u=e.nodes()[0],c=e.nodeCount();for(l.setNode(u,{});t=l,n=e,r.forEach(t.nodes(),function e(a){r.forEach(n.nodeEdges(a),function(r){var i=r.v,s=a===i?r.w:i;t.hasNode(s)||o(n,r)||(t.setNode(s,{}),t.setEdge(a,s,{}),e(s))})}),t.nodeCount()<c;)i=function(e,t){return r.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return o(t,n)})}(l,e),s=l.hasNode(i.v)?o(e,i):-o(e,i),function(e,t,n){r.forEach(e.nodes(),function(e){t.node(e).rank+=n})}(l,e,s);return l}},71639,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(10836),o=e.r(99269).slack,i=e.r(99269).longestPath,s=e.r(40576).alg.preorder,l=e.r(40576).alg.postorder,u=e.r(80897).simplify;function c(e){i(e=u(e));var t,n,r=a(e);for(h(r),d(r,e);t=p(r);)n=m(r,e,t),g(r,e,t,n)}function d(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){var r,a,o,i;r=e,a=t,o=n,i=r.node(o).parent,r.edge(o,i).cutvalue=f(r,a,o)})}function f(e,t,n){var a=e.node(n).parent,o=!0,i=t.edge(n,a),s=0;return i||(o=!1,i=t.edge(a,n)),s=i.weight,r.forEach(t.nodeEdges(n),function(r){var i=r.v===n,l=i?r.w:r.v;if(l!==a){var u,c,d,f=i===o,h=t.edge(r).weight;if(s+=f?h:-h,u=e,c=n,d=l,u.hasEdge(c,d)){var p=e.edge(n,l).cutvalue;s+=f?-p:p}}}),s}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,a,o,i){var s=a,l=t.node(o);return n[o]=!0,r.forEach(t.neighbors(o),function(i){r.has(n,i)||(a=e(t,n,a,i,o))}),l.low=s,l.lim=a++,i?l.parent=i:delete l.parent,a}(e,{},1,t)}function p(e){return r.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function m(e,t,n){var a=n.v,i=n.w;t.hasEdge(a,i)||(a=n.w,i=n.v);var s=e.node(a),l=e.node(i),u=s,c=!1;s.lim>l.lim&&(u=l,c=!0);var d=r.filter(t.edges(),function(t){return c===y(e,e.node(t.v),u)&&c!==y(e,e.node(t.w),u)});return r.minBy(d,function(e){return o(t,e)})}function g(e,t,n,a){var o,i,l,u,c=n.v,f=n.w;e.removeEdge(c,f),e.setEdge(a.v,a.w,{}),h(e),d(e,t),o=e,i=t,l=r.find(o.nodes(),function(e){return!i.node(e).parent}),u=(u=s(o,l)).slice(1),r.forEach(u,function(e){var t=o.node(e).parent,n=i.edge(e,t),r=!1;n||(n=i.edge(t,e),r=!0),i.node(e).rank=i.node(t).rank+(r?n.minlen:-n.minlen)})}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}t.exports=c,c.initLowLimValues=h,c.initCutValues=d,c.calcCutValue=f,c.leaveEdge=p,c.enterEdge=m,c.exchangeEdges=g},60106,(e,t,n)=>{"use strict";var r=e.r(99269).longestPath,a=e.r(10836),o=e.r(71639);t.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:o(e);break;case"tight-tree":var t;r(t=e),a(t);break;case"longest-path":i(e)}};var i=r},31662,(e,t,n)=>{var r=e.r(11994);t.exports=function(e){var t,n,a,o=(t=e,n={},a=0,r.forEach(t.children(),function e(o){var i=a;r.forEach(t.children(o),e),n[o]={low:i,lim:a++}}),n);r.forEach(e.graph().dummyChains,function(t){for(var n=e.node(t),r=n.edgeObj,a=function(e,t,n,r){var a,o,i=[],s=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);a=n;do i.push(a=e.parent(a));while(a&&(t[a].low>l||u>t[a].lim))for(o=a,a=r;(a=e.parent(a))!==o;)s.push(a);return{path:i.concat(s.reverse()),lca:o}}(e,o,r.v,r.w),i=a.path,s=a.lca,l=0,u=i[0],c=!0;t!==r.w;){if(n=e.node(t),c){for(;(u=i[l])!==s&&e.node(u).maxRank<n.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<i.length-1&&e.node(u=i[l+1]).minRank<=n.rank;)l++;u=i[l]}e.setParent(t,u),t=e.successors(t)[0]}})}},40786,(e,t,n)=>{var r=e.r(11994),a=e.r(80897);t.exports={run:function(e){var t,n,o,i=a.addDummyNode(e,"root",{},"_root"),s=(t=e,n={},r.forEach(t.children(),function(e){!function e(a,o){var i=t.children(a);i&&i.length&&r.forEach(i,function(t){e(t,o+1)}),n[a]=o}(e,1)}),n),l=r.max(r.values(s))-1,u=2*l+1;e.graph().nestingRoot=i,r.forEach(e.edges(),function(t){e.edge(t).minlen*=u});var c=(o=e,r.reduce(o.edges(),function(e,t){return e+o.edge(t).weight},0)+1);r.forEach(e.children(),function(t){!function e(t,n,o,i,s,l,u){var c=t.children(u);if(!c.length){u!==n&&t.setEdge(n,u,{weight:0,minlen:o});return}var d=a.addBorderNode(t,"_bt"),f=a.addBorderNode(t,"_bb"),h=t.node(u);t.setParent(d,u),h.borderTop=d,t.setParent(f,u),h.borderBottom=f,r.forEach(c,function(r){e(t,n,o,i,s,l,r);var a=t.node(r),c=a.borderTop?a.borderTop:r,h=a.borderBottom?a.borderBottom:r,p=a.borderTop?i:2*i,m=c!==h?1:s-l[u]+1;t.setEdge(d,c,{weight:p,minlen:m,nestingEdge:!0}),t.setEdge(h,f,{weight:p,minlen:m,nestingEdge:!0})}),t.parent(u)||t.setEdge(n,d,{weight:0,minlen:s+l[u]})}(e,i,u,c,l,s,t)}),e.graph().nodeRankFactor=u},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},8889,(e,t,n)=>{var r=e.r(11994),a=e.r(80897);function o(e,t,n,r,o,i){var s=o[t][i-1],l=a.addDummyNode(e,"border",{width:0,height:0,rank:i,borderType:t},n);o[t][i]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}t.exports=function(e){r.forEach(e.children(),function t(n){var a=e.children(n),i=e.node(n);if(a.length&&r.forEach(a,t),r.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,l=i.maxRank+1;s<l;++s)o(e,"borderLeft","_bl",n,i,s),o(e,"borderRight","_br",n,i,s)}})}},75175,(e,t,n)=>{"use strict";var r=e.r(11994);function a(e){r.forEach(e.nodes(),function(t){o(e.node(t))}),r.forEach(e.edges(),function(t){o(e.edge(t))})}function o(e){var t=e.width;e.width=e.height,e.height=t}function i(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}t.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();("lr"===t||"rl"===t)&&a(e)},undo:function(e){var t,n,o=e.graph().rankdir.toLowerCase();("bt"===o||"rl"===o)&&(t=e,r.forEach(t.nodes(),function(e){i(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,i),r.has(n,"y")&&i(n)})),("lr"===o||"rl"===o)&&(n=e,r.forEach(n.nodes(),function(e){s(n.node(e))}),r.forEach(n.edges(),function(e){var t=n.edge(e);r.forEach(t.points,s),r.has(t,"x")&&s(t)}),a(e))}}},92064,(e,t,n)=>{"use strict";var r=e.r(11994);t.exports=function(e){var t={},n=r.filter(e.nodes(),function(t){return!e.children(t).length}),a=r.max(r.map(n,function(t){return e.node(t).rank})),o=r.map(r.range(a+1),function(){return[]}),i=r.sortBy(n,function(t){return e.node(t).rank});return r.forEach(i,function n(a){r.has(t,a)||(t[a]=!0,o[e.node(a).rank].push(a),r.forEach(e.successors(a),n))}),o}},45729,(e,t,n)=>{"use strict";var r=e.r(11994);t.exports=function(e,t){for(var n=0,a=1;a<t.length;++a)n+=function(e,t,n){for(var a=r.zipObject(n,r.map(n,function(e,t){return t})),o=r.flatten(r.map(t,function(t){return r.sortBy(r.map(e.outEdges(t),function(t){return{pos:a[t.w],weight:e.edge(t).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var s=2*i-1;i-=1;var l=r.map(Array(s),function(){return 0}),u=0;return r.forEach(o.forEach(function(e){var t=e.pos+i;l[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=l[t+1]),t=t-1>>1,l[t]+=e.weight;u+=e.weight*n})),u}(e,t[a-1],t[a]);return n}},91609,(e,t,n)=>{var r=e.r(11994);t.exports=function(e,t){return r.map(t,function(t){var n=e.inEdges(t);if(!n.length)return{v:t};var a=r.reduce(n,function(t,n){var r=e.edge(n),a=e.node(n.v);return{sum:t.sum+r.weight*a.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:a.sum/a.weight,weight:a.weight}})}},38867,(e,t,n)=>{"use strict";var r=e.r(11994);t.exports=function(e,t){var n={};return r.forEach(e,function(e,t){var a=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(a.barycenter=e.barycenter,a.weight=e.weight)}),r.forEach(t.edges(),function(e){var t=n[e.v],a=n[e.w];r.isUndefined(t)||r.isUndefined(a)||(a.indegree++,t.out.push(n[e.w]))}),function(e){for(var t=[];e.length;){var n=e.pop();t.push(n),r.forEach(n.in.reverse(),function(e){return function(t){!t.merged&&(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}(n)),r.forEach(n.out,function(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}(n))}return r.map(r.filter(t,function(e){return!e.merged}),function(e){return r.pick(e,["vs","i","barycenter","weight"])})}(r.filter(n,function(e){return!e.indegree}))}},25571,(e,t,n)=>{var r=e.r(11994),a=e.r(80897);function o(e,t,n){for(var a;t.length&&(a=r.last(t)).i<=n;)t.pop(),e.push(a.vs),n++;return n}t.exports=function(e,t){var n,i=a.partition(e,function(e){return r.has(e,"barycenter")}),s=i.lhs,l=r.sortBy(i.rhs,function(e){return-e.i}),u=[],c=0,d=0,f=0;s.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),f=o(u,l,f),r.forEach(s,function(e){f+=e.vs.length,u.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,f=o(u,l,f)});var h={vs:r.flatten(u,!0)};return d&&(h.barycenter=c/d,h.weight=d),h}},15133,(e,t,n)=>{var r=e.r(11994),a=e.r(91609),o=e.r(38867),i=e.r(25571);t.exports=function e(t,n,s,l){var u,c,d=t.children(n),f=t.node(n),h=f?f.borderLeft:void 0,p=f?f.borderRight:void 0,m={};h&&(d=r.filter(d,function(e){return e!==h&&e!==p}));var g=a(t,d);r.forEach(g,function(n){if(t.children(n.v).length){var a,o,i=e(t,n.v,s,l);m[n.v]=i,r.has(i,"barycenter")&&(a=n,o=i,r.isUndefined(a.barycenter)?(a.barycenter=o.barycenter,a.weight=o.weight):(a.barycenter=(a.barycenter*a.weight+o.barycenter*o.weight)/(a.weight+o.weight),a.weight+=o.weight))}});var y=o(g,s);u=y,c=m,r.forEach(u,function(e){e.vs=r.flatten(e.vs.map(function(e){return c[e]?c[e].vs:e}),!0)});var v=i(y,l);if(h&&(v.vs=r.flatten([h,v.vs,p],!0),t.predecessors(h).length)){var x=t.node(t.predecessors(h)[0]),b=t.node(t.predecessors(p)[0]);r.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+x.order+b.order)/(v.weight+2),v.weight+=2}return v}},81686,(e,t,n)=>{var r=e.r(11994),a=e.r(40576).Graph;t.exports=function(e,t,n){var o=function(e){for(var t;e.hasNode(t=r.uniqueId("_root")););return t}(e),i=new a({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(t){return e.node(t)});return r.forEach(e.nodes(),function(a){var s=e.node(a),l=e.parent(a);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(a),i.setParent(a,l||o),r.forEach(e[n](a),function(t){var n=t.v===a?t.w:t.v,o=i.edge(n,a),s=r.isUndefined(o)?0:o.weight;i.setEdge(n,a,{weight:e.edge(t).weight+s})}),r.has(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}},47404,(e,t,n)=>{var r=e.r(11994);t.exports=function(e,t,n){var a,o={};r.forEach(n,function(n){for(var r,i,s=e.parent(n);s;){if((r=e.parent(s))?(i=o[r],o[r]=s):(i=a,a=s),i&&i!==s)return void t.setEdge(i,s);s=r}})}},94432,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(92064),o=e.r(45729),i=e.r(15133),s=e.r(81686),l=e.r(47404),u=e.r(40576).Graph,c=e.r(80897);function d(e,t,n){return r.map(t,function(t){return s(e,t,n)})}function f(e,t){r.forEach(t,function(t){r.forEach(t,function(t,n){e.node(t).order=n})})}t.exports=function(e){var t=c.maxRank(e),n=d(e,r.range(1,t+1),"inEdges"),s=d(e,r.range(t-1,-1,-1),"outEdges"),h=a(e);f(e,h);for(var p,m=1/0,g=0,y=0;y<4;++g,++y){(function(e,t){var n=new u;r.forEach(e,function(e){var a=e.graph().root,o=i(e,a,n,t);r.forEach(o.vs,function(t,n){e.node(t).order=n}),l(e,n,o.vs)})})(g%2?n:s,g%4>=2),h=c.buildLayerMatrix(e);var v=o(e,h);v<m&&(y=0,p=r.cloneDeep(h),m=v)}f(e,p)}},69298,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(40576).Graph,o=e.r(80897);function i(e,t){var n={};return r.reduce(t,function(t,a){var o=0,i=0,s=t.length,u=r.last(a);return r.forEach(a,function(t,c){var d=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),f=d?e.node(d).order:s;(d||t===u)&&(r.forEach(a.slice(i,c+1),function(t){r.forEach(e.predecessors(t),function(r){var a=e.node(r),i=a.order;(i<o||f<i)&&!(a.dummy&&e.node(t).dummy)&&l(n,r,t)})}),i=c+1,o=f)}),a}),n}function s(e,t){var n={};function a(t,a,o,i,s){var u;r.forEach(r.range(a,o),function(a){u=t[a],e.node(u).dummy&&r.forEach(e.predecessors(u),function(t){var r=e.node(t);r.dummy&&(r.order<i||r.order>s)&&l(n,t,u)})})}return r.reduce(t,function(t,n){var o,i=-1,s=0;return r.forEach(n,function(r,l){if("border"===e.node(r).dummy){var u=e.predecessors(r);u.length&&(o=e.node(u[0]).order,a(n,s,l,i,o),s=l,i=o)}a(n,s,n.length,o,t.length)}),n}),n}function l(e,t,n){if(t>n){var r=t;t=n,n=r}var a=e[t];a||(e[t]=a={}),a[n]=!0}function u(e,t,n){if(t>n){var a=t;t=n,n=a}return r.has(e[t],n)}function c(e,t,n,a){var o={},i={},s={};return r.forEach(t,function(e){r.forEach(e,function(e,t){o[e]=e,i[e]=e,s[e]=t})}),r.forEach(t,function(e){var t=-1;r.forEach(e,function(e){var l=a(e);if(l.length)for(var c=((l=r.sortBy(l,function(e){return s[e]})).length-1)/2,d=Math.floor(c),f=Math.ceil(c);d<=f;++d){var h=l[d];i[e]===e&&t<s[h]&&!u(n,e,h)&&(i[h]=e,i[e]=o[e]=o[h],t=s[h])}})}),{root:o,align:i}}function d(e,t,n,o,i){var s,l,u,c,d,f,h,p,m,g,y={},v=(s=e,l=t,u=n,c=i,p=new a,g=(d=(m=s.graph()).nodesep,f=m.edgesep,h=c,function(e,t,n){var a,o,i=e.node(t),s=e.node(n);if(a=0+i.width/2,r.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":o=-i.width/2;break;case"r":o=i.width/2}if(o&&(a+=h?o:-o),o=0,a+=(i.dummy?f:d)/2,a+=(s.dummy?f:d)/2,a+=s.width/2,r.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":o=s.width/2;break;case"r":o=-s.width/2}return o&&(a+=h?o:-o),o=0,a}),r.forEach(l,function(e){var t;r.forEach(e,function(e){var n=u[e];if(p.setNode(n),t){var r=u[t],a=p.edge(r,n);p.setEdge(r,n,Math.max(g(s,e,t),a||0))}t=e})}),p),x=i?"borderLeft":"borderRight";function b(e,t){for(var n=v.nodes(),r=n.pop(),a={};r;)a[r]?e(r):(a[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return b(function(e){y[e]=v.inEdges(e).reduce(function(e,t){return Math.max(e,y[t.v]+v.edge(t))},0)},v.predecessors.bind(v)),b(function(t){var n=v.outEdges(t).reduce(function(e,t){return Math.min(e,y[t.w]-v.edge(t))},1/0),r=e.node(t);n!==1/0&&r.borderType!==x&&(y[t]=Math.max(y[t],n))},v.successors.bind(v)),r.forEach(o,function(e){y[e]=y[n[e]]}),y}function f(e,t){return r.minBy(r.values(t),function(t){var n=-1/0,a=1/0;return r.forIn(t,function(t,r){var o,i,s=(o=e,i=r,o.node(i).width/2);n=Math.max(t+s,n),a=Math.min(t-s,a)}),n-a})}function h(e,t){var n=r.values(t),a=r.min(n),o=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(i){var s,l=n+i,u=e[l];if(u!==t){var c=r.values(u);(s="l"===i?a-r.min(c):o-r.max(c))&&(e[l]=r.mapValues(u,function(e){return e+s}))}})})}function p(e,t){return r.mapValues(e.ul,function(n,a){if(t)return e[t.toLowerCase()][a];var o=r.sortBy(r.map(e,a));return(o[1]+o[2])/2})}t.exports={positionX:function(e){var t,n=o.buildLayerMatrix(e),a=r.merge(i(e,n),s(e,n)),l={};r.forEach(["u","d"],function(o){t="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(t=r.map(t,function(e){return r.values(e).reverse()}));var i=("u"===o?e.predecessors:e.successors).bind(e),s=c(e,t,a,i),u=d(e,t,s.root,s.align,"r"===n);"r"===n&&(u=r.mapValues(u,function(e){return-e})),l[o+n]=u})});var u=f(e,l);return h(l,u),p(l,e.graph().align)},findType1Conflicts:i,findType2Conflicts:s,addConflict:l,hasConflict:u,verticalAlignment:c,horizontalCompaction:d,alignCoordinates:h,findSmallestWidthAlignment:f,balance:p}},66162,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(80897),o=e.r(69298).positionX;t.exports=function(e){var t,n,i,s;t=e=a.asNonCompoundGraph(e),n=a.buildLayerMatrix(t),i=t.graph().ranksep,s=0,r.forEach(n,function(e){var n=r.max(r.map(e,function(e){return t.node(e).height}));r.forEach(e,function(e){t.node(e).y=s+n/2}),s+=n+i}),r.forEach(o(e),function(t,n){e.node(n).x=t})}},77040,(e,t,n)=>{"use strict";var r=e.r(11994),a=e.r(28155),o=e.r(21810),i=e.r(60106),s=e.r(80897).normalizeRanks,l=e.r(31662),u=e.r(80897).removeEmptyRanks,c=e.r(40786),d=e.r(8889),f=e.r(75175),h=e.r(94432),p=e.r(66162),m=e.r(80897),g=e.r(40576).Graph;t.exports=function(e,t){var n=t&&t.debugTiming?m.time:m.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){var t,n,a;return t=e,n=new g({multigraph:!0,compound:!0}),a=k(t.graph()),n.setGraph(r.merge({},v,S(a,y),r.pick(a,x))),r.forEach(t.nodes(),function(e){var a=k(t.node(e));n.setNode(e,r.defaults(S(a,b),w)),n.setParent(e,t.parent(e))}),r.forEach(t.edges(),function(e){var a=k(t.edge(e));n.setEdge(e,r.merge({},E,S(a,j),r.pick(a,N)))}),n});n("  runLayout",function(){var e,g;e=t,(g=n)("    makeSpaceForEdgeLabels",function(){var t,n;n=(t=e).graph(),n.ranksep/=2,r.forEach(t.edges(),function(e){var r=t.edge(e);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}),g("    removeSelfEdges",function(){var t;t=e,r.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}),g("    acyclic",function(){a.run(e)}),g("    nestingGraph.run",function(){c.run(e)}),g("    rank",function(){i(m.asNonCompoundGraph(e))}),g("    injectEdgeLabelProxies",function(){var t;t=e,r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),a={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};m.addDummyNode(t,"edge-proxy",a,"_ep")}})}),g("    removeEmptyRanks",function(){u(e)}),g("    nestingGraph.cleanup",function(){c.cleanup(e)}),g("    normalizeRanks",function(){s(e)}),g("    assignRankMinMax",function(){var t,n;t=e,n=0,r.forEach(t.nodes(),function(e){var a=t.node(e);a.borderTop&&(a.minRank=t.node(a.borderTop).rank,a.maxRank=t.node(a.borderBottom).rank,n=r.max(n,a.maxRank))}),t.graph().maxRank=n}),g("    removeEdgeLabelProxies",function(){var t;t=e,r.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}),g("    normalize.run",function(){o.run(e)}),g("    parentDummyChains",function(){l(e)}),g("    addBorderSegments",function(){d(e)}),g("    order",function(){h(e)}),g("    insertSelfEdges",function(){var t,n;t=e,n=m.buildLayerMatrix(t),r.forEach(n,function(e){var n=0;r.forEach(e,function(e,a){var o=t.node(e);o.order=a+n,r.forEach(o.selfEdges,function(e){m.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:a+ ++n,e:e.e,label:e.label},"_se")}),delete o.selfEdges})})}),g("    adjustCoordinateSystem",function(){f.adjust(e)}),g("    position",function(){p(e)}),g("    positionSelfEdges",function(){var t;t=e,r.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),a=r.x+r.width/2,o=r.y,i=n.x-a,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:a+2*i/3,y:o-s},{x:a+5*i/6,y:o-s},{x:a+i,y:o},{x:a+5*i/6,y:o+s},{x:a+2*i/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}),g("    removeBorderNodes",function(){var t;t=e,r.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),a=t.node(n.borderTop),o=t.node(n.borderBottom),i=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-i.x),n.height=Math.abs(o.y-a.y),n.x=i.x+n.width/2,n.y=a.y+n.height/2}}),r.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}),g("    normalize.undo",function(){o.undo(e)}),g("    fixupEdgeLabelCoords",function(){var t;t=e,r.forEach(t.edges(),function(e){var n=t.edge(e);if(r.has(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}),g("    undoCoordinateSystem",function(){f.undo(e)}),g("    translateGraph",function(){!function(e){var t=1/0,n=0,a=1/0,o=0,i=e.graph(),s=i.marginx||0,l=i.marginy||0;function u(e){var r=e.x,i=e.y,s=e.width,l=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),a=Math.min(a,i-l/2),o=Math.max(o,i+l/2)}r.forEach(e.nodes(),function(t){u(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.has(n,"x")&&u(n)}),t-=s,a-=l,r.forEach(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=a}),r.forEach(e.edges(),function(n){var o=e.edge(n);r.forEach(o.points,function(e){e.x-=t,e.y-=a}),r.has(o,"x")&&(o.x-=t),r.has(o,"y")&&(o.y-=a)}),i.width=n-t+s,i.height=o-a+l}(e)}),g("    assignNodeIntersects",function(){var t;t=e,r.forEach(t.edges(),function(e){var n,r,a=t.edge(e),o=t.node(e.v),i=t.node(e.w);a.points?(n=a.points[0],r=a.points[a.points.length-1]):(a.points=[],n=i,r=o),a.points.unshift(m.intersectRect(o,n)),a.points.push(m.intersectRect(i,r))})}),g("    reversePoints",function(){var t;t=e,r.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}),g("    acyclic.undo",function(){a.undo(e)})}),n("  updateInputGraph",function(){var n,a;n=e,a=t,r.forEach(n.nodes(),function(e){var t=n.node(e),r=a.node(e);t&&(t.x=r.x,t.y=r.y,a.children(e).length&&(t.width=r.width,t.height=r.height))}),r.forEach(n.edges(),function(e){var t=n.edge(e),o=a.edge(e);t.points=o.points,r.has(o,"x")&&(t.x=o.x,t.y=o.y)}),n.graph().width=a.graph().width,n.graph().height=a.graph().height})})};var y=["nodesep","edgesep","ranksep","marginx","marginy"],v={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],b=["width","height"],w={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},N=["labelpos"];function S(e,t){return r.mapValues(r.pick(e,t),Number)}function k(e){var t={};return r.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}},15400,(e,t,n)=>{var r=e.r(11994),a=e.r(80897),o=e.r(40576).Graph;t.exports={debugOrdering:function(e){var t=a.buildLayerMatrix(e),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),r.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),r.forEach(t,function(e,t){n.setNode("layer"+t,{rank:"same"}),r.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}}},51581,(e,t,n)=>{t.exports="0.8.5"},39669,(e,t,n)=>{t.exports={graphlib:e.r(40576),layout:e.r(77040),debug:e.r(15400),util:{time:e.r(80897).time,notime:e.r(80897).notime},version:e.r(51581)}},47527,e=>{"use strict";e.s(["default",()=>sX],47527);var t,n,r,a,o,i,s,l,u=e.i(43476),c=e.i(71645),d=e.i(47167);function f(e,t){return function(){return e.apply(t,arguments)}}let{toString:h}=Object.prototype,{getPrototypeOf:p}=Object,{iterator:m,toStringTag:g}=Symbol,y=(e=>t=>{let n=h.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),v=e=>(e=e.toLowerCase(),t=>y(t)===e),x=e=>t=>typeof t===e,{isArray:b}=Array,w=x("undefined");function j(e){return null!==e&&!w(e)&&null!==e.constructor&&!w(e.constructor)&&S(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}let E=v("ArrayBuffer"),N=x("string"),S=x("function"),k=x("number"),_=e=>null!==e&&"object"==typeof e,A=e=>{if("object"!==y(e))return!1;let t=p(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(g in e)&&!(m in e)},C=v("Date"),M=v("File"),O=v("Blob"),T=v("FileList"),R=v("URLSearchParams"),[P,I,B,D]=["ReadableStream","Request","Response","Headers"].map(v);function L(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e)if("object"!=typeof e&&(e=[e]),b(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{let r;if(j(e))return;let o=a?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;for(n=0;n<i;n++)r=o[n],t.call(null,e[r],r,e)}}function z(e,t){let n;if(j(e))return null;t=t.toLowerCase();let r=Object.keys(e),a=r.length;for(;a-- >0;)if(t===(n=r[a]).toLowerCase())return n;return null}let F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,U=e=>!w(e)&&e!==F,H=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&p(Uint8Array)),K=v("HTMLFormElement"),G=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),J=v("RegExp"),V=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};L(n,(n,a)=>{let o;!1!==(o=t(n,a,e))&&(r[a]=o||n)}),Object.defineProperties(e,r)},q=v("AsyncFunction"),Y=(nj="function"==typeof setImmediate,nE=S(F.postMessage),nj?setImmediate:nE?((e,t)=>(F.addEventListener("message",n=>{let{source:r,data:a}=n;r===F&&a===e&&t.length&&t.shift()()},!1),n=>{t.push(n),F.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e)),X="undefined"!=typeof queueMicrotask?queueMicrotask.bind(F):void 0!==d.default&&d.default.nextTick||Y,W={isArray:b,isArrayBuffer:E,isBuffer:j,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||S(e.append)&&("formdata"===(t=y(e))||"object"===t&&S(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&E(e.buffer)},isString:N,isNumber:k,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:A,isEmptyObject:e=>{if(!_(e)||j(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:P,isRequest:I,isResponse:B,isHeaders:D,isUndefined:w,isDate:C,isFile:M,isBlob:O,isRegExp:J,isFunction:S,isStream:e=>_(e)&&S(e.pipe),isURLSearchParams:R,isTypedArray:H,isFileList:T,forEach:L,merge:function e(){let{caseless:t,skipUndefined:n}=U(this)&&this||{},r={},a=(a,o)=>{let i=t&&z(r,o)||o;A(r[i])&&A(a)?r[i]=e(r[i],a):A(a)?r[i]=e({},a):b(a)?r[i]=a.slice():n&&w(a)||(r[i]=a)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&L(arguments[e],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return L(t,(t,r)=>{n&&S(t)?e[r]=f(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,o,i,s={};if(t=t||{},null==e)return t;do{for(o=(a=Object.getOwnPropertyNames(e)).length;o-- >0;)i=a[o],(!r||r(i,e,t))&&!s[i]&&(t[i]=e[i],s[i]=!0);e=!1!==n&&p(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype)return t},kindOf:y,kindOfTest:v,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return -1!==r&&r===n},toArray:e=>{if(!e)return null;if(b(e))return e;let t=e.length;if(!k(t))return null;let n=Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{let n,r=(e&&e[m]).call(e);for(;(n=r.next())&&!n.done;){let r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let n,r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:K,hasOwnProperty:G,hasOwnProp:G,reduceDescriptors:V,freezeMethods:e=>{V(e,(t,n)=>{if(S(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;if(S(e[n])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{let n={};return(b(e)?e:String(e).split(t)).forEach(e=>{n[e]=!0}),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e*=1)?e:t,findKey:z,global:F,isContextDefined:U,isSpecCompliantForm:function(e){return!!(e&&S(e.append)&&"FormData"===e[g]&&e[m])},toJSONObject:e=>{let t=Array(10),n=(e,r)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(j(e))return e;if(!("toJSON"in e)){t[r]=e;let a=b(e)?[]:{};return L(e,(e,t)=>{let o=n(e,r+1);w(o)||(a[t]=o)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:q,isThenable:e=>e&&(_(e)||S(e))&&S(e.then)&&S(e.catch),setImmediate:Y,asap:X,isIterable:e=>null!=e&&S(e[m])};var Z=e.i(67034);function $(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});let Q=$.prototype,ee={};function et(e){return W.isPlainObject(e)||W.isArray(e)}function en(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function er(e,t,n){return e?e.concat(t).map(function(e,t){return e=en(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ee[e]={value:e}}),Object.defineProperties($,ee),Object.defineProperty(Q,"isAxiosError",{value:!0}),$.from=(e,t,n,r,a,o)=>{let i=Object.create(Q);W.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);let s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return $.call(i,s,l,n,r,a),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};let ea=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)}),eo=function(e,t,n){if(!W.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let r=(n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!W.isUndefined(t[e])})).metaTokens,a=n.visitor||u,o=n.dots,i=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(W.isBoolean(e))return e.toString();if(!s&&W.isBlob(e))throw new $("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Z.Buffer.from(e):e}function u(e,n,a){let s=e;if(e&&!a&&"object"==typeof e)if(W.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else{var u;if(W.isArray(e)&&(u=e,W.isArray(u)&&!u.some(et))||(W.isFileList(e)||W.endsWith(n,"[]"))&&(s=W.toArray(e)))return n=en(n),s.forEach(function(e,r){W.isUndefined(e)||null===e||t.append(!0===i?er([n],r,o):null===i?n:n+"[]",l(e))}),!1}return!!et(e)||(t.append(er(a,n,o),l(e)),!1)}let c=[],d=Object.assign(ea,{defaultVisitor:u,convertValue:l,isVisitable:et});if(!W.isObject(e))throw TypeError("data must be an object");return!function e(n,r){if(!W.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),W.forEach(n,function(n,o){!0===(!(W.isUndefined(n)||null===n)&&a.call(t,n,W.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])}),c.pop()}}(e),t};function ei(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function es(e,t){this._pairs=[],e&&eo(e,this,t)}let el=es.prototype;function eu(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ec(e,t,n){let r;if(!t)return e;let a=n&&n.encode||eu;W.isFunction(n)&&(n={serialize:n});let o=n&&n.serialize;if(r=o?o(t,n):W.isURLSearchParams(t)?t.toString():new es(t,n).toString(a)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}el.append=function(e,t){this._pairs.push([e,t])},el.toString=function(e){let t=e?function(t){return e.call(this,t,ei)}:ei;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};let ed=class{use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(t){null!==t&&e(t)})}constructor(){this.handlers=[]}},ef={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eh="undefined"!=typeof URLSearchParams?URLSearchParams:es,ep="undefined"!=typeof FormData?FormData:null,em="undefined"!=typeof Blob?Blob:null;e.s(["hasBrowserEnv",()=>eg,"hasStandardBrowserEnv",()=>ev,"hasStandardBrowserWebWorkerEnv",()=>ex,"navigator",()=>ey,"origin",()=>eb],57536);let eg="undefined"!=typeof window&&"undefined"!=typeof document,ey="object"==typeof navigator&&navigator||void 0,ev=eg&&(!ey||0>["ReactNative","NativeScript","NS"].indexOf(ey.product)),ex="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,eb=eg&&window.location.href||"http://localhost",ew={...e.i(57536),isBrowser:!0,classes:{URLSearchParams:eh,FormData:ep,Blob:em},protocols:["http","https","file","blob","url","data"]},ej=function(e){if(W.isFormData(e)&&W.isFunction(e.entries)){let t={};return W.forEachEntry(e,(e,n)=>{!function e(t,n,r,a){let o=t[a++];if("__proto__"===o)return!0;let i=Number.isFinite(+o),s=a>=t.length;return(o=!o&&W.isArray(r)?r.length:o,s)?W.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n:(r[o]&&W.isObject(r[o])||(r[o]=[]),e(t,n,r[o],a)&&W.isArray(r[o])&&(r[o]=function(e){let t,n,r={},a=Object.keys(e),o=a.length;for(t=0;t<o;t++)r[n=a[t]]=e[n];return r}(r[o]))),!i}(W.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null},eE={transitional:ef,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let n,r=t.getContentType()||"",a=r.indexOf("application/json")>-1,o=W.isObject(e);if(o&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return a?JSON.stringify(ej(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1){var i,s;return(i=e,s=this.formSerializer,eo(i,new ew.classes.URLSearchParams,{visitor:function(e,t,n,r){return ew.isNode&&W.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...s})).toString()}if((n=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return eo(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(o||a){t.setContentType("application/json",!1);var l=e;if(W.isString(l))try{return(0,JSON.parse)(l),W.trim(l)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(l)}return e}],transformResponse:[function(e){let t=this.transitional||eE.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(n&&!this.responseType||r)){let n=t&&t.silentJSONParsing;try{return JSON.parse(e,this.parseReviver)}catch(e){if(!n&&r){if("SyntaxError"===e.name)throw $.from(e,$.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ew.classes.FormData,Blob:ew.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{eE.headers[e]={}});let eN=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eS=Symbol("internals");function ek(e){return e&&String(e).trim().toLowerCase()}function e_(e){return!1===e||null==e?e:W.isArray(e)?e.map(e_):String(e)}function eA(e,t,n,r,a){if(W.isFunction(r))return r.call(this,t,n);if(a&&(t=n),W.isString(t)){if(W.isString(r))return -1!==t.indexOf(r);if(W.isRegExp(r))return r.test(t)}}class eC{set(e,t,n){let r=this;function a(e,t,n){let a=ek(t);if(!a)throw Error("header name must be a non-empty string");let o=W.findKey(r,a);o&&void 0!==r[o]&&!0!==n&&(void 0!==n||!1===r[o])||(r[o||t]=e_(e))}let o=(e,t)=>W.forEach(e,(e,n)=>a(e,n,t));if(W.isPlainObject(e)||e instanceof this.constructor)o(e,t);else{let r;if(W.isString(e)&&(e=e.trim())&&(r=e,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim())))o((e=>{let t,n,r,a={};return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||a[t]&&eN[t]||("set-cookie"===t?a[t]?a[t].push(n):a[t]=[n]:a[t]=a[t]?a[t]+", "+n:n)}),a})(e),t);else if(W.isObject(e)&&W.isIterable(e)){let n={},r,a;for(let t of e){if(!W.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[a=t[0]]=(r=n[a])?W.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}o(n,t)}else null!=e&&a(t,e,n)}return this}get(e,t){if(e=ek(e)){let n=W.findKey(this,e);if(n){let e=this[n];if(!t)return e;if(!0===t){let t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=r.exec(e);)n[t[1]]=t[2];return n}if(W.isFunction(t))return t.call(this,e,n);if(W.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ek(e)){let n=W.findKey(this,e);return!!(n&&void 0!==this[n]&&(!t||eA(this,this[n],n,t)))}return!1}delete(e,t){let n=this,r=!1;function a(e){if(e=ek(e)){let a=W.findKey(n,e);a&&(!t||eA(n,n[a],a,t))&&(delete n[a],r=!0)}}return W.isArray(e)?e.forEach(a):a(e),r}clear(e){let t=Object.keys(this),n=t.length,r=!1;for(;n--;){let a=t[n];(!e||eA(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){let t=this,n={};return W.forEach(this,(r,a)=>{let o=W.findKey(n,a);if(o){t[o]=e_(r),delete t[a];return}let i=e?a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(a).trim();i!==a&&delete t[a],t[i]=e_(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){let t=Object.create(null);return W.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&W.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let a=new this(e);return n.forEach(e=>a.set(e)),a}static accessor(e){let t=(this[eS]=this[eS]={accessors:{}}).accessors,n=this.prototype;function r(e){let r=ek(e);if(!t[r]){let a=W.toCamelCase(" "+e);["get","set","has"].forEach(t=>{Object.defineProperty(n,t+a,{value:function(n,r,a){return this[t].call(this,e,n,r,a)},configurable:!0})}),t[r]=!0}}return W.isArray(e)?e.forEach(r):r(e),this}constructor(e){e&&this.set(e)}}function eM(e,t){let n=this||eE,r=t||n,a=eC.from(r.headers),o=r.data;return W.forEach(e,function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function eO(e){return!!(e&&e.__CANCEL__)}function eT(e,t,n){$.call(this,null==e?"canceled":e,$.ERR_CANCELED,t,n),this.name="CanceledError"}function eR(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new $("Request failed with status code "+n.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}eC.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.reduceDescriptors(eC.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),W.freezeMethods(eC),W.inherits(eT,$,{__CANCEL__:!0});let eP=function(e,t){let n,r=Array(e=e||10),a=Array(e),o=0,i=0;return t=void 0!==t?t:1e3,function(s){let l=Date.now(),u=a[i];n||(n=l),r[o]=s,a[o]=l;let c=i,d=0;for(;c!==o;)d+=r[c++],c%=e;if((o=(o+1)%e)===i&&(i=(i+1)%e),l-n<t)return;let f=u&&l-u;return f?Math.round(1e3*d/f):void 0}},eI=function(e,t){let n,r,a=0,o=1e3/t,i=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=o,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let l=Date.now(),u=l-a;u>=o?i(t,l):(n=t,r||(r=setTimeout(()=>{r=null,i(n)},o-u)))},()=>n&&i(n)]},eB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0,a=eP(50,250);return eI(n=>{let o=n.loaded,i=n.lengthComputable?n.total:void 0,s=o-r,l=a(s);r=o,e({loaded:o,total:i,progress:i?o/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&o<=i?(i-o)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},eD=(e,t)=>{let n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},eL=e=>function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return W.asap(()=>e(...n))},ez=ew.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ew.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ew.origin),ew.navigator&&/(msie|trident)/i.test(ew.navigator.userAgent)):()=>!0,eF=ew.hasStandardBrowserEnv?{write(e,t,n,r,a,o){let i=[e+"="+encodeURIComponent(t)];W.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),W.isString(r)&&i.push("path="+r),W.isString(a)&&i.push("domain="+a),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function eU(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||!1==n)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let eH=e=>e instanceof eC?{...e}:e;function eK(e,t){t=t||{};let n={};function r(e,t,n,r){return W.isPlainObject(e)&&W.isPlainObject(t)?W.merge.call({caseless:r},e,t):W.isPlainObject(t)?W.merge({},t):W.isArray(t)?t.slice():t}function a(e,t,n,a){return W.isUndefined(t)?W.isUndefined(e)?void 0:r(void 0,e,n,a):r(e,t,n,a)}function o(e,t){if(!W.isUndefined(t))return r(void 0,t)}function i(e,t){return W.isUndefined(t)?W.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,a,o){return o in t?r(n,a):o in e?r(void 0,n):void 0}let l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,n)=>a(eH(e),eH(t),n,!0)};return W.forEach(Object.keys({...e,...t}),function(r){let o=l[r]||a,i=o(e[r],t[r],r);W.isUndefined(i)&&o!==s||(n[r]=i)}),n}let eG=e=>{let t=eK({},e),{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:s}=t;if(t.headers=i=eC.from(i),t.url=ec(eU(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),W.isFormData(n)){if(ew.hasStandardBrowserEnv||ew.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(W.isFunction(n.getHeaders)){let e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}}if(ew.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(t)),r||!1!==r&&ez(t.url))){let e=a&&o&&eF.read(o);e&&i.set(a,e)}return t},eJ="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){let r,a,o,i,s,l=eG(e),u=l.data,c=eC.from(l.headers).normalize(),{responseType:d,onUploadProgress:f,onDownloadProgress:h}=l;function p(){i&&i(),s&&s(),l.cancelToken&&l.cancelToken.unsubscribe(r),l.signal&&l.signal.removeEventListener("abort",r)}let m=new XMLHttpRequest;function g(){if(!m)return;let r=eC.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());eR(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(l.method.toUpperCase(),l.url,!0),m.timeout=l.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new $("Request aborted",$.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){let r=new $(t&&t.message?t.message:"Network Error",$.ERR_NETWORK,e,m);r.event=t||null,n(r),m=null},m.ontimeout=function(){let t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",r=l.transitional||ef;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),n(new $(t,r.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,m)),m=null},void 0===u&&c.setContentType(null),"setRequestHeader"in m&&W.forEach(c.toJSON(),function(e,t){m.setRequestHeader(t,e)}),W.isUndefined(l.withCredentials)||(m.withCredentials=!!l.withCredentials),d&&"json"!==d&&(m.responseType=l.responseType),h&&([o,s]=eB(h,!0),m.addEventListener("progress",o)),f&&m.upload&&([a,i]=eB(f),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",i)),(l.cancelToken||l.signal)&&(r=t=>{m&&(n(!t||t.type?new eT(null,e,m):t),m.abort(),m=null)},l.cancelToken&&l.cancelToken.subscribe(r),l.signal&&(l.signal.aborted?r():l.signal.addEventListener("abort",r)));let y=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(l.url);if(y&&-1===ew.protocols.indexOf(y))return void n(new $("Unsupported protocol "+y+":",$.ERR_BAD_REQUEST,e));m.send(u||null)})},eV=function*(e,t){let n,r=e.byteLength;if(!t||r<t)return void(yield e);let a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},eq=async function*(e,t){for await(let n of eY(e))yield*eV(n,t)},eY=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);let t=e.getReader();try{for(;;){let{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},eX=(e,t,n,r)=>{let a,o=eq(e,t),i=0,s=e=>{!a&&(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{let{done:t,value:r}=await o.next();if(t){s(),e.close();return}let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},{isFunction:eW}=W,eZ=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(W.global),{ReadableStream:e$,TextEncoder:eQ}=W.global,e0=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];try{return!!e(...n)}catch(e){return!1}},e1=e=>{let t,{fetch:n,Request:r,Response:a}=e=W.merge.call({skipUndefined:!0},eZ,e),o=n?eW(n):"function"==typeof fetch,i=eW(r),s=eW(a);if(!o)return!1;let l=o&&eW(e$),u=o&&("function"==typeof eQ?(t=new eQ,e=>t.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer())),c=i&&l&&e0(()=>{let e=!1,t=new r(ew.origin,{body:new e$,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=s&&l&&e0(()=>W.isReadableStream(new a("").body)),f={stream:d&&(e=>e.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{f[e]||(f[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new $("Response type '".concat(e,"' is not supported"),$.ERR_NOT_SUPPORT,n)})});let h=async e=>{if(null==e)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e)){let t=new r(ew.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return W.isArrayBufferView(e)||W.isArrayBuffer(e)?e.byteLength:(W.isURLSearchParams(e)&&(e+=""),W.isString(e))?(await u(e)).byteLength:void 0},p=async(e,t)=>{let n=W.toFiniteNumber(e.getContentLength());return null==n?h(t):n};return async e=>{let t,{url:o,method:s,data:l,signal:u,cancelToken:h,timeout:m,onDownloadProgress:g,onUploadProgress:y,responseType:v,headers:x,withCredentials:b="same-origin",fetchOptions:w}=eG(e),j=n||fetch;v=v?(v+"").toLowerCase():"text";let E=((e,t)=>{let{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController,a=function(e){if(!n){n=!0,i();let t=e instanceof Error?e:this.reason;r.abort(t instanceof $?t:new eT(t instanceof Error?t.message:t))}},o=t&&setTimeout(()=>{o=null,a(new $("timeout ".concat(t," of ms exceeded"),$.ETIMEDOUT))},t),i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));let{signal:s}=r;return s.unsubscribe=()=>W.asap(i),s}})([u,h&&h.toAbortSignal()],m),N=null,S=E&&E.unsubscribe&&(()=>{E.unsubscribe()});try{if(y&&c&&"get"!==s&&"head"!==s&&0!==(t=await p(x,l))){let e,n=new r(o,{method:"POST",body:l,duplex:"half"});if(W.isFormData(l)&&(e=n.headers.get("content-type"))&&x.setContentType(e),n.body){let[e,r]=eD(t,eB(eL(y)));l=eX(n.body,65536,e,r)}}W.isString(b)||(b=b?"include":"omit");let n=i&&"credentials"in r.prototype,u={...w,signal:E,method:s.toUpperCase(),headers:x.normalize().toJSON(),body:l,duplex:"half",credentials:n?b:void 0};N=i&&new r(o,u);let h=await (i?j(N,w):j(o,u)),m=d&&("stream"===v||"response"===v);if(d&&(g||m&&S)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=h[t]});let t=W.toFiniteNumber(h.headers.get("content-length")),[n,r]=g&&eD(t,eB(eL(g),!0))||[];h=new a(eX(h.body,65536,n,()=>{r&&r(),S&&S()}),e)}v=v||"text";let k=await f[W.findKey(f,v)||"text"](h,e);return!m&&S&&S(),await new Promise((t,n)=>{eR(t,n,{data:k,headers:eC.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:N})})}catch(t){if(S&&S(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new $("Network Error",$.ERR_NETWORK,e,N),{cause:t.cause||t});throw $.from(t,t&&t.code,e,N)}}},e2=new Map,e3=e=>{let t=e?e.env:{},{fetch:n,Request:r,Response:a}=t,o=[r,a,n],i=o.length,s,l,u=e2;for(;i--;)s=o[i],void 0===(l=u.get(s))&&u.set(s,l=i?new Map:e1(t)),u=l;return l};e3();let e5={http:null,xhr:eJ,fetch:{get:e3}};W.forEach(e5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let e4=e=>"- ".concat(e),e6=e=>W.isFunction(e)||null===e||!1===e,e8={getAdapter:(e,t)=>{let n,r,{length:a}=e=W.isArray(e)?e:[e],o={};for(let i=0;i<a;i++){let a;if(r=n=e[i],!e6(n)&&void 0===(r=e5[(a=String(n)).toLowerCase()]))throw new $("Unknown adapter '".concat(a,"'"));if(r&&(W.isFunction(r)||(r=r.get(t))))break;o[a||"#"+i]=r}if(!r){let e=Object.entries(o).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});throw new $("There is no suitable adapter to dispatch the request "+(a?e.length>1?"since :\n"+e.map(e4).join("\n"):" "+e4(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r}};function e7(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eT(null,e)}function e9(e){return e7(e),e.headers=eC.from(e.headers),e.data=eM.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),e8.getAdapter(e.adapter||eE.adapter,e)(e).then(function(t){return e7(e),t.data=eM.call(e,e.transformResponse,t),t.headers=eC.from(t.headers),t},function(t){return!eO(t)&&(e7(e),t&&t.response&&(t.response.data=eM.call(e,e.transformResponse,t.response),t.response.headers=eC.from(t.response.headers))),Promise.reject(t)})}let te="1.12.2",tt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});let tn={};tt.transitional=function(e,t,n){function r(e,t){return"[Axios v"+te+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,o)=>{if(!1===e)throw new $(r(a," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!tn[a]&&(tn[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},tt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};let tr={assertOptions:function(e,t,n){if("object"!=typeof e)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),a=r.length;for(;a-- >0;){let o=r[a],i=t[o];if(i){let t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new $("option "+o+" must be "+n,$.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new $("Unknown option "+o,$.ERR_BAD_OPTION)}},validators:tt},ta=tr.validators;class to{async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=Error();let n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){let n,r;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:a,paramsSerializer:o,headers:i}=t=eK(this.defaults,t);void 0!==a&&tr.assertOptions(a,{silentJSONParsing:ta.transitional(ta.boolean),forcedJSONParsing:ta.transitional(ta.boolean),clarifyTimeoutError:ta.transitional(ta.boolean)},!1),null!=o&&(W.isFunction(o)?t.paramsSerializer={serialize:o}:tr.assertOptions(o,{encode:ta.function,serialize:ta.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),tr.assertOptions(t,{baseUrl:ta.spelling("baseURL"),withXsrfToken:ta.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&W.merge(i.common,i[t.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=eC.concat(s,i);let l=[],u=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(u=u&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let c=[];this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)});let d=0;if(!u){let e=[e9.bind(this),void 0];for(e.unshift(...l),e.push(...c),r=e.length,n=Promise.resolve(t);d<r;)n=n.then(e[d++],e[d++]);return n}r=l.length;let f=t;for(;d<r;){let e=l[d++],t=l[d++];try{f=e(f)}catch(e){t.call(this,e);break}}try{n=e9.call(this,f)}catch(e){return Promise.reject(e)}for(d=0,r=c.length;d<r;)n=n.then(c[d++],c[d++]);return n}getUri(e){return ec(eU((e=eK(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}constructor(e){this.defaults=e||{},this.interceptors={request:new ed,response:new ed}}}W.forEach(["delete","get","head","options"],function(e){to.prototype[e]=function(t,n){return this.request(eK(n||{},{method:e,url:t,data:(n||{}).data}))}}),W.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(eK(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}to.prototype[e]=t(),to.prototype[e+"Form"]=t(!0)});class ti{throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason)return void e(this.reason);this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ti(function(t){e=t}),cancel:e}}constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t,r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new eT(e,r,a),t(n.reason))})}}let ts={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ts).forEach(e=>{let[t,n]=e;ts[n]=t});let tl=function e(t){let n=new to(t),r=f(to.prototype.request,n);return W.extend(r,to.prototype,n,{allOwnKeys:!0}),W.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(eK(t,n))},r}(eE);tl.Axios=to,tl.CanceledError=eT,tl.CancelToken=ti,tl.isCancel=eO,tl.VERSION=te,tl.toFormData=eo,tl.AxiosError=$,tl.Cancel=tl.CanceledError,tl.all=function(e){return Promise.all(e)},tl.spread=function(e){return function(t){return e.apply(null,t)}},tl.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},tl.mergeConfig=eK,tl.AxiosHeaders=eC,tl.formToJSON=e=>ej(W.isHTMLForm(e)?new FormData(e):e),tl.getAdapter=e8.getAdapter,tl.HttpStatusCode=ts,tl.default=tl;let tu="http://hrmsbe.logikasistembisnis.id",tc=async()=>(await tl.get("".concat(tu,"/company"))).data,td=async e=>(await tl.put("".concat(tu,"/company"),e,{headers:{"Content-Type":"application/json"}})).data,tf=async(e,t)=>(await tl.post("".concat(tu,"/company/").concat(e,"/details"),t,{headers:{"Content-Type":"multipart/form-data"}})).data,th=async e=>(await tl.put("".concat(tu,"/company/companydesign"),e,{headers:{"Content-Type":"application/json"}})).data,tp=async e=>(await tl.delete("".concat(tu,"/company/").concat(e))).data,tm=async()=>(await tl.get("".concat("http://hrmsbe.logikasistembisnis.id","/country"))).data,tg="http://hrmsbe.logikasistembisnis.id";async function ty(e){return(await tl.get("".concat(tg,"/tenant/").concat(e))).data}async function tv(e,t){return(await tl.put("".concat(tg,"/tenant/").concat(e),t)).data}function tx(e){var t;let{onNextStep:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[s,l]=(0,c.useState)([]),[d,f]=(0,c.useState)(null),[h,p]=(0,c.useState)(""),[m,g]=(0,c.useState)(!1),[y,v]=(0,c.useState)(!0),[x,b]=(0,c.useState)(null),[w,j]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{v(!0),b(null);try{var e,t,n;let r=await Promise.allSettled([tc(),tm(),ty(1)]),[o,s,u]=r,c=[];if("fulfilled"===o.status&&(null==(e=o.value)?void 0:e.data))c=(o.value.data||[]).sort((e,t)=>t.companyid-e.companyid);else{let e=localStorage.getItem("companiesFromAPI");c=e?JSON.parse(e):[]}a(c),localStorage.setItem("companiesFromAPI",JSON.stringify(c));let d=[];if("fulfilled"===s.status&&(null==(t=s.value)?void 0:t.data))d=s.value.data||[];else{let e=localStorage.getItem("countries");d=e?JSON.parse(e):[]}if(l(d),"fulfilled"===u.status&&(null==(n=u.value)?void 0:n.data)){let e=u.value.data;f(e),p(!0===e.holdingflag?"Ya":!1===e.holdingflag?"Tidak":"")}else f(null),p("");let h=localStorage.getItem("localCompanies");i(h?JSON.parse(h):[]),r.every(e=>"rejected"===e.status)&&b("Gagal memuat data perusahaan/tenant (semua request gagal).")}catch(e){console.error("Unexpected error saat fetchData:",e),b("Gagal memuat data perusahaan/tenant (kesalahan tidak terduga).")}finally{v(!1)}})()},[]);let E=async(e,t)=>{if(confirm("Apakah Anda yakin ingin menghapus perusahaan ini?"))try{if("api"===t){await tp(e);let t=r.filter(t=>t.companyid!==e);a(t),localStorage.setItem("companiesFromAPI",JSON.stringify(t))}else{let t=o.filter(t=>t.companyid!==e);i(t),localStorage.setItem("localCompanies",JSON.stringify(t))}}catch(e){alert(e instanceof Error?e.message:"Gagal menghapus perusahaan")}},N=(e,t,n)=>{let r=o.map(r=>r.companyid===e?"name"===t?{...r,name:n}:{...r,country:{name:n}}:r);i(r),localStorage.setItem("localCompanies",JSON.stringify(r))},S=(e,t,n)=>{let o=r.map(r=>r.companyid===e?"name"===t?{...r,name:n}:{...r,country:{name:n}}:r);a(o),localStorage.setItem("companiesFromAPI",JSON.stringify(o))},k=[...o,...r];if(y)return(0,u.jsx)("p",{className:"p-6",children:"Loading data perusahaan..."});if(x)return(0,u.jsx)("p",{className:"p-6 text-red-500",children:x});let _=async()=>{if(j([]),!(()=>{let e=[];if(0===k.length&&e.push("Anda harus menambahkan minimal satu perusahaan (PT)."),k.forEach((t,n)=>{var r;t.name&&""!==t.name.trim()||e.push("Nama perusahaan (PT) pada baris ".concat(n+1," wajib diisi.")),(null==(r=t.country)?void 0:r.name)&&""!==t.country.name.trim()||e.push("Negara perusahaan pada baris ".concat(n+1," wajib dipilih."))}),""===h&&e.push("Silakan pilih apakah perusahaan memiliki holding company (Ya/Tidak)."),"Ya"===h){let t=null==d?void 0:d.holdingcompanyid;(null==t||0===t)&&e.push("Anda memilih 'Ya' untuk holding  wajib pilih nama perusahaan holding.")}return j(e),0===e.length})())return void window.scrollTo({top:0,behavior:"smooth"});try{g(!0);let t=k.map(e=>{var t;let n=s.find(t=>{var n;return t.name===(null==(n=e.country)?void 0:n.name)});return{companyid:e.companyid>0?e.companyid:void 0,name:e.name,countryid:null!=(t=null==n?void 0:n.countryid)?t:null,tenantid:1}}),r=((await td(t)).results||[]).map(e=>e.data),o=null;if("Ya"===h){var e;let t=null!=(e=null==d?void 0:d.holdingcompanyid)?e:null;if(t)if(t>0)o=t;else{let e=k.find(e=>e.companyid===t);if(e){let t=r.find(t=>t.name.trim().toLowerCase()===e.name.trim().toLowerCase());if(t)o=t.companyid;else throw console.error("Gagal match ID. Data Lokal:",e.name,"Data Server Extracted:",r),Error("Gagal menyimpan holding: Perusahaan '".concat(e.name,"' tidak ditemukan di respon server."))}}}let l={holdingflag:"Ya"===h,holdingcompanyid:o};try{await tv(1,l)}catch(e){throw console.error("Gagal update tenant:",e),Error("Data perusahaan tersimpan, tetapi gagal update status holding.")}alert("Data perusahaan dan tenant berhasil disimpan!");let u=r.filter(e=>e&&e.companyid>0).sort((e,t)=>t.companyid-e.companyid);a(u),localStorage.setItem("companiesFromAPI",JSON.stringify(u)),i([]),localStorage.removeItem("localCompanies"),n()}catch(e){console.error(e),alert(e instanceof Error?e.message:"Gagal menyimpan data perusahaan atau tenant")}finally{g(!1)}};return(0,u.jsxs)("div",{children:[w.length>0&&(0,u.jsxs)("div",{className:"p-4 mb-4 bg-red-50 border border-red-200 rounded",children:[(0,u.jsx)("strong",{className:"text-red-700",children:"Perbaiki kesalahan berikut:"}),(0,u.jsx)("ul",{className:"mt-2 list-disc list-inside text-sm text-red-600",children:w.map((e,t)=>(0,u.jsx)("li",{children:e},t))})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Informasi Perusahaan"}),(0,u.jsx)("p",{className:"font-medium text-lg mb-3",children:"1. Sebutkan nama perusahaan dan negara tempat beroperasi"}),(0,u.jsx)("button",{onClick:()=>{let e=[{companyid:-(Math.floor(1e5*Math.random())+1),name:"",country:{name:""}},...o];i(e),localStorage.setItem("localCompanies",JSON.stringify(e))},className:"flex items-center gap-2 mb-4 px-4 py-2 bg-[#0c356a] text-white rounded-full cursor-pointer",children:"Tambah"}),(0,u.jsxs)("div",{className:"space-y-3",children:[0===o.length&&0===r.length&&(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Belum ada data perusahaan. Klik Tambah untuk menambahkan."}),o.map(e=>{var t;return(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("input",{type:"text",placeholder:"Nama perusahaan",value:e.name,onChange:t=>N(e.companyid,"name",t.target.value),className:"py-2 px-3 flex-1 min-w-[150px] bg-gray-100 rounded-lg"}),(0,u.jsxs)("select",{value:(null==(t=e.country)?void 0:t.name)||"",onChange:t=>N(e.companyid,"country",t.target.value),className:"py-2 px-3 flex-1 min-w-[180px] bg-gray-100 rounded-lg",children:[(0,u.jsx)("option",{value:"",children:"Pilih Negara"}),s.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.countryid))]}),(0,u.jsx)("button",{onClick:()=>E(e.companyid,"local"),className:"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-800",children:"Hapus"})]},e.companyid)}),r.map(e=>{var t;return(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("input",{type:"text",value:e.name||"",onChange:t=>S(e.companyid,"name",t.target.value),className:"py-2 px-3 flex-1 min-w-[150px] bg-gray-100 rounded-lg"}),(0,u.jsxs)("select",{value:(null==(t=e.country)?void 0:t.name)||"",onChange:t=>S(e.companyid,"country",t.target.value),className:"py-2 px-3 flex-1 min-w-[180px] bg-gray-100 rounded-lg",children:[(0,u.jsx)("option",{value:"",children:"Pilih Negara"}),s.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.countryid))]}),(0,u.jsx)("button",{onClick:()=>E(e.companyid,"api"),className:"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-800",children:"Hapus"})]},e.companyid)})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium mb-3",children:"2. Apakah perusahaan anda memiliki holding company?"}),(0,u.jsxs)("select",{className:"border p-2 rounded-md w-full mb-4",value:h,onChange:e=>{let t=e.target.value;p(t),("Tidak"===t||""===t)&&f(e=>({...null!=e?e:{tenantid:1,name:"",holdingflag:null,holdingcompanyid:null},holdingcompanyid:null}))},children:[(0,u.jsx)("option",{value:"",children:"Pilih"}),(0,u.jsx)("option",{value:"Ya",children:"Ya"}),(0,u.jsx)("option",{value:"Tidak",children:"Tidak"})]}),(0,u.jsx)("p",{className:"font-medium mb-3",children:"Sebutkan nama perusahaannya"}),(0,u.jsxs)("select",{className:"border p-2 rounded-md w-full",disabled:"Tidak"===h||""===h,value:null!=(t=null==d?void 0:d.holdingcompanyid)?t:"",onChange:e=>{let t=""===e.target.value?null:Number(e.target.value);f(e=>({...null!=e?e:{tenantid:1,name:"",holdingflag:null,holdingcompanyid:null},holdingcompanyid:t}))},children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),k.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name||" (Belum diisi)"},e.companyid))]})]})]}),(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsx)("button",{onClick:_,disabled:m,className:"mt-6 py-2 px-6 rounded-full text-white font-semibold ".concat(m?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-800"),children:m?"Menyimpan...":"Simpan & Lanjut"})})]})}function tb(e){var t;let{onNextStep:n,onBack:r}=e,[a,o]=(0,c.useState)([]),[i,s]=(0,c.useState)(null),[l,d]=(0,c.useState)({}),[f,h]=(0,c.useState)(null),[p,m]=(0,c.useState)(""),[g,y]=(0,c.useState)(!1),v=async()=>{let e=((await tc()).data||[]).sort((e,t)=>e.companyid-t.companyid);if(o(e),i){let t=e.find(e=>e.companyid===i);t&&(d(t),m(t.logo||""))}};(0,c.useEffect)(()=>{v()},[]);let x=(e,t)=>{d(n=>({...n,[e]:t}))},b=async()=>{if(!i)return void alert("Pilih perusahaan terlebih dahulu!");try{y(!0);let e=new FormData;e.append("brandname",l.brandname||""),e.append("entitytype",l.entitytype||""),e.append("noindukberusaha",l.noindukberusaha||""),e.append("npwp",l.npwp||""),e.append("address",l.address||""),e.append("telpno",l.telpno||""),e.append("companyemail",l.companyemail||""),f&&e.append("logo",f),await tf(i,e),alert("Data perusahaan berhasil disimpan!"),await v()}catch(e){console.error("Error saving:",e),alert(e instanceof Error?e.message:"Terjadi kesalahan saat menyimpan data.")}finally{y(!1)}},w=!i;return 0===a.length?(0,u.jsx)("p",{className:"p-6 text-gray-600",children:"Memuat data perusahaan..."}):(0,u.jsxs)("div",{className:"p-6 w-full mx-auto",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"3. Masukkan informasi detail perusahaan"}),(0,u.jsxs)("form",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Nama Legal Perusahaan"}),(0,u.jsxs)("select",{value:i||"",onChange:e=>(e=>{let t=a.find(t=>t.companyid===e);t?(s(t.companyid),d(t),m(t.logo||""),h(null)):(s(null),d({}),h(null),m(""))})(Number(e.target.value)),className:"col-span-2 border border-gray-300 rounded-md p-2 bg-blue-50 focus:ring-2 focus:ring-blue-400 w-full",children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),a.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name},e.companyid))]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Terdaftar di Negara"}),(0,u.jsx)("input",{type:"text",value:(null==(t=l.country)?void 0:t.name)||"",disabled:!0,className:"col-span-2 border border-gray-300 rounded-md p-2 bg-gray-200 w-full"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Nama Brand/Komersial (jika berbeda)"}),(0,u.jsx)("input",{type:"text",value:l.brandname||"",onChange:e=>x("brandname",e.target.value),disabled:w,placeholder:"Nama Brand",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(w?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Tipe Entitas Hukum (PT, CV, Yayasan, dll.)"}),(0,u.jsx)("input",{type:"text",value:l.entitytype||"",onChange:e=>x("entitytype",e.target.value),disabled:w,placeholder:"PT / CV / dll",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(w?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Nomor Induk Berusaha (NIB)"}),(0,u.jsx)("input",{type:"text",value:l.noindukberusaha||"",onChange:e=>x("noindukberusaha",e.target.value),disabled:w,placeholder:"Nomor Induk Berusaha",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(w?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"NPWP"}),(0,u.jsx)("input",{type:"text",value:l.npwp||"",onChange:e=>x("npwp",e.target.value),disabled:w,placeholder:"NPWP",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(w?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Alamat Kantor Pusat"}),(0,u.jsx)("input",{type:"text",value:l.address||"",onChange:e=>x("address",e.target.value),disabled:w,placeholder:"Alamat",className:"col-span-2 border border-gray-300 rounded-md p-2 w-full ".concat(w?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Nomor Telepon & Email Resmi"}),(0,u.jsxs)("div",{className:"col-span-2 flex gap-3",children:[(0,u.jsx)("input",{type:"text",value:l.telpno||"",onChange:e=>x("telpno",e.target.value),disabled:w,placeholder:"Telepon",className:"w-1/2 border border-gray-300 rounded-md p-2 ".concat(w?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")}),(0,u.jsx)("input",{type:"email",value:l.companyemail||"",onChange:e=>x("companyemail",e.target.value),disabled:w,placeholder:"Email",className:"w-1/2 border border-gray-300 rounded-md p-2 ".concat(w?"bg-gray-200":"bg-blue-50 focus:ring-2 focus:ring-blue-400")})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,u.jsx)("label",{className:"font-medium text-sm",children:"Logo"}),(0,u.jsxs)("div",{className:"col-span-2 flex items-center gap-3",children:[(0,u.jsxs)("label",{className:"relative cursor-pointer ".concat(w?"opacity-60 cursor-not-allowed":""),children:[(0,u.jsx)("div",{className:"".concat(w?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"," text-white px-4 py-2 rounded-md text-sm"),children:"Upload"}),(0,u.jsx)("input",{type:"file",accept:"image/*",disabled:w,className:"absolute inset-0 opacity-0 cursor-pointer",onChange:e=>{var t;let n=(null==(t=e.target.files)?void 0:t[0])||null;h(n),m(n?n.name:"")}})]}),p?(0,u.jsx)("span",{className:"text-sm text-gray-800",children:p}):(0,u.jsx)("span",{className:"text-gray-400 italic text-sm",children:"Belum ada logo"})]})]})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:r,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:b,disabled:g||w,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(g||w?"opacity-70 cursor-not-allowed":""),children:g?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:n,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}function tw(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)""!==(r=tw(e[n]))&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var tj=e.i(30224);let tE={get url(){return`file://${e.P("node_modules/zustand/esm/vanilla.mjs")}`}},tN=e=>{let t,n=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,o={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{(tE.env?tE.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(r,a,o);return o},{useDebugValue:tS}=c.default,{useSyncExternalStoreWithSelector:tk}=tj.default,t_=e=>e;function tA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t_,n=arguments.length>2?arguments[2]:void 0,r=tk(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return tS(r),r}let tC=(e,t)=>{let n=(e=>e?tN(e):tN)(e),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return tA(n,e,r)};return Object.assign(r,n),r};function tM(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var tO={value:()=>{}};function tT(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new tR(r)}function tR(e){this._=e}function tP(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=tO,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function tI(){}function tB(e){return null==e?tI:function(){return this.querySelector(e)}}function tD(){return[]}function tL(e){return null==e?tD:function(){return this.querySelectorAll(e)}}function tz(e){return function(){return this.matches(e)}}function tF(e){return function(t){return t.matches(e)}}tR.prototype=tT.prototype={constructor:tR,on:function(e,t){var n,r=this._,a=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),o=-1,i=a.length;if(arguments.length<2){for(;++o<i;)if((n=(e=a[o]).type)&&(n=function(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++o<i;)if(n=(e=a[o]).type)r[n]=tP(r[n],e.name,t);else if(null==t)for(n in r)r[n]=tP(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new tR(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=Array(n),o=0;o<n;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};var tU=Array.prototype.find;function tH(){return this.firstElementChild}var tK=Array.prototype.filter;function tG(){return Array.from(this.children)}function tJ(e){return Array(e.length)}function tV(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function tq(e,t,n,r,a,o){for(var i,s=0,l=t.length,u=o.length;s<u;++s)(i=t[s])?(i.__data__=o[s],r[s]=i):n[s]=new tV(e,o[s]);for(;s<l;++s)(i=t[s])&&(a[s]=i)}function tY(e,t,n,r,a,o,i){var s,l,u,c=new Map,d=t.length,f=o.length,h=Array(d);for(s=0;s<d;++s)(l=t[s])&&(h[s]=u=i.call(l,l.__data__,s,t)+"",c.has(u)?a[s]=l:c.set(u,l));for(s=0;s<f;++s)u=i.call(e,o[s],s,o)+"",(l=c.get(u))?(r[s]=l,l.__data__=o[s],c.delete(u)):n[s]=new tV(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&c.get(h[s])===l&&(a[s]=l)}function tX(e){return e.__data__}function tW(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}tV.prototype={constructor:tV,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var tZ="http://www.w3.org/1999/xhtml";let t$={svg:"http://www.w3.org/2000/svg",xhtml:tZ,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tQ(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),t$.hasOwnProperty(t)?{space:t$[t],local:e}:e}function t0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function t1(e,t){return e.style.getPropertyValue(t)||t0(e).getComputedStyle(e,null).getPropertyValue(t)}function t2(e){return e.trim().split(/^|\s+/)}function t3(e){return e.classList||new t5(e)}function t5(e){this._node=e,this._names=t2(e.getAttribute("class")||"")}function t4(e,t){for(var n=t3(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function t6(e,t){for(var n=t3(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function t8(){this.textContent=""}function t7(){this.innerHTML=""}function t9(){this.nextSibling&&this.parentNode.appendChild(this)}function ne(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nt(e){var t=tQ(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tZ&&t.documentElement.namespaceURI===tZ?t.createElement(e):t.createElementNS(n,e)}})(t)}function nn(){return null}function nr(){var e=this.parentNode;e&&e.removeChild(this)}function na(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function no(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ni(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,o=t.length;r<o;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?t.length=a:delete this.__on}}}function ns(e,t,n){return function(){var r,a=this.__on,o=function(e){t.call(this,e,this.__data__)};if(a){for(var i=0,s=a.length;i<s;++i)if((r=a[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},a?a.push(r):this.__on=[r]}}function nl(e,t,n){var r=t0(e),a=r.CustomEvent;"function"==typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}t5.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var nu=[null];function nc(e,t){this._groups=e,this._parents=t}function nd(){return new nc([[document.documentElement]],nu)}function nf(e){return"string"==typeof e?new nc([[document.querySelector(e)]],[document.documentElement]):new nc([[e]],nu)}nc.prototype=nd.prototype={constructor:nc,select:function(e){"function"!=typeof e&&(e=tB(e));for(var t=this._groups,n=t.length,r=Array(n),a=0;a<n;++a)for(var o,i,s=t[a],l=s.length,u=r[a]=Array(l),c=0;c<l;++c)(o=s[c])&&(i=e.call(o,o.__data__,c,s))&&("__data__"in o&&(i.__data__=o.__data__),u[c]=i);return new nc(r,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=tL(e);for(var n=this._groups,r=n.length,a=[],o=[],i=0;i<r;++i)for(var s,l=n[i],u=l.length,c=0;c<u;++c)(s=l[c])&&(a.push(e.call(s,s.__data__,c,l)),o.push(s));return new nc(a,o)},selectChild:function(e){var t;return this.select(null==e?tH:(t="function"==typeof e?e:tF(e),function(){return tU.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?tG:(t="function"==typeof e?e:tF(e),function(){return tK.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=tz(e));for(var t=this._groups,n=t.length,r=Array(n),a=0;a<n;++a)for(var o,i=t[a],s=i.length,l=r[a]=[],u=0;u<s;++u)(o=i[u])&&e.call(o,o.__data__,u,i)&&l.push(o);return new nc(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,tX);var n=t?tY:tq,r=this._parents,a=this._groups;"function"!=typeof e&&(v=e,e=function(){return v});for(var o=a.length,i=Array(o),s=Array(o),l=Array(o),u=0;u<o;++u){var c=r[u],d=a[u],f=d.length,h="object"==typeof(y=e.call(c,c&&c.__data__,u,r))&&"length"in y?y:Array.from(y),p=h.length,m=s[u]=Array(p),g=i[u]=Array(p);n(c,d,m,g,l[u]=Array(f),h,t);for(var y,v,x,b,w=0,j=0;w<p;++w)if(x=m[w]){for(w>=j&&(j=w+1);!(b=g[j])&&++j<p;);x._next=b||null}}return(i=new nc(i,r))._enter=s,i._exit=l,i},enter:function(){return new nc(this._enter||this._groups.map(tJ),this._parents)},exit:function(){return new nc(this._exit||this._groups.map(tJ),this._parents)},join:function(e,t,n){var r=this.enter(),a=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(a=t(a))&&(a=a.selection()),null==n?o.remove():n(o),r&&a?r.merge(a).order():a},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,i=Math.min(a,o),s=Array(a),l=0;l<i;++l)for(var u,c=n[l],d=r[l],f=c.length,h=s[l]=Array(f),p=0;p<f;++p)(u=c[p]||d[p])&&(h[p]=u);for(;l<a;++l)s[l]=n[l];return new nc(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],o=a.length-1,i=a[o];--o>=0;)(r=a[o])&&(i&&4^r.compareDocumentPosition(i)&&i.parentNode.insertBefore(r,i),i=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=tW);for(var n=this._groups,r=n.length,a=Array(r),o=0;o<r;++o){for(var i,s=n[o],l=s.length,u=a[o]=Array(l),c=0;c<l;++c)(i=s[c])&&(u[c]=i);u.sort(t)}return new nc(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,o=t[n],i=0,s=o.length;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this},attr:function(e,t){var n=tQ(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):t1(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=t2(e+"");if(arguments.length<2){for(var r=t3(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?t4:t6)(this,e)}}:t?function(e){return function(){t4(this,e)}}:function(e){return function(){t6(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?t8:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?t7:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(t9)},lower:function(){return this.each(ne)},append:function(e){var t="function"==typeof e?e:nt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:nt(e),r=null==t?nn:"function"==typeof t?t:tB(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(nr)},clone:function(e){return this.select(e?no:na)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),i=o.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<i;++r)if((a=o[r]).type===l.type&&a.name===l.name)return l.value}return}for(r=0,s=t?ns:ni;r<i;++r)this.each(s(o[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return nl(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return nl(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,a=e[t],o=0,i=a.length;o<i;++o)(r=a[o])&&(yield r)}};let nh={passive:!1},np={capture:!0,passive:!1};function nm(e){e.stopImmediatePropagation()}function ng(e){e.preventDefault(),e.stopImmediatePropagation()}function ny(e){var t=e.document.documentElement,n=nf(e).on("dragstart.drag",ng,np);"onselectstart"in t?n.on("selectstart.drag",ng,np):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function nv(e,t){var n=e.document.documentElement,r=nf(e).on("dragstart.drag",null);t&&(r.on("click.drag",ng,np),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function nx(e){return((e=Math.exp(e))+1/e)/2}let nb=function e(t,n,r){function a(e,a){var o,i,s=e[0],l=e[1],u=e[2],c=a[0],d=a[1],f=a[2],h=c-s,p=d-l,m=h*h+p*p;if(m<1e-12)i=Math.log(f/u)/t,o=function(e){return[s+e*h,l+e*p,u*Math.exp(t*e*i)]};else{var g=Math.sqrt(m),y=(f*f-u*u+r*m)/(2*u*n*g),v=(f*f-u*u-r*m)/(2*f*n*g),x=Math.log(Math.sqrt(y*y+1)-y);i=(Math.log(Math.sqrt(v*v+1)-v)-x)/t,o=function(e){var r,a,o=e*i,c=nx(x),d=u/(n*g)*(c*(((r=Math.exp(2*(r=t*o+x)))-1)/(r+1))-((a=Math.exp(a=x))-1/a)/2);return[s+d*h,l+d*p,u*c/nx(t*o+x)]}}return o.duration=1e3*i*t/Math.SQRT2,o}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);function nw(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var nj,nE,nN,nS,nk=0,n_=0,nA=0,nC=0,nM=0,nO=0,nT="object"==typeof performance&&performance.now?performance:Date,nR="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nP(){return nM||(nR(nI),nM=nT.now()+nO)}function nI(){nM=0}function nB(){this._call=this._time=this._next=null}function nD(e,t,n){var r=new nB;return r.restart(e,t,n),r}function nL(){nM=(nC=nT.now())+nO,nk=n_=0;try{nP(),++nk;for(var e,t=nN;t;)(e=nM-t._time)>=0&&t._call.call(void 0,e),t=t._next;--nk}finally{nk=0,function(){for(var e,t,n=nN,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:nN=t);nS=e,nF(r)}(),nM=0}}function nz(){var e=nT.now(),t=e-nC;t>1e3&&(nO-=t,nC=e)}function nF(e){!nk&&(n_&&(n_=clearTimeout(n_)),e-nM>24?(e<1/0&&(n_=setTimeout(nL,e-nT.now()-nO)),nA&&(nA=clearInterval(nA))):(nA||(nC=nT.now(),nA=setInterval(nz,1e3)),nk=1,nR(nL)))}function nU(e,t,n){var r=new nB;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}nB.prototype=nD.prototype={constructor:nB,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?nP():+n)+(null==t?0:+t),this._next||nS===this||(nS?nS._next=this:nN=this,nS=this),this._call=e,this._time=n,nF()},stop:function(){this._call&&(this._call=null,this._time=1/0,nF())}};var nH=tT("start","end","cancel","interrupt"),nK=[];function nG(e,t,n,r,a,o){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var r,a=e.__transition;function o(l){var u,c,d,f;if(1!==n.state)return s();for(u in a)if((f=a[u]).name===n.name){if(3===f.state)return nU(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete a[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete a[u])}if(nU(function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(l))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(u=0,n.state=3,r=Array(d=n.tween.length),c=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function i(t){for(var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,i=r.length;++o<i;)r[o].call(e,a);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=nD(function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:a,on:nH,tween:nK,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function nJ(e,t){var n=nq(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function nV(e,t){var n=nq(e,t);if(n.state>3)throw Error("too late; already running");return n}function nq(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function nY(e,t){var n,r,a,o=e.__transition,i=!0;if(o){for(a in t=null==t?null:t+"",o){if((n=o[a]).name!==t){i=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[a]}i&&delete e.__transition}}function nX(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}var nW=180/Math.PI,nZ={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function n$(e,t,n,r,a,o){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*nW,skewX:Math.atan(l)*nW,scaleX:i,scaleY:s}}function nQ(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(o,i){var s,l,u,c,d=[],f=[];return o=e(o),i=e(i),!function(e,r,a,o,i,s){if(e!==a||r!==o){var l=i.push("translate(",null,t,null,n);s.push({i:l-4,x:nX(e,a)},{i:l-2,x:nX(r,o)})}else(a||o)&&i.push("translate("+a+t+o+n)}(o.translateX,o.translateY,i.translateX,i.translateY,d,f),s=o.rotate,l=i.rotate,s!==l?(s-l>180?l+=360:l-s>180&&(s+=360),f.push({i:d.push(a(d)+"rotate(",null,r)-2,x:nX(s,l)})):l&&d.push(a(d)+"rotate("+l+r),u=o.skewX,c=i.skewX,u!==c?f.push({i:d.push(a(d)+"skewX(",null,r)-2,x:nX(u,c)}):c&&d.push(a(d)+"skewX("+c+r),!function(e,t,n,r,o,i){if(e!==n||t!==r){var s=o.push(a(o)+"scale(",null,",",null,")");i.push({i:s-4,x:nX(e,n)},{i:s-2,x:nX(t,r)})}else(1!==n||1!==r)&&o.push(a(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,i.scaleX,i.scaleY,d,f),o=i=null,function(e){for(var t,n=-1,r=f.length;++n<r;)d[(t=f[n]).i]=t.x(e);return d.join("")}}}var n0=nQ(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?nZ:n$(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),n1=nQ(function(e){return null==e?nZ:(t||(t=document.createElementNS("http://www.w3.org/2000/svg","g")),t.setAttribute("transform",e),e=t.transform.baseVal.consolidate())?n$((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):nZ},", ",")",")");function n2(e,t,n){var r=e._id;return e.each(function(){var e=nV(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return nq(e,r).value[t]}}function n3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function n5(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function n4(){}var n6="\\s*([+-]?\\d+)\\s*",n8="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",n7="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n9=/^#([0-9a-f]{3,8})$/,re=new RegExp("^rgb\\(".concat(n6,",").concat(n6,",").concat(n6,"\\)$")),rt=new RegExp("^rgb\\(".concat(n7,",").concat(n7,",").concat(n7,"\\)$")),rn=new RegExp("^rgba\\(".concat(n6,",").concat(n6,",").concat(n6,",").concat(n8,"\\)$")),rr=new RegExp("^rgba\\(".concat(n7,",").concat(n7,",").concat(n7,",").concat(n8,"\\)$")),ra=new RegExp("^hsl\\(".concat(n8,",").concat(n7,",").concat(n7,"\\)$")),ro=new RegExp("^hsla\\(".concat(n8,",").concat(n7,",").concat(n7,",").concat(n8,"\\)$")),ri={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function rs(){return this.rgb().formatHex()}function rl(){return this.rgb().formatRgb()}function ru(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=n9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rc(t):3===n?new rh(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?rd(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?rd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=re.exec(e))?new rh(t[1],t[2],t[3],1):(t=rt.exec(e))?new rh(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=rn.exec(e))?rd(t[1],t[2],t[3],t[4]):(t=rr.exec(e))?rd(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ra.exec(e))?rx(t[1],t[2]/100,t[3]/100,1):(t=ro.exec(e))?rx(t[1],t[2]/100,t[3]/100,t[4]):ri.hasOwnProperty(e)?rc(ri[e]):"transparent"===e?new rh(NaN,NaN,NaN,0):null}function rc(e){return new rh(e>>16&255,e>>8&255,255&e,1)}function rd(e,t,n,r){return r<=0&&(e=t=n=NaN),new rh(e,t,n,r)}function rf(e,t,n,r){var a;return 1==arguments.length?((a=e)instanceof n4||(a=ru(a)),a)?new rh((a=a.rgb()).r,a.g,a.b,a.opacity):new rh:new rh(e,t,n,null==r?1:r)}function rh(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function rp(){return"#".concat(rv(this.r)).concat(rv(this.g)).concat(rv(this.b))}function rm(){let e=rg(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(ry(this.r),", ").concat(ry(this.g),", ").concat(ry(this.b)).concat(1===e?")":", ".concat(e,")"))}function rg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ry(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rv(e){return((e=ry(e))<16?"0":"")+e.toString(16)}function rx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rw(e,t,n,r)}function rb(e){if(e instanceof rw)return new rw(e.h,e.s,e.l,e.opacity);if(e instanceof n4||(e=ru(e)),!e)return new rw;if(e instanceof rw)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,s=o-a,l=(o+a)/2;return s?(i=t===o?(n-r)/s+(n<r)*6:n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new rw(i,s,l,e.opacity)}function rw(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function rj(e){return(e=(e||0)%360)<0?e+360:e}function rE(e){return Math.max(0,Math.min(1,e||0))}function rN(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function rS(e,t,n,r,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*a)/6}n3(n4,ru,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rs,formatHex:rs,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return rb(this).formatHsl()},formatRgb:rl,toString:rl}),n3(rh,rf,n5(n4,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new rh(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new rh(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rh(ry(this.r),ry(this.g),ry(this.b),rg(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rp,formatHex:rp,formatHex8:function(){return"#".concat(rv(this.r)).concat(rv(this.g)).concat(rv(this.b)).concat(rv((isNaN(this.opacity)?1:this.opacity)*255))},formatRgb:rm,toString:rm})),n3(rw,function(e,t,n,r){return 1==arguments.length?rb(e):new rw(e,t,n,null==r?1:r)},n5(n4,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new rw(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new rw(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new rh(rN(e>=240?e-240:e+120,a,r),rN(e,a,r),rN(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new rw(rj(this.h),rE(this.s),rE(this.l),rg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=rg(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(rj(this.h),", ").concat(100*rE(this.s),"%, ").concat(100*rE(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));let rk=e=>()=>e;function r_(e,t){var n=t-e;return n?function(t){return e+t*n}:rk(isNaN(e)?t:e)}let rA=function e(t){var n,r=1==(n=+t)?r_:function(e,t){var r,a,o;return t-e?(r=e,a=t,r=Math.pow(r,o=n),a=Math.pow(a,o)-r,o=1/o,function(e){return Math.pow(r+e*a,o)}):rk(isNaN(e)?t:e)};function a(e,t){var n=r((e=rf(e)).r,(t=rf(t)).r),a=r(e.g,t.g),o=r(e.b,t.b),i=r_(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=o(t),e.opacity=i(t),e+""}}return a.gamma=e,a}(1);function rC(e){return function(t){var n,r,a=t.length,o=Array(a),i=Array(a),s=Array(a);for(n=0;n<a;++n)r=rf(t[n]),o[n]=r.r||0,i[n]=r.g||0,s[n]=r.b||0;return o=e(o),i=e(i),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=i(e),r.b=s(e),r+""}}}rC(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],i=r>0?e[r-1]:2*a-o,s=r<t-1?e[r+2]:2*o-a;return rS((n-r/t)*t,i,a,o,s)}}),rC(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],s=e[(r+2)%t];return rS((n-r/t)*t,a,o,i,s)}});var rM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rO=RegExp(rM.source,"g");function rT(e,t){var n;return("number"==typeof t?nX:t instanceof ru?rA:(n=ru(t))?(t=n,rA):function(e,t){var n,r,a,o,i,s=rM.lastIndex=rO.lastIndex=0,l=-1,u=[],c=[];for(e+="",t+="";(a=rM.exec(e))&&(o=rO.exec(t));)(i=o.index)>s&&(i=t.slice(s,i),u[l]?u[l]+=i:u[++l]=i),(a=a[0])===(o=o[0])?u[l]?u[l]+=o:u[++l]=o:(u[++l]=null,c.push({i:l,x:nX(a,o)})),s=rO.lastIndex;return s<t.length&&(i=t.slice(s),u[l]?u[l]+=i:u[++l]=i),u.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})})(e,t)}var rR=nd.prototype.constructor;function rP(e){return function(){this.style.removeProperty(e)}}var rI=0;function rB(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}var rD=nd.prototype;rB.prototype=(function(e){return nd().transition(e)}).prototype={constructor:rB,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=tB(e));for(var r=this._groups,a=r.length,o=Array(a),i=0;i<a;++i)for(var s,l,u=r[i],c=u.length,d=o[i]=Array(c),f=0;f<c;++f)(s=u[f])&&(l=e.call(s,s.__data__,f,u))&&("__data__"in s&&(l.__data__=s.__data__),d[f]=l,nG(d[f],t,n,f,d,nq(s,n)));return new rB(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=tL(e));for(var r=this._groups,a=r.length,o=[],i=[],s=0;s<a;++s)for(var l,u=r[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var f,h=e.call(l,l.__data__,d,u),p=nq(l,n),m=0,g=h.length;m<g;++m)(f=h[m])&&nG(f,t,n,m,h,p);o.push(h),i.push(l)}return new rB(o,i,t,n)},selectChild:rD.selectChild,selectChildren:rD.selectChildren,filter:function(e){"function"!=typeof e&&(e=tz(e));for(var t=this._groups,n=t.length,r=Array(n),a=0;a<n;++a)for(var o,i=t[a],s=i.length,l=r[a]=[],u=0;u<s;++u)(o=i[u])&&e.call(o,o.__data__,u,i)&&l.push(o);return new rB(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],d=u.length,f=i[s]=Array(d),h=0;h<d;++h)(l=u[h]||c[h])&&(f[h]=l);for(;s<r;++s)i[s]=t[s];return new rB(i,this._parents,this._name,this._id)},selection:function(){return new rR(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++rI,r=this._groups,a=r.length,o=0;o<a;++o)for(var i,s=r[o],l=s.length,u=0;u<l;++u)if(i=s[u]){var c=nq(i,t);nG(i,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new rB(r,this._parents,e,n)},call:rD.call,nodes:rD.nodes,node:rD.node,size:rD.size,empty:rD.empty,each:rD.each,on:function(e,t){var n,r,a,o,i,s,l=this._id;return arguments.length<2?nq(this.node(),l).on.on(e):this.each((n=l,r=e,a=t,s=(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?nJ:nV,function(){var e=s(this,n),t=e.on;t!==o&&(i=(o=t).copy()).on(r,a),e.on=i}))},attr:function(e,t){var n=tQ(e),r="transform"===n?n1:rT;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,a,o;return function(){var i,s,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:i===r&&s===a?o:(a=s,o=t(r=i,l))}}:function(e,t,n){var r,a,o;return function(){var i,s,l=n(this);return null==l?void this.removeAttribute(e):(i=this.getAttribute(e))===(s=l+"")?null:i===r&&s===a?o:(a=s,o=t(r=i,l))}})(n,r,n2(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,a,o=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?a:a=t(r=i,n)}}:function(e,t,n){var r,a,o=n+"";return function(){var i=this.getAttribute(e);return i===o?null:i===r?a:a=t(r=i,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=tQ(e);return this.tween(n,(r.local?function(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t){this.setAttributeNS(e.space,e.local,a.call(this,t))}),n}return a._value=t,a}:function(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t){this.setAttribute(e,a.call(this,t))}),n}return a._value=t,a})(r,t))},style:function(e,t,n){var r,a,o,i,s,l,u,c,d,f,h,p,m,g,y,v,x,b,w,j,E,N="transform"==(e+="")?n0:rT;return null==t?this.styleTween(e,(r=e,function(){var e=t1(this,r),t=(this.style.removeProperty(r),t1(this,r));return e===t?null:e===a&&t===o?i:i=N(a=e,o=t)})).on("end.style."+e,rP(e)):"function"==typeof t?this.styleTween(e,(s=e,l=n2(this,"style."+e,t),function(){var e=t1(this,s),t=l(this),n=t+"";return null==t&&(this.style.removeProperty(s),n=t=t1(this,s)),e===n?null:e===u&&n===c?d:(c=n,d=N(u=e,t))})).each((f=this._id,x="end."+(v="style."+(h=e)),function(){var e=nV(this,f),t=e.on,n=null==e.value[v]?y||(y=rP(h)):void 0;(t!==p||g!==n)&&(m=(p=t).copy()).on(x,g=n),e.on=m})):this.styleTween(e,(b=e,E=t+"",function(){var e=t1(this,b);return e===E?null:e===w?j:j=N(w=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,a;function o(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&function(t){this.style.setProperty(e,o.call(this,t),n)}),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=n2(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return r._value=e,r}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,a=nq(this.node(),n).tween,o=0,i=a.length;o<i;++o)if((r=a[o]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var a=nV(this,e),o=a.tween;if(o!==n){r=n=o;for(var i=0,s=r.length;i<s;++i)if(r[i].name===t){(r=r.slice()).splice(i,1);break}}a.tween=r}}:function(e,t,n){var r,a;if("function"!=typeof n)throw Error();return function(){var o=nV(this,e),i=o.tween;if(i!==r){a=(r=i).slice();for(var s={name:t,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===t){a[l]=s;break}l===u&&a.push(s)}o.tween=a}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){nJ(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){nJ(this,e).delay=t}})(t,e)):nq(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){nV(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){nV(this,e).duration=t}})(t,e)):nq(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){nV(this,e).ease=t}}(t,e)):nq(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();nV(this,t).ease=n}))},end:function(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,i){var s={value:i},l={value:function(){0==--a&&o()}};n.each(function(){var n=nV(this,r),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===a&&o()})},[Symbol.iterator]:rD[Symbol.iterator]};var rL={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};nd.prototype.interrupt=function(e){return this.each(function(){nY(this,e)})},nd.prototype.transition=function(e){var t,n;e instanceof rB?(t=e._id,e=e._name):(t=++rI,(n=rL).time=nP(),e=null==e?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i,s=r[o],l=s.length,u=0;u<l;++u)(i=s[u])&&nG(i,e,t,u,s,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error("transition ".concat(t," not found"));return n}(i,t));return new rB(r,this._parents,e,t)};let rz=e=>()=>e;function rF(e,t){let{sourceEvent:n,target:r,transform:a,dispatch:o}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function rU(e,t,n){this.k=e,this.x=t,this.y=n}rU.prototype={constructor:rU,scale:function(e){return 1===e?this:new rU(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new rU(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rH=new rU(1,0,0);function rK(e){e.stopImmediatePropagation()}function rG(e){e.preventDefault(),e.stopImmediatePropagation()}function rJ(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function rV(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function rq(){return this.__zoom||rH}function rY(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function rX(){return navigator.maxTouchPoints||"ontouchstart"in this}function rW(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}rU.prototype;let rZ=e=>()=>e;function r$(e,t){let{sourceEvent:n,subject:r,target:a,identifier:o,active:i,x:s,y:l,dx:u,dy:c,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}function rQ(e){return!e.ctrlKey&&!e.button}function r0(){return this.parentNode}function r1(e,t){return null==t?{x:e.x,y:e.y}:t}function r2(){return navigator.maxTouchPoints||"ontouchstart"in this}r$.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e},e.i(74080);let r3=(0,c.createContext)(null),r5=r3.Provider,r4={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error003:e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error009:e=>'Marker type "'.concat(e,"\" doesn't exist."),error008:(e,t)=>"Couldn't create edge for ".concat(!e?"source":"target",' handle id: "').concat(!e?t.sourceHandle:t.targetHandle,'", edge id: ').concat(t.id,"."),error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),error012:e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.')},r6=r4.error001();function r8(e,t){let n=(0,c.useContext)(r3);if(null===n)throw Error(r6);return tA(n,e,t)}let r7=()=>{let e=(0,c.useContext)(r3);if(null===e)throw Error(r6);return(0,c.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},r9=e=>e.userSelectionActive?"none":"all";function ae(e){let{position:t,children:n,className:r,style:a,...o}=e,i=r8(r9),s="".concat(t).split("-");return c.default.createElement("div",{className:tw(["react-flow__panel",r,...s]),style:{...a,pointerEvents:i},...o},n)}function at(e){let{proOptions:t,position:n="bottom-right"}=e;return(null==t?void 0:t.hideAttribution)?null:c.default.createElement(ae,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},c.default.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var an=(0,c.memo)(e=>{let{x:t,y:n,label:r,labelStyle:a={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...f}=e,h=(0,c.useRef)(null),[p,m]=(0,c.useState)({x:0,y:0,width:0,height:0}),g=tw(["react-flow__edge-textwrapper",d]);return((0,c.useEffect)(()=>{if(h.current){let e=h.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}},[r]),void 0!==r&&r)?c.default.createElement("g",{transform:"translate(".concat(t-p.width/2," ").concat(n-p.height/2,")"),className:g,visibility:p.width?"visible":"hidden",...f},o&&c.default.createElement("rect",{width:p.width+2*s[0],x:-s[0],y:-s[1],height:p.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),c.default.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:a},r),u):null});let ar=e=>({width:e.offsetWidth,height:e.offsetHeight}),aa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},ao=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:aa(e.x,t[0][0],t[1][0]),y:aa(e.y,t[0][1],t[1][1])}},ai=(e,t,n)=>e<t?aa(Math.abs(e-t),1,50)/50:e>n?-aa(Math.abs(e-n),1,50)/50:0,as=(e,t)=>[20*ai(e.x,35,t.width-35),20*ai(e.y,35,t.height-35)],al=e=>{var t,n;return(null==(t=e.getRootNode)?void 0:t.call(e))||(null==(n=window)?void 0:n.document)},au=e=>{let{x:t,y:n,width:r,height:a}=e;return{x:t,y:n,x2:t+r,y2:n+a}},ac=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),ad=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),af=e=>!isNaN(e)&&isFinite(e),ah=Symbol.for("internals"),ap=["Enter"," ","Escape"],am=(e,t)=>{};function ag(e){var t,n;let r="nativeEvent"in e?e.nativeEvent:e,a=(null==(n=r.composedPath)||null==(t=n.call(r))?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null==a?void 0:a.nodeName)||(null==a?void 0:a.hasAttribute("contenteditable"))||!!(null==a?void 0:a.closest(".nokey"))}let ay=(e,t)=>{var n,r,a,o;let i="clientX"in e,s=i?e.clientX:null==(n=e.touches)?void 0:n[0].clientX,l=i?e.clientY:null==(r=e.touches)?void 0:r[0].clientY;return{x:s-(null!=(a=null==t?void 0:t.left)?a:0),y:l-(null!=(o=null==t?void 0:t.top)?o:0)}},av=()=>{var e,t;return"undefined"!=typeof navigator&&(null==(t=navigator)||null==(e=t.userAgent)?void 0:e.indexOf("Mac"))>=0},ax=e=>{let{id:t,path:n,labelX:r,labelY:a,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:m=20}=e;return c.default.createElement(c.default.Fragment,null,c.default.createElement("path",{id:t,style:f,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),m&&c.default.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&af(r)&&af(a)?c.default.createElement(an,{x:r,y:a,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null)};function ab(e,t,n){return void 0===n?n:r=>{let a=t().edges.find(t=>t.id===e);a&&n(r,{...a})}}function aw(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e,o=Math.abs(r-t)/2,i=Math.abs(a-n)/2;return[r<t?r+o:r-o,a<n?a+i:a-i,o,i]}function aj(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}=e,u=.125*t+.375*o+.375*s+.125*r,c=.125*n+.375*i+.375*l+.125*a,d=Math.abs(u-t),f=Math.abs(c-n);return[u,c,d,f]}function aE(e){let{pos:t,x1:n,y1:r,x2:a,y2:o}=e;return t===s.Left||t===s.Right?[.5*(n+a),r]:[n,.5*(r+o)]}function aN(e){let{sourceX:t,sourceY:n,sourcePosition:r=s.Bottom,targetX:a,targetY:o,targetPosition:i=s.Top}=e,[l,u]=aE({pos:r,x1:t,y1:n,x2:a,y2:o}),[c,d]=aE({pos:i,x1:a,y1:o,x2:t,y2:n}),[f,h,p,m]=aj({sourceX:t,sourceY:n,targetX:a,targetY:o,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(l,",").concat(u," ").concat(c,",").concat(d," ").concat(a,",").concat(o),f,h,p,m]}ax.displayName="BaseEdge",function(e){e.Strict="strict",e.Loose="loose"}(n||(n={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(r||(r={})),function(e){e.Partial="partial",e.Full="full"}(a||(a={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(o||(o={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(i||(i={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(s||(s={}));let aS=(0,c.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:o=s.Bottom,targetPosition:i=s.Top,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:v}=e,[x,b,w]=aN({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:a,targetPosition:i});return c.default.createElement(ax,{path:x,labelX:b,labelY:w,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:v})});aS.displayName="SimpleBezierEdge";let ak={[s.Left]:{x:-1,y:0},[s.Right]:{x:1,y:0},[s.Top]:{x:0,y:-1},[s.Bottom]:{x:0,y:1}},a_=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function aA(e){let{sourceX:t,sourceY:n,sourcePosition:r=s.Bottom,targetX:a,targetY:o,targetPosition:i=s.Top,borderRadius:l=5,centerX:u,centerY:c,offset:d=20}=e,[f,h,p,m,g]=function(e){let t,n,{source:r,sourcePosition:a=s.Bottom,target:o,targetPosition:i=s.Top,center:l,offset:u}=e,c=ak[a],d=ak[i],f={x:r.x+c.x*u,y:r.y+c.y*u},h={x:o.x+d.x*u,y:o.y+d.y*u},p=(e=>{let{source:t,sourcePosition:n=s.Bottom,target:r}=e;return n===s.Left||n===s.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:f,sourcePosition:a,target:h}),m=0!==p.x?"x":"y",g=p[m],y=[],v={x:0,y:0},x={x:0,y:0},[b,w,j,E]=aw({sourceX:r.x,sourceY:r.y,targetX:o.x,targetY:o.y});if(c[m]*d[m]==-1){var N,S;t=null!=(N=l.x)?N:b,n=null!=(S=l.y)?S:w;let e=[{x:t,y:f.y},{x:t,y:h.y}],r=[{x:f.x,y:n},{x:h.x,y:n}];y=c[m]===g?"x"===m?e:r:"x"===m?r:e}else{let e=[{x:f.x,y:h.y}],s=[{x:h.x,y:f.y}];if(y="x"===m?c.x===g?s:e:c.y===g?e:s,a===i){let e=Math.abs(r[m]-o[m]);if(e<=u){let t=Math.min(u-1,u-e);c[m]===g?v[m]=(f[m]>r[m]?-1:1)*t:x[m]=(h[m]>o[m]?-1:1)*t}}if(a!==i){let t="x"===m?"y":"x",n=c[m]===d[t],r=f[t]>h[t],a=f[t]<h[t];(1===c[m]&&(!n&&r||n&&a)||1!==c[m]&&(!n&&a||n&&r))&&(y="x"===m?e:s)}let l={x:f.x+v.x,y:f.y+v.y},p={x:h.x+x.x,y:h.y+x.y};Math.max(Math.abs(l.x-y[0].x),Math.abs(p.x-y[0].x))>=Math.max(Math.abs(l.y-y[0].y),Math.abs(p.y-y[0].y))?(t=(l.x+p.x)/2,n=y[0].y):(t=y[0].x,n=(l.y+p.y)/2)}return[[r,{x:f.x+v.x,y:f.y+v.y},...y,{x:h.x+x.x,y:h.y+x.y},o],t,n,j,E]}({source:{x:t,y:n},sourcePosition:r,target:{x:a,y:o},targetPosition:i,center:{x:u,y:c},offset:d});return[f.reduce((e,t,n)=>e+(n>0&&n<f.length-1?function(e,t,n,r){let a=Math.min(a_(e,t)/2,a_(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return"L".concat(o," ").concat(i);if(e.y===i){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(o+a*t,",").concat(i,"Q ").concat(o,",").concat(i," ").concat(o,",").concat(i+a*r)}let s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(o,",").concat(i+a*l,"Q ").concat(o,",").concat(i," ").concat(o+a*s,",").concat(i)}(f[n-1],t,f[n+1],l):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y)),""),h,p,m,g]}let aC=(0,c.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:p=s.Bottom,targetPosition:m=s.Top,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:x}=e,[b,w,j]=aA({sourceX:t,sourceY:n,sourcePosition:p,targetX:r,targetY:a,targetPosition:m,borderRadius:null==v?void 0:v.borderRadius,offset:null==v?void 0:v.offset});return c.default.createElement(ax,{path:b,labelX:w,labelY:j,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:y,interactionWidth:x})});aC.displayName="SmoothStepEdge";let aM=(0,c.memo)(e=>{var t;return c.default.createElement(aC,{...e,pathOptions:(0,c.useMemo)(()=>{var t;return{borderRadius:0,offset:null==(t=e.pathOptions)?void 0:t.offset}},[null==(t=e.pathOptions)?void 0:t.offset])})});aM.displayName="StepEdge";let aO=(0,c.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:m}=e,[g,y,v]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e,[o,i,s,l]=aw({sourceX:t,sourceY:n,targetX:r,targetY:a});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(a),o,i,s,l]}({sourceX:t,sourceY:n,targetX:r,targetY:a});return c.default.createElement(ax,{path:g,labelX:y,labelY:v,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:m})});function aT(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function aR(e){let{pos:t,x1:n,y1:r,x2:a,y2:o,c:i}=e;switch(t){case s.Left:return[n-aT(n-a,i),r];case s.Right:return[n+aT(a-n,i),r];case s.Top:return[n,r-aT(r-o,i)];case s.Bottom:return[n,r+aT(o-r,i)]}}function aP(e){let{sourceX:t,sourceY:n,sourcePosition:r=s.Bottom,targetX:a,targetY:o,targetPosition:i=s.Top,curvature:l=.25}=e,[u,c]=aR({pos:r,x1:t,y1:n,x2:a,y2:o,c:l}),[d,f]=aR({pos:i,x1:a,y1:o,x2:t,y2:n,c:l}),[h,p,m,g]=aj({sourceX:t,sourceY:n,targetX:a,targetY:o,sourceControlX:u,sourceControlY:c,targetControlX:d,targetControlY:f});return["M".concat(t,",").concat(n," C").concat(u,",").concat(c," ").concat(d,",").concat(f," ").concat(a,",").concat(o),h,p,m,g]}aO.displayName="StraightEdge";let aI=(0,c.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:o=s.Bottom,targetPosition:i=s.Top,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:x}=e,[b,w,j]=aP({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:a,targetPosition:i,curvature:null==v?void 0:v.curvature});return c.default.createElement(ax,{path:b,labelX:w,labelY:j,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:x})});aI.displayName="BezierEdge";let aB=(0,c.createContext)(null),aD=aB.Provider;aB.Consumer;let aL=(e,t)=>void 0===e?"":"string"==typeof e?e:"".concat(t?"".concat(t,"__"):"").concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&")),az=(e,t,n,r)=>{let{x:a,y:o}=e,[i,s,l]=t,[u,c]=r,d={x:(a-i)/l,y:(o-s)/l};return n?{x:u*Math.round(d.x/u),y:c*Math.round(d.y/c)}:d},aF=(e,t)=>{let{x:n,y:r}=e,[a,o,i]=t;return{x:n*i+a,y:r*i+o}},aU=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};let a=(null!=(t=e.width)?t:0)*r[0],o=(null!=(n=e.height)?n:0)*r[1],i={x:e.position.x-a,y:e.position.y-o};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-a,y:e.positionAbsolute.y-o}:i}},aH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return 0===e.length?{x:0,y:0,width:0,height:0}:(e=>{let{x:t,y:n,x2:r,y2:a}=e;return{x:t,y:n,width:r-t,height:a-n}})(e.reduce((e,n)=>{let r,{x:a,y:o}=aU(n,t).positionAbsolute;return r=au({x:a,y:o,width:n.width||0,height:n.height||0}),{x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}},{x:1/0,y:1/0,x2:-1/0,y2:-1/0}))},aK=function(e,t){let[n,r,a]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],l={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(e=>{let{width:t,height:n,selectable:r=!0,hidden:a=!1}=e;if(i&&!r||a)return!1;let{positionAbsolute:c}=aU(e,s),d=ad(l,{x:c.x,y:c.y,width:t||0,height:n||0}),f=void 0===t||void 0===n||null===t||null===n,h=(t||0)*(n||0);(f||o&&d>0||d>=h||e.dragging)&&u.push(e)}),u},aG=(e,t)=>{let n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},aJ=function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,i=aa(Math.min(t/(e.width*(1+o)),n/(e.height*(1+o))),r,a),s=e.x+e.width/2;return{x:t/2-s*i,y:n/2-(e.y+e.height/2)*i,zoom:i}},aV=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function aq(e,t,n,r){return(t[n]||[]).reduce((t,a)=>{if("".concat(e.id,"-").concat(a.id,"-").concat(n)!==r){var o,i,s,l;t.push({id:a.id||null,type:n,nodeId:e.id,x:(null!=(s=null==(o=e.positionAbsolute)?void 0:o.x)?s:0)+a.x+a.width/2,y:(null!=(l=null==(i=e.positionAbsolute)?void 0:i.y)?l:0)+a.y+a.height/2})}return t},[])}let aY={source:null,target:null,sourceHandle:null,targetHandle:null},aX=()=>({handleDomNode:null,isValid:!1,connection:aY,endHandle:null});function aW(e,t,r,a,o,i,s){let l="target"===o,u=s.querySelector('.react-flow__handle[data-id="'.concat(null==e?void 0:e.nodeId,"-").concat(null==e?void 0:e.id,"-").concat(null==e?void 0:e.type,'"]')),c={...aX(),handleDomNode:u};if(u){let e=aZ(void 0,u),o=u.getAttribute("data-nodeid"),s=u.getAttribute("data-handleid"),d=u.classList.contains("connectable"),f=u.classList.contains("connectableend"),h={source:l?o:r,sourceHandle:l?s:a,target:l?r:o,targetHandle:l?a:s};c.connection=h,d&&f&&(t===n.Strict?l&&"source"===e||!l&&"target"===e:o!==r||s!==a)&&(c.endHandle={nodeId:o,handleId:s,type:e},c.isValid=i(h))}return c}function aZ(e,t){return e?e:(null==t?void 0:t.classList.contains("target"))?"target":(null==t?void 0:t.classList.contains("source"))?"source":null}function a$(e){null==e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function aQ(e){let t,n,{event:r,handleId:a,nodeId:o,onConnect:i,isTarget:s,getState:l,setState:u,isValidConnection:c,edgeUpdaterType:d,onReconnectEnd:f}=e,h=al(r.target),{connectionMode:p,domNode:m,autoPanOnConnect:g,connectionRadius:y,onConnectStart:v,panBy:x,getNodes:b,cancelConnection:w}=l(),j=0,{x:E,y:N}=ay(r),S=aZ(d,null==h?void 0:h.elementFromPoint(E,N)),k=null==m?void 0:m.getBoundingClientRect();if(!k||!S)return;let _=ay(r,k),A=!1,C=null,M=!1,O=null,T=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:a}=e;return t.reduce((e,t)=>{if(t[ah]){let{handleBounds:o}=t[ah],i=[],s=[];o&&(i=aq(t,o,"source","".concat(n,"-").concat(r,"-").concat(a)),s=aq(t,o,"target","".concat(n,"-").concat(r,"-").concat(a))),e.push(...i,...s)}return e},[])}({nodes:b(),nodeId:o,handleId:a,handleType:S}),R=()=>{if(!g)return;let[e,t]=as(_,k);x({x:e,y:t}),j=requestAnimationFrame(R)};function P(e){var r,i;let d,{transform:f}=l();_=ay(e,k);let{handle:m,validHandleResult:g}=function(e,t,n,r,a,o){let{x:i,y:s}=ay(e),l=t.elementsFromPoint(i,s).find(e=>e.classList.contains("react-flow__handle"));if(l){let e=l.getAttribute("data-nodeid");if(e){let t=aZ(void 0,l),r=l.getAttribute("data-handleid"),i=o({nodeId:e,id:r,type:t});if(i){let o=a.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:(null==o?void 0:o.x)||n.x,y:(null==o?void 0:o.y)||n.y},validHandleResult:i}}}}let u=[],c=1/0;if(a.forEach(e=>{let t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){let n=o(e);t<=c&&(t<c?u=[{handle:e,validHandleResult:n}]:t===c&&u.push({handle:e,validHandleResult:n}),c=t)}}),!u.length)return{handle:null,validHandleResult:aX()};if(1===u.length)return u[0];let d=u.some(e=>{let{validHandleResult:t}=e;return t.isValid}),f=u.some(e=>{let{handle:t}=e;return"target"===t.type});return u.find(e=>{let{handle:t,validHandleResult:n}=e;return f?"target"===t.type:!d||n.isValid})||u[0]}(e,h,az(_,f,!1,[1,1]),y,T,e=>aW(e,p,o,a,s?"target":"source",c,h));if(t=m,A||(R(),A=!0),O=g.handleDomNode,C=g.connection,M=g.isValid,u({connectionPosition:t&&M?aF({x:t.x,y:t.y},f):_,connectionStatus:(r=!!t,d=null,(i=M)?d="valid":r&&!i&&(d="invalid"),d),connectionEndHandle:g.endHandle}),!t&&!M&&!O)return a$(n);C.source!==C.target&&O&&(a$(n),n=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",M),O.classList.toggle("react-flow__handle-valid",M))}function I(e){var r,a;(t||O)&&C&&M&&(null==i||i(C)),null==(r=(a=l()).onConnectEnd)||r.call(a,e),d&&(null==f||f(e)),a$(n),w(),cancelAnimationFrame(j),A=!1,M=!1,C=null,O=null,h.removeEventListener("mousemove",P),h.removeEventListener("mouseup",I),h.removeEventListener("touchmove",P),h.removeEventListener("touchend",I)}u({connectionPosition:_,connectionStatus:null,connectionNodeId:o,connectionHandleId:a,connectionHandleType:S,connectionStartHandle:{nodeId:o,handleId:a,type:S},connectionEndHandle:null}),null==v||v(r,{nodeId:o,handleId:a,handleType:S}),h.addEventListener("mousemove",P),h.addEventListener("mouseup",I),h.addEventListener("touchmove",P),h.addEventListener("touchend",I)}let a0=()=>!0,a1=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),a2=(0,c.forwardRef)((e,t)=>{let{type:n="source",position:r=s.Top,isValidConnection:a,isConnectable:o=!0,isConnectableStart:i=!0,isConnectableEnd:l=!0,id:u,onConnect:d,children:f,className:h,onMouseDown:p,onTouchStart:m,...g}=e,y=u||null,v="target"===n,x=r7(),b=(0,c.useContext)(aB),{connectOnClick:w,noPanClassName:j}=r8(a1,tM),{connecting:E,clickConnecting:N}=r8(((e,t,n)=>r=>{let{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:i}=r;return{connecting:(null==a?void 0:a.nodeId)===e&&(null==a?void 0:a.handleId)===t&&(null==a?void 0:a.type)===n||(null==o?void 0:o.nodeId)===e&&(null==o?void 0:o.handleId)===t&&(null==o?void 0:o.type)===n,clickConnecting:(null==i?void 0:i.nodeId)===e&&(null==i?void 0:i.handleId)===t&&(null==i?void 0:i.type)===n}})(b,y,n),tM);if(!b){var S,k;null==(S=(k=x.getState()).onError)||S.call(k,"010",r4.error010())}let _=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=x.getState(),a={...t,...e};if(r){let{edges:e,setEdges:t}=x.getState();t(((e,t)=>{let n;return e.source&&e.target?((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n=(e=>"id"in e&&"source"in e&&"target"in e)(e)?{...e}:{...e,id:(e=>{let{source:t,sourceHandle:n,target:r,targetHandle:a}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(a||"")})(e)},t)?t:t.concat(n):(am("006",r4.error006()),t)})(a,e))}null==n||n(a),null==d||d(a)},A=e=>{if(!b)return;let t="clientX"in e;i&&(t&&0===e.button||!t)&&aQ({event:e,handleId:y,nodeId:b,onConnect:_,isTarget:v,getState:x.getState,setState:x.setState,isValidConnection:a||x.getState().isValidConnection||a0}),t?null==p||p(e):null==m||m(e)};return c.default.createElement("div",{"data-handleid":y,"data-nodeid":b,"data-handlepos":r,"data-id":"".concat(b,"-").concat(y,"-").concat(n),className:tw(["react-flow__handle","react-flow__handle-".concat(r),"nodrag",j,h,{source:!v,target:v,connectable:o,connectablestart:i,connectableend:l,connecting:N,connectionindicator:o&&(i&&!E||l&&E)}]),onMouseDown:A,onTouchStart:A,onClick:w?e=>{let{onClickConnectStart:t,onClickConnectEnd:r,connectionClickStartHandle:o,connectionMode:s,isValidConnection:l}=x.getState();if(!b||!o&&!i)return;if(!o){null==t||t(e,{nodeId:b,handleId:y,handleType:n}),x.setState({connectionClickStartHandle:{nodeId:b,type:n,handleId:y}});return}let u=al(e.target),c=a||l||a0,{connection:d,isValid:f}=aW({nodeId:b,id:y,type:n},s,o.nodeId,o.handleId||null,o.type,c,u);f&&_(d),null==r||r(e),x.setState({connectionClickStartHandle:null})}:void 0,ref:t,...g},f)});a2.displayName="Handle";var a3=(0,c.memo)(a2);let a5=e=>{let{data:t,isConnectable:n,targetPosition:r=s.Top,sourcePosition:a=s.Bottom}=e;return c.default.createElement(c.default.Fragment,null,c.default.createElement(a3,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label,c.default.createElement(a3,{type:"source",position:a,isConnectable:n}))};a5.displayName="DefaultNode";var a4=(0,c.memo)(a5);let a6=e=>{let{data:t,isConnectable:n,sourcePosition:r=s.Bottom}=e;return c.default.createElement(c.default.Fragment,null,null==t?void 0:t.label,c.default.createElement(a3,{type:"source",position:r,isConnectable:n}))};a6.displayName="InputNode";var a8=(0,c.memo)(a6);let a7=e=>{let{data:t,isConnectable:n,targetPosition:r=s.Top}=e;return c.default.createElement(c.default.Fragment,null,c.default.createElement(a3,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label)};a7.displayName="OutputNode";var a9=(0,c.memo)(a7);let oe=()=>null;oe.displayName="GroupNode";let ot=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>({...e}))}),on=e=>e.id;function or(e,t){return tM(e.selectedNodes.map(on),t.selectedNodes.map(on))&&tM(e.selectedEdges.map(on),t.selectedEdges.map(on))}let oa=(0,c.memo)(e=>{let{onSelectionChange:t}=e,n=r7(),{selectedNodes:r,selectedEdges:a}=r8(ot,or);return(0,c.useEffect)(()=>{let e={nodes:r,edges:a};null==t||t(e),n.getState().onSelectionChange.forEach(t=>t(e))},[r,a,t]),null});oa.displayName="SelectionListener";let oo=e=>!!e.onSelectionChange;function oi(e){let{onSelectionChange:t}=e,n=r8(oo);return t||n?c.default.createElement(oa,{onSelectionChange:t}):null}let os=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ol(e,t){(0,c.useEffect)(()=>{void 0!==e&&t(e)},[e])}function ou(e,t,n){(0,c.useEffect)(()=>{void 0!==t&&n({[e]:t})},[t])}let oc=e=>{let{nodes:t,edges:n,defaultNodes:r,defaultEdges:a,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:f,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:y,maxZoom:v,nodeExtent:x,onNodesChange:b,onEdgesChange:w,elementsSelectable:j,connectionMode:E,snapGrid:N,snapToGrid:S,translateExtent:k,connectOnClick:_,defaultEdgeOptions:A,fitView:C,fitViewOptions:M,onNodesDelete:O,onEdgesDelete:T,onNodeDrag:R,onNodeDragStart:P,onNodeDragStop:I,onSelectionDrag:B,onSelectionDragStart:D,onSelectionDragStop:L,noPanClassName:z,nodeOrigin:F,rfId:U,autoPanOnConnect:H,autoPanOnNodeDrag:K,onError:G,connectionRadius:J,isValidConnection:V,nodeDragThreshold:q}=e,{setNodes:Y,setEdges:X,setDefaultNodesAndEdges:W,setMinZoom:Z,setMaxZoom:$,setTranslateExtent:Q,setNodeExtent:ee,reset:et}=r8(os,tM),en=r7();return(0,c.useEffect)(()=>(W(r,null==a?void 0:a.map(e=>({...e,...A}))),()=>{et()}),[]),ou("defaultEdgeOptions",A,en.setState),ou("connectionMode",E,en.setState),ou("onConnect",o,en.setState),ou("onConnectStart",i,en.setState),ou("onConnectEnd",s,en.setState),ou("onClickConnectStart",l,en.setState),ou("onClickConnectEnd",u,en.setState),ou("nodesDraggable",d,en.setState),ou("nodesConnectable",f,en.setState),ou("nodesFocusable",h,en.setState),ou("edgesFocusable",p,en.setState),ou("edgesUpdatable",m,en.setState),ou("elementsSelectable",j,en.setState),ou("elevateNodesOnSelect",g,en.setState),ou("snapToGrid",S,en.setState),ou("snapGrid",N,en.setState),ou("onNodesChange",b,en.setState),ou("onEdgesChange",w,en.setState),ou("connectOnClick",_,en.setState),ou("fitViewOnInit",C,en.setState),ou("fitViewOnInitOptions",M,en.setState),ou("onNodesDelete",O,en.setState),ou("onEdgesDelete",T,en.setState),ou("onNodeDrag",R,en.setState),ou("onNodeDragStart",P,en.setState),ou("onNodeDragStop",I,en.setState),ou("onSelectionDrag",B,en.setState),ou("onSelectionDragStart",D,en.setState),ou("onSelectionDragStop",L,en.setState),ou("noPanClassName",z,en.setState),ou("nodeOrigin",F,en.setState),ou("rfId",U,en.setState),ou("autoPanOnConnect",H,en.setState),ou("autoPanOnNodeDrag",K,en.setState),ou("onError",G,en.setState),ou("connectionRadius",J,en.setState),ou("isValidConnection",V,en.setState),ou("nodeDragThreshold",q,en.setState),ol(t,Y),ol(n,X),ol(y,Z),ol(v,$),ol(k,Q),ol(x,ee),null},od={display:"none"},of={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},oh="react-flow__node-desc",op="react-flow__edge-desc",om=e=>e.ariaLiveMessage;function og(e){let{rfId:t}=e,n=r8(om);return c.default.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:of},n)}function oy(e){let{rfId:t,disableKeyboardA11y:n}=e;return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{id:"".concat(oh,"-").concat(t),style:od},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),c.default.createElement("div",{id:"".concat(op,"-").concat(t),style:od},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&c.default.createElement(og,{rfId:t}))}var ov=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0},[n,r]=(0,c.useState)(!1),a=(0,c.useRef)(!1),o=(0,c.useRef)(new Set([])),[i,s]=(0,c.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,c.useEffect)(()=>{let n="undefined"!=typeof document?document:null,l=(null==t?void 0:t.target)||n;if(null!==e){let e=e=>{if(a.current=e.ctrlKey||e.metaKey||e.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&ag(e))return!1;let n=ob(e.code,s);o.current.add(e[n]),ox(i,o.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&ag(e))return!1;let n=ob(e.code,s);ox(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(e[n]),"Meta"===e.key&&o.current.clear(),a.current=!1},u=()=>{o.current.clear(),r(!1)};return null==l||l.addEventListener("keydown",e),null==l||l.addEventListener("keyup",n),window.addEventListener("blur",u),()=>{null==l||l.removeEventListener("keydown",e),null==l||l.removeEventListener("keyup",n),window.removeEventListener("blur",u)}}},[e,r]),n};function ox(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function ob(e,t){return t.includes(e)?"code":"key"}function ow(e,t,n){e.forEach(r=>{let a=r.parentNode||r.parentId;if(a&&!e.has(a))throw Error("Parent node ".concat(a," not found"));if(a||(null==n?void 0:n[r.id])){var o,i;let{x:a,y:s,z:l}=function e(t,n,r,a){var o,i,s,l,u,c,d,f;let h=t.parentNode||t.parentId;if(!h)return r;let p=n.get(h),m=aU(p,a);return e(p,n,{x:(null!=(s=r.x)?s:0)+m.x,y:(null!=(l=r.y)?l:0)+m.y,z:(null!=(u=null==(o=p[ah])?void 0:o.z)?u:0)>(null!=(c=r.z)?c:0)?null!=(d=null==(i=p[ah])?void 0:i.z)?d:0:null!=(f=r.z)?f:0},a)}(r,e,{...r.position,z:null!=(i=null==(o=r[ah])?void 0:o.z)?i:0},t);r.positionAbsolute={x:a,y:s},r[ah].z=l,(null==n?void 0:n[r.id])&&(r[ah].isParent=!0)}})}function oj(e,t,n,r){let a=new Map,o={},i=1e3*!!r;return e.forEach(e=>{var n;let r=(af(e.zIndex)?e.zIndex:0)+(e.selected?i:0),s=t.get(e.id),l={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},u=e.parentNode||e.parentId;u&&(o[u]=!0),Object.defineProperty(l,ah,{enumerable:!1,value:{handleBounds:(null==s?void 0:s.type)&&(null==s?void 0:s.type)!==e.type||null==s||null==(n=s[ah])?void 0:n.handleBounds,z:r}}),a.set(e.id,l)}),ow(a,n,o),a}function oE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{getNodes:n,width:r,height:a,minZoom:o,maxZoom:i,d3Zoom:s,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(s&&l&&(f||!t.initial)){let e=n().filter(e=>{var n;let r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return(null==(n=t.nodes)?void 0:n.length)?r&&t.nodes.some(t=>t.id===e.id):r}),u=e.every(e=>e.width&&e.height);if(e.length>0&&u){var h,p,m;let{x:n,y:u,zoom:c}=aJ(aH(e,d),r,a,null!=(h=t.minZoom)?h:o,null!=(p=t.maxZoom)?p:i,null!=(m=t.padding)?m:.1),f=rH.translate(n,u).scale(c);return"number"==typeof t.duration&&t.duration>0?s.transform(aV(l,t.duration),f):s.transform(l,f),!0}}return!1}function oN(e){let{changedNodes:t,changedEdges:n,get:r,set:a}=e,{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:u,hasDefaultEdges:c}=r();(null==t?void 0:t.length)&&(u&&a({nodeInternals:(t.forEach(e=>{let t=o.get(e.id);t&&o.set(t.id,{...t,[ah]:t[ah],selected:e.selected})}),new Map(o))}),null==s||s(t)),(null==n?void 0:n.length)&&(c&&a({edges:i.map(e=>{let t=n.find(t=>t.id===e.id);return t&&(e.selected=t.selected),e})}),null==l||l(n))}let oS=()=>{},ok={zoomIn:oS,zoomOut:oS,zoomTo:oS,getZoom:()=>1,setViewport:oS,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:oS,fitBounds:oS,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},o_=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function oA(){let e=(()=>{let e=r7(),{d3Zoom:t,d3Selection:n}=r8(o_,tM);return(0,c.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(aV(n,null==e?void 0:e.duration),1.2),zoomOut:e=>t.scaleBy(aV(n,null==e?void 0:e.duration),1/1.2),zoomTo:(e,r)=>t.scaleTo(aV(n,null==r?void 0:r.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(r,a)=>{var o,i,s;let[l,u,c]=e.getState().transform,d=rH.translate(null!=(o=r.x)?o:l,null!=(i=r.y)?i:u).scale(null!=(s=r.zoom)?s:c);t.transform(aV(n,null==a?void 0:a.duration),d)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>oE(e.getState,t),setCenter:(r,a,o)=>{let{width:i,height:s,maxZoom:l}=e.getState(),u=void 0!==(null==o?void 0:o.zoom)?o.zoom:l,c=i/2-r*u,d=s/2-a*u,f=rH.translate(c,d).scale(u);t.transform(aV(n,null==o?void 0:o.duration),f)},fitBounds:(r,a)=>{var o;let{width:i,height:s,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=aJ(r,i,s,l,u,null!=(o=null==a?void 0:a.padding)?o:.1),h=rH.translate(c,d).scale(f);t.transform(aV(n,null==a?void 0:a.duration),h)},project:t=>{let{transform:n,snapToGrid:r,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),az(t,n,r,a)},screenToFlowPosition:t=>{let{transform:n,snapToGrid:r,snapGrid:a,domNode:o}=e.getState();if(!o)return t;let{x:i,y:s}=o.getBoundingClientRect();return az({x:t.x-i,y:t.y-s},n,r,a)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:a,y:o}=r.getBoundingClientRect(),i=aF(t,n);return{x:i.x+a,y:i.y+o}},viewportInitialized:!0}:ok,[t,n])})(),t=r7(),n=(0,c.useCallback)(()=>t.getState().getNodes().map(e=>({...e})),[]),r=(0,c.useCallback)(e=>t.getState().nodeInternals.get(e),[]),a=(0,c.useCallback)(()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},[]),o=(0,c.useCallback)(e=>{let{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),i=(0,c.useCallback)(e=>{let{getNodes:n,setNodes:r,hasDefaultNodes:a,onNodesChange:o}=t.getState(),i=n(),s="function"==typeof e?e(i):e;a?r(s):o&&o(0===s.length?i.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"})))},[]),s=(0,c.useCallback)(e=>{let{edges:n=[],setEdges:r,hasDefaultEdges:a,onEdgesChange:o}=t.getState(),i="function"==typeof e?e(n):e;a?r(i):o&&o(0===i.length?n.map(e=>({type:"remove",id:e.id})):i.map(e=>({item:e,type:"reset"})))},[]),l=(0,c.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{getNodes:r,setNodes:a,hasDefaultNodes:o,onNodesChange:i}=t.getState();o?a([...r(),...n]):i&&i(n.map(e=>({item:e,type:"add"})))},[]),u=(0,c.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{edges:r=[],setEdges:a,hasDefaultEdges:o,onEdgesChange:i}=t.getState();o?a([...r,...n]):i&&i(n.map(e=>({item:e,type:"add"})))},[]),d=(0,c.useCallback)(()=>{let{getNodes:e,edges:n=[],transform:r}=t.getState(),[a,o,i]=r;return{nodes:e().map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:a,y:o,zoom:i}}},[]),f=(0,c.useCallback)(e=>{let{nodes:n,edges:r}=e,{nodeInternals:a,getNodes:o,edges:i,hasDefaultNodes:s,hasDefaultEdges:l,onNodesDelete:u,onEdgesDelete:c,onNodesChange:d,onEdgesChange:f}=t.getState(),h=(n||[]).map(e=>e.id),p=(r||[]).map(e=>e.id),m=o().reduce((e,t)=>{let n=t.parentNode||t.parentId,r=!h.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!=typeof t.deletable||t.deletable)&&(h.includes(t.id)||r)&&e.push(t),e},[]),g=i.filter(e=>"boolean"!=typeof e.deletable||e.deletable),y=g.filter(e=>p.includes(e.id));if(m||y){let e=[...y,...aG(m,g)],n=e.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);(l||s)&&(l&&t.setState({edges:i.filter(e=>!n.includes(e.id))}),s&&(m.forEach(e=>{a.delete(e.id)}),t.setState({nodeInternals:new Map(a)}))),n.length>0&&(null==c||c(e),f&&f(n.map(e=>({id:e,type:"remove"})))),m.length>0&&(null==u||u(m),d&&d(m.map(e=>({id:e.id,type:"remove"}))))}},[]),h=(0,c.useCallback)(e=>{let n=af(e.width)&&af(e.height)&&af(e.x)&&af(e.y),r=n?null:t.getState().nodeInternals.get(e.id);return n||r?[n?e:ac(r),r,n]:[null,null,n]},[]),p=(0,c.useCallback)(function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,[a,o,i]=h(e);return a?(r||t.getState().getNodes()).filter(e=>{if(!i&&(e.id===o.id||!e.positionAbsolute))return!1;let t=ad(ac(e),a);return n&&t>0||t>=a.width*a.height}):[]},[]),m=(0,c.useCallback)(function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[r]=h(e);if(!r)return!1;let a=ad(r,t);return n&&a>0||a>=r.width*r.height},[]);return(0,c.useMemo)(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:o,setNodes:i,setEdges:s,addNodes:l,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:m}),[e,n,r,a,o,i,s,l,u,d,f,p,m])}let oC={actInsideInputWithModifier:!1},oM={position:"absolute",width:"100%",height:"100%",top:0,left:0},oO=e=>({x:e.x,y:e.y,zoom:e.k}),oT=(e,t)=>e.target.closest(".".concat(t)),oR=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),oP=e=>{let t=e.ctrlKey&&av()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},oI=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),oB=e=>{let{onMove:t,onMoveStart:n,onMoveEnd:a,onPaneContextMenu:o,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:u=.5,panOnScrollMode:d=r.Free,zoomOnDoubleClick:f=!0,elementsSelectable:h,panOnDrag:p=!0,defaultViewport:m,translateExtent:g,minZoom:y,maxZoom:v,zoomActivationKeyCode:x,preventScrolling:b=!0,children:w,noWheelClassName:j,noPanClassName:E}=e,N=(0,c.useRef)(),S=r7(),k=(0,c.useRef)(!1),_=(0,c.useRef)(!1),A=(0,c.useRef)(null),C=(0,c.useRef)({x:0,y:0,zoom:0}),{d3Zoom:M,d3Selection:O,d3ZoomHandler:T,userSelectionActive:R}=r8(oI,tM),P=ov(x),I=(0,c.useRef)(0),B=(0,c.useRef)(!1),D=(0,c.useRef)();return!function(e){let t=r7();(0,c.useEffect)(()=>{let n,r=()=>{if(!e.current)return;let n=ar(e.current);if(0===n.height||0===n.width){var r,a;null==(r=(a=t.getState()).onError)||r.call(a,"004",r4.error004())}t.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r())).observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}(A),(0,c.useEffect)(()=>{if(A.current){let e=A.current.getBoundingClientRect(),t=(function(){var e,t,n,r=rJ,a=rV,o=rW,i=rY,s=rX,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,d=nb,f=tT("start","zoom","end"),h=0,p=10;function m(e){e.property("__zoom",rq).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",N).filter(s).on("touchstart.zoom",S).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",_).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new rU(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,a=t[1]-n[1]*e.k;return r===e.x&&a===e.y?e:new rU(e.k,r,a)}function v(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=arguments,o=b(this,e).event(r),i=a.apply(this,e),s=null==n?v(i):"function"==typeof n?n.apply(this,e):n,l=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),u=this.__zoom,c="function"==typeof t?t.apply(this,e):t,f=d(u.invert(s).concat(l/u.k),c.invert(s).concat(l/c.k));return function(e){if(1===e)e=c;else{var t=f(e),n=l/t[2];e=new rU(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=a.apply(e,t),this.taps=0}function j(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var s=b(this,n).event(e),c=this.__zoom,d=Math.max(l[0],Math.min(l[1],c.k*Math.pow(2,i.apply(this,arguments)))),f=nw(e);if(s.wheel)(s.mouse[0][0]!==f[0]||s.mouse[0][1]!==f[1])&&(s.mouse[1]=c.invert(s.mouse[0]=f)),clearTimeout(s.wheel);else{if(c.k===d)return;s.mouse=[f,c.invert(f)],nY(this),s.start()}rG(e),s.wheel=setTimeout(function(){s.wheel=null,s.end()},150),s.zoom("mouse",o(y(g(c,d),s.mouse[0],s.mouse[1]),s.extent,u))}}function E(e){for(var t=arguments.length,a=Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=b(this,a,!0).event(e),c=nf(e.view).on("mousemove.zoom",function(e){if(rG(e),!l.moved){var t=e.clientX-f,n=e.clientY-p;l.moved=t*t+n*n>h}l.event(e).zoom("mouse",o(y(l.that.__zoom,l.mouse[0]=nw(e,s),l.mouse[1]),l.extent,u))},!0).on("mouseup.zoom",function(e){c.on("mousemove.zoom mouseup.zoom",null),nv(e.view,l.moved),rG(e),l.event(e).end()},!0),d=nw(e,s),f=e.clientX,p=e.clientY;ny(e.view),rK(e),l.mouse=[d,this.__zoom.invert(d)],nY(this),l.start()}}function N(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=this.__zoom,l=nw(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),f=s.k*(e.shiftKey?.5:2),h=o(y(g(s,f),l,d),a.apply(this,n),u);rG(e),c>0?nf(this).transition().duration(c).call(x,h,l,e):nf(this).call(m.transform,h,l,e)}}function S(n){for(var a=arguments.length,o=Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];if(r.apply(this,arguments)){var s,l,u,c,d=n.touches,f=d.length,h=b(this,o,n.changedTouches.length===f).event(n);for(rK(n),l=0;l<f;++l)c=[c=nw(u=d[l],this),this.__zoom.invert(c),u.identifier],h.touch0?h.touch1||h.touch0[2]===c[2]||(h.touch1=c,h.taps=0):(h.touch0=c,s=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(h.taps<2&&(t=c[0],e=setTimeout(function(){e=null},500)),nY(this),h.start())}}function k(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.__zooming){var a,i,s,l,c=b(this,n).event(e),d=e.changedTouches,f=d.length;for(rG(e),a=0;a<f;++a)s=nw(i=d[a],this),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=s:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=s);if(i=c.that.__zoom,c.touch1){var h=c.touch0[0],p=c.touch0[1],m=c.touch1[0],v=c.touch1[1],x=(x=m[0]-h[0])*x+(x=m[1]-h[1])*x,w=(w=v[0]-p[0])*w+(w=v[1]-p[1])*w;i=g(i,Math.sqrt(x/w)),s=[(h[0]+m[0])/2,(h[1]+m[1])/2],l=[(p[0]+v[0])/2,(p[1]+v[1])/2]}else{if(!c.touch0)return;s=c.touch0[0],l=c.touch0[1]}c.zoom("touch",o(y(i,s,l),c.extent,u))}}function _(e){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(this.__zooming){var i,s,l=b(this,a).event(e),u=e.changedTouches,c=u.length;for(rK(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<c;++i)s=u[i],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=nw(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<p)){var d=nf(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var a=e.selection?e.selection():e;a.property("__zoom",rq),e!==a?x(e,t,n,r):a.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=a.apply(this,arguments),r=this.__zoom,i=null==n?v(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(i),l="function"==typeof t?t.apply(this,arguments):t;return o(y(g(r,l),i,s),e,u)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),a.apply(this,arguments),u)},null,r)},m.translateTo=function(e,t,n,r,i){m.transform(e,function(){var e=a.apply(this,arguments),i=this.__zoom,s=null==r?v(e):"function"==typeof r?r.apply(this,arguments):r;return o(rH.translate(s[0],s[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,u)},r,i)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=nf(this.that).datum();f.call(e,this.that,new rF(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:f}),t)}},m.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:rz(+e),m):i},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:rz(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"==typeof e?e:rz(!!e),m):s},m.extent=function(e){return arguments.length?(a="function"==typeof e?e:rz([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):a},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(e){return arguments.length?(o=e,m):o},m.duration=function(e){return arguments.length?(c=+e,m):c},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=f.on.apply(f,arguments);return e===f?m:e},m.clickDistance=function(e){return arguments.length?(h=(e*=1)*e,m):Math.sqrt(h)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m})().scaleExtent([y,v]).translateExtent(g),n=nf(A.current).call(t),r=rH.translate(m.x,m.y).scale(aa(m.zoom,y,v)),a=[[0,0],[e.width,e.height]],o=t.constrain()(r,a,g);t.transform(n,o),t.wheelDelta(oP),S.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[o.x,o.y,o.k],domNode:A.current.closest(".react-flow")})}},[]),(0,c.useEffect)(()=>{O&&M&&(!l||P||R?void 0!==T&&O.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||oT(e,j))return null;e.preventDefault(),T.call(this,e,t)},{passive:!1}):O.on("wheel.zoom",e=>{if(oT(e,j))return!1;e.preventDefault(),e.stopImmediatePropagation();let o=O.property("__zoom").k||1;if(e.ctrlKey&&s){let t=nw(e),n=o*Math.pow(2,oP(e));M.scaleTo(O,n,t,e);return}let i=1===e.deltaMode?20:1,l=d===r.Vertical?0:e.deltaX*i,c=d===r.Horizontal?0:e.deltaY*i;!av()&&e.shiftKey&&d!==r.Vertical&&(l=e.deltaY*i,c=0),M.translateBy(O,-(l/o)*u,-(c/o)*u,{internal:!0});let f=oO(O.property("__zoom")),{onViewportChangeStart:h,onViewportChange:p,onViewportChangeEnd:m}=S.getState();clearTimeout(D.current),B.current||(B.current=!0,null==n||n(e,f),null==h||h(f)),B.current&&(null==t||t(e,f),null==p||p(f),D.current=setTimeout(()=>{null==a||a(e,f),null==m||m(f),B.current=!1},150))},{passive:!1}))},[R,l,d,O,M,T,P,s,b,j,n,t,a]),(0,c.useEffect)(()=>{M&&M.on("start",e=>{var t,r;if(!e.sourceEvent||e.sourceEvent.internal)return null;I.current=null==(t=e.sourceEvent)?void 0:t.button;let{onViewportChangeStart:a}=S.getState(),o=oO(e.transform);k.current=!0,C.current=o,(null==(r=e.sourceEvent)?void 0:r.type)==="mousedown"&&S.setState({paneDragging:!0}),null==a||a(o),null==n||n(e.sourceEvent,o)})},[M,n]),(0,c.useEffect)(()=>{M&&(R&&!k.current?M.on("zoom",null):R||M.on("zoom",e=>{var n,r;let{onViewportChange:a}=S.getState();if(S.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),_.current=!!(o&&oR(p,null!=(r=I.current)?r:0)),(t||a)&&!(null==(n=e.sourceEvent)?void 0:n.internal)){let n=oO(e.transform);null==a||a(n),null==t||t(e.sourceEvent,n)}}))},[R,M,t,p,o]),(0,c.useEffect)(()=>{M&&M.on("end",e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;let{onViewportChangeEnd:n}=S.getState();if(k.current=!1,S.setState({paneDragging:!1}),o&&oR(p,null!=(t=I.current)?t:0)&&!_.current&&o(e.sourceEvent),_.current=!1,(a||n)&&((e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k)(C.current,e.transform)){let t=oO(e.transform);C.current=t,clearTimeout(N.current),N.current=setTimeout(()=>{null==n||n(t),null==a||a(e.sourceEvent,t)},150*!!l)}})},[M,l,p,a,o]),(0,c.useEffect)(()=>{M&&M.filter(e=>{let t=P||i,n=s&&e.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===e.button&&"mousedown"===e.type&&(oT(e,"react-flow__node")||oT(e,"react-flow__edge")))return!0;if(!p&&!t&&!l&&!f&&!s||R||!f&&"dblclick"===e.type||oT(e,j)&&"wheel"===e.type||oT(e,E)&&("wheel"!==e.type||l&&"wheel"===e.type&&!P)||!s&&e.ctrlKey&&"wheel"===e.type||!t&&!l&&!n&&"wheel"===e.type||!p&&("mousedown"===e.type||"touchstart"===e.type)||Array.isArray(p)&&!p.includes(e.button)&&"mousedown"===e.type)return!1;let r=Array.isArray(p)&&p.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[R,M,i,s,l,f,p,h,P]),c.default.createElement("div",{className:"react-flow__renderer",ref:A,style:oM},w)},oD=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function oL(){let{userSelectionActive:e,userSelectionRect:t}=r8(oD,tM);return e&&t?c.default.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}function oz(e,t){let n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){let e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var a,o;if(r.style={...r.style},r.style.width=null!=(a=r.style.width)?a:r.width,r.style.height=null!=(o=r.style.height)?o:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){let e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){let e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function oF(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);let n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{let r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;let a={...n};for(let e of r)if(e)switch(e.type){case"select":a.selected=e.selected;break;case"position":void 0!==e.position&&(a.position=e.position),void 0!==e.positionAbsolute&&(a.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(a.dragging=e.dragging),a.expandParent&&oz(t,a);break;case"dimensions":void 0!==e.dimensions&&(a.width=e.dimensions.width,a.height=e.dimensions.height),void 0!==e.updateStyle&&(a.style={...a.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(a.resizing=e.resizing),a.expandParent&&oz(t,a);break;case"remove":return t}return t.push(a),t},n)}function oU(e,t){return oF(e,t)}let oH=(e,t)=>({id:e,type:"select",selected:t});function oK(e,t){return e.reduce((e,n)=>{let r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(oH(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(oH(n.id,!1))),e},[])}let oG=(e,t)=>n=>{n.target===t.current&&(null==e||e(n))},oJ=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),oV=(0,c.memo)(e=>{let{isSelecting:t,selectionMode:n=a.Full,panOnDrag:r,onSelectionStart:o,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:h,children:p}=e,m=(0,c.useRef)(null),g=r7(),y=(0,c.useRef)(0),v=(0,c.useRef)(0),x=(0,c.useRef)(),{userSelectionActive:b,elementsSelectable:w,dragging:j}=r8(oJ,tM),E=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},N=e=>{null==s||s(e),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},S=w&&(t||b);return c.default.createElement("div",{className:tw(["react-flow__pane",{dragging:j,selection:t}]),onClick:S?void 0:oG(N,m),onContextMenu:oG(e=>{if(Array.isArray(r)&&(null==r?void 0:r.includes(2)))return void e.preventDefault();null==l||l(e)},m),onWheel:oG(u?e=>u(e):void 0,m),onMouseEnter:S?void 0:d,onMouseDown:S?e=>{let{resetSelectedElements:n,domNode:r}=g.getState();if(x.current=null==r?void 0:r.getBoundingClientRect(),!w||!t||0!==e.button||e.target!==m.current||!x.current)return;let{x:a,y:i}=ay(e,x.current);n(),g.setState({userSelectionRect:{width:0,height:0,startX:a,startY:i,x:a,y:i}}),null==o||o(e)}:void 0,onMouseMove:S?e=>{var r,o;let{userSelectionRect:i,nodeInternals:s,edges:l,transform:u,onNodesChange:c,onEdgesChange:d,nodeOrigin:f,getNodes:h}=g.getState();if(!t||!x.current||!i)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});let p=ay(e,x.current),m=null!=(r=i.startX)?r:0,b=null!=(o=i.startY)?o:0,w={...i,x:p.x<m?p.x:m,y:p.y<b?p.y:b,width:Math.abs(p.x-m),height:Math.abs(p.y-b)},j=h(),E=aK(s,w,u,n===a.Partial,!0,f),N=aG(E,l).map(e=>e.id),S=E.map(e=>e.id);if(y.current!==S.length){y.current=S.length;let e=oK(j,S);e.length&&(null==c||c(e))}if(v.current!==N.length){v.current=N.length;let e=oK(l,N);e.length&&(null==d||d(e))}g.setState({userSelectionRect:w})}:f,onMouseUp:S?e=>{if(0!==e.button)return;let{userSelectionRect:t}=g.getState();!b&&t&&e.target===m.current&&(null==N||N(e)),g.setState({nodesSelectionActive:y.current>0}),E(),null==i||i(e)}:void 0,onMouseLeave:S?e=>{b&&(g.setState({nodesSelectionActive:y.current>0}),null==i||i(e)),E()}:h,ref:m,style:oM},p,c.default.createElement(oL,null))});function oq(e,t,n){let r=e;do{if(null==r?void 0:r.matches(t))return!0;if(r===n.current)break;r=r.parentElement}while(r)return!1}function oY(e,t,n,r){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0,s=(a=e.extent||r)&&"parent"!==a?[a[0],[a[1][0]-(e.width||0),a[1][1]-(e.height||0)]]:a,l=s,u=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&u&&"parent"!==e.extent){let{x:t,y:r}=aU(n.get(u),o).positionAbsolute;l=[[e.extent[0][0]+t,e.extent[0][1]+r],[e.extent[1][0]+t,e.extent[1][1]+r]]}}else if(u&&e.width&&e.height){let t=n.get(u),{x:r,y:a}=aU(t,o).positionAbsolute;l=t&&af(r)&&af(a)&&af(t.width)&&af(t.height)?[[r+e.width*o[0],a+e.height*o[1]],[r+t.width-e.width+e.width*o[0],a+t.height-e.height+e.height*o[1]]]:l}else null==i||i("005",r4.error005()),l=s;let c={x:0,y:0};u&&(c=aU(n.get(u),o).positionAbsolute);let d=l&&"parent"!==l?ao(t,l):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function oX(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e,a=n.map(e=>({...r.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute}));return[t?a.find(e=>e.id===t):a[0],a]}oV.displayName="Pane";let oW=(e,t,n,r)=>{let a=t.querySelectorAll(e);if(!a||!a.length)return null;let o=Array.from(a),i=t.getBoundingClientRect(),s={x:i.width*r[0],y:i.height*r[1]};return o.map(e=>{let t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-i.left-s.x)/n,y:(t.top-i.top-s.y)/n,...ar(e)}})};function oZ(e,t,n){return void 0===n?n:r=>{let a=t().nodeInternals.get(e);a&&n(r,{...a})}}function o$(e){let{id:t,store:n,unselect:r=!1,nodeRef:a}=e,{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:u}=n.getState(),c=l.get(t);if(!c){null==u||u("012",r4.error012(t));return}n.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&s)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var e;return null==a||null==(e=a.current)?void 0:e.blur()})):o([t])}function oQ(e){return(t,n,r)=>null==e?void 0:e(t,r)}function o0(e){let{nodeRef:t,disabled:n=!1,noDragClassName:r,handleSelector:a,nodeId:o,isSelectable:i,selectNodesOnDrag:s}=e,l=r7(),[u,d]=(0,c.useState)(!1),f=(0,c.useRef)([]),h=(0,c.useRef)({x:null,y:null}),p=(0,c.useRef)(0),m=(0,c.useRef)(null),g=(0,c.useRef)({x:0,y:0}),y=(0,c.useRef)(null),v=(0,c.useRef)(!1),x=(0,c.useRef)(!1),b=(0,c.useRef)(!1),w=function(){let e=r7();return(0,c.useCallback)(t=>{let{sourceEvent:n}=t,{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(i-r[0])/r[2],y:(s-r[1])/r[2]};return{xSnapped:o?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:o?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}();return(0,c.useEffect)(()=>{if(null==t?void 0:t.current){let e=nf(t.current),u=e=>{let{x:t,y:n}=e,{nodeInternals:r,onNodeDrag:a,onSelectionDrag:i,updateNodePositions:s,nodeExtent:u,snapGrid:c,snapToGrid:p,nodeOrigin:m,onError:g}=l.getState();h.current={x:t,y:n};let v=!1,x={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&u&&(x=au(aH(f.current,m))),f.current=f.current.map(e=>{let a={x:t-e.distance.x,y:n-e.distance.y};p&&(a.x=c[0]*Math.round(a.x/c[0]),a.y=c[1]*Math.round(a.y/c[1]));let o=[[u[0][0],u[0][1]],[u[1][0],u[1][1]]];if(f.current.length>1&&u&&!e.extent){var i,s;o[0][0]=e.positionAbsolute.x-x.x+u[0][0],o[1][0]=e.positionAbsolute.x+(null!=(i=e.width)?i:0)-x.x2+u[1][0],o[0][1]=e.positionAbsolute.y-x.y+u[0][1],o[1][1]=e.positionAbsolute.y+(null!=(s=e.height)?s:0)-x.y2+u[1][1]}let l=oY(e,a,r,o,m,g);return v=v||e.position.x!==l.position.x||e.position.y!==l.position.y,e.position=l.position,e.positionAbsolute=l.positionAbsolute,e}),!v)return;s(f.current,!0,!0),d(!0);let b=o?a:oQ(i);if(b&&y.current){let[e,t]=oX({nodeId:o,dragItems:f.current,nodeInternals:r});b(y.current,e,t)}},c=()=>{if(!m.current)return;let[e,t]=as(g.current,m.current);if(0!==e||0!==t){var n,r;let{transform:a,panBy:o}=l.getState();h.current.x=(null!=(n=h.current.x)?n:0)-e/a[2],h.current.y=(null!=(r=h.current.y)?r:0)-t/a[2],o({x:e,y:t})&&u(h.current)}p.current=requestAnimationFrame(c)},j=e=>{var n;let{nodeInternals:r,multiSelectionActive:a,nodesDraggable:u,unselectNodesAndEdges:c,onNodeDragStart:d,onSelectionDragStart:p}=l.getState();x.current=!0;let m=o?d:oQ(p);(!s||!i)&&!a&&o&&((null==(n=r.get(o))?void 0:n.selected)||c()),o&&i&&s&&o$({id:o,store:l,nodeRef:t});let g=w(e);if(h.current=g,f.current=Array.from(r.values()).filter(e=>(e.selected||e.id===o)&&(!e.parentNode||e.parentId||!function e(t,n){let r=t.parentNode||t.parentId;if(!r)return!1;let a=n.get(r);return!!a&&(!!a.selected||e(a,n))}(e,r))&&(e.draggable||u&&void 0===e.draggable)).map(e=>{var t,n,r,a;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:g.x-(null!=(r=null==(t=e.positionAbsolute)?void 0:t.x)?r:0),y:g.y-(null!=(a=null==(n=e.positionAbsolute)?void 0:n.y)?a:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}}),m&&f.current){let[t,n]=oX({nodeId:o,dragItems:f.current,nodeInternals:r});m(e.sourceEvent,t,n)}};if(n)e.on(".drag",null);else{let n=(function(){var e,t,n,r,a=rQ,o=r0,i=r1,s=r2,l={},u=tT("start","drag","end"),c=0,d=0;function f(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",g).on("touchmove.drag",y,nh).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(i,s){if(!r&&a.call(this,i,s)){var l=x(this,o.call(this,i,s),i,s,"mouse");l&&(nf(i.view).on("mousemove.drag",p,np).on("mouseup.drag",m,np),ny(i.view),nm(i),n=!1,e=i.clientX,t=i.clientY,l("start",i))}}function p(r){if(ng(r),!n){var a=r.clientX-e,o=r.clientY-t;n=a*a+o*o>d}l.mouse("drag",r)}function m(e){nf(e.view).on("mousemove.drag mouseup.drag",null),nv(e.view,n),ng(e),l.mouse("end",e)}function g(e,t){if(a.call(this,e,t)){var n,r,i=e.changedTouches,s=o.call(this,e,t),l=i.length;for(n=0;n<l;++n)(r=x(this,s,e,t,i[n].identifier,i[n]))&&(nm(e),r("start",e,i[n]))}}function y(e){var t,n,r=e.changedTouches,a=r.length;for(t=0;t<a;++t)(n=l[r[t].identifier])&&(ng(e),n("drag",e,r[t]))}function v(e){var t,n,a=e.changedTouches,o=a.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<o;++t)(n=l[a[t].identifier])&&(nm(e),n("end",e,a[t]))}function x(e,t,n,r,a,o){var s,d,h,p=u.copy(),m=nw(o||n,t);if(null!=(h=i.call(e,new r$("beforestart",{sourceEvent:n,target:f,identifier:a,active:c,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return s=h.x-m[0]||0,d=h.y-m[1]||0,function n(o,i,u){var g,y=m;switch(o){case"start":l[a]=n,g=c++;break;case"end":delete l[a],--c;case"drag":m=nw(u||i,t),g=c}p.call(o,e,new r$(o,{sourceEvent:i,subject:h,target:f,identifier:a,active:g,x:m[0]+s,y:m[1]+d,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(a="function"==typeof e?e:rZ(!!e),f):a},f.container=function(e){return arguments.length?(o="function"==typeof e?e:rZ(e),f):o},f.subject=function(e){return arguments.length?(i="function"==typeof e?e:rZ(e),f):i},f.touchable=function(e){return arguments.length?(s="function"==typeof e?e:rZ(!!e),f):s},f.on=function(){var e=u.on.apply(u,arguments);return e===u?f:e},f.clickDistance=function(e){return arguments.length?(d=(e*=1)*e,f):Math.sqrt(d)},f})().on("start",e=>{let{domNode:t,nodeDragThreshold:n}=l.getState();0===n&&j(e),b.current=!1,h.current=w(e),m.current=(null==t?void 0:t.getBoundingClientRect())||null,g.current=ay(e.sourceEvent,m.current)}).on("drag",e=>{let t=w(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=l.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!v.current&&x.current&&n&&(v.current=!0,c()),!x.current){var a,o,i,s;let n=t.xSnapped-(null!=(i=null==h||null==(a=h.current)?void 0:a.x)?i:0),l=t.ySnapped-(null!=(s=null==h||null==(o=h.current)?void 0:o.y)?s:0);Math.sqrt(n*n+l*l)>r&&j(e)}(h.current.x!==t.xSnapped||h.current.y!==t.ySnapped)&&f.current&&x.current&&(y.current=e.sourceEvent,g.current=ay(e.sourceEvent,m.current),u(t))}}).on("end",e=>{if(x.current&&!b.current&&(d(!1),v.current=!1,x.current=!1,cancelAnimationFrame(p.current),f.current)){let{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:a}=l.getState(),i=o?r:oQ(a);if(t(f.current,!1,!1),i){let[t,r]=oX({nodeId:o,dragItems:f.current,nodeInternals:n});i(e.sourceEvent,t,r)}}}).filter(e=>{let n=e.target;return!e.button&&(!r||!oq(n,".".concat(r),t))&&(!a||oq(n,a,t))});return e.call(n),()=>{e.on(".drag",null)}}}},[t,n,r,a,i,l,o,s,w]),u}function o1(){let e=r7();return(0,c.useCallback)(t=>{let{nodeInternals:n,nodeExtent:r,updateNodePositions:a,getNodes:o,snapToGrid:i,snapGrid:s,onError:l,nodesDraggable:u}=e.getState(),c=o().filter(e=>e.selected&&(e.draggable||u&&void 0===e.draggable)),d=i?s[0]:5,f=i?s[1]:5,h=t.isShiftPressed?4:1,p=t.x*d*h,m=t.y*f*h;a(c.map(e=>{if(e.positionAbsolute){let t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+m};i&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));let{positionAbsolute:a,position:o}=oY(e,t,n,r,void 0,l);e.position=o,e.positionAbsolute=a}return e}),!0,!1)},[])}let o2={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var o3=e=>{let t=t=>{let{id:n,type:r,data:a,xPos:o,yPos:i,xPosOrigin:s,yPosOrigin:l,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:m,onDoubleClick:g,style:y,className:v,isDraggable:x,isSelectable:b,isConnectable:w,isFocusable:j,selectNodesOnDrag:E,sourcePosition:N,targetPosition:S,hidden:k,resizeObserver:_,dragHandle:A,zIndex:C,isParent:M,noDragClassName:O,noPanClassName:T,initialized:R,disableKeyboardA11y:P,ariaLabel:I,rfId:B,hasHandleBounds:D}=t,L=r7(),z=(0,c.useRef)(null),F=(0,c.useRef)(null),U=(0,c.useRef)(N),H=(0,c.useRef)(S),K=(0,c.useRef)(r),G=b||x||d||f||h||p,J=o1(),V=oZ(n,L.getState,f),q=oZ(n,L.getState,h),Y=oZ(n,L.getState,p),X=oZ(n,L.getState,m),W=oZ(n,L.getState,g);(0,c.useEffect)(()=>()=>{F.current&&(null==_||_.unobserve(F.current),F.current=null)},[]),(0,c.useEffect)(()=>{if(z.current&&!k){let e=z.current;R&&D&&F.current===e||(F.current&&(null==_||_.unobserve(F.current)),null==_||_.observe(e),F.current=e)}},[k,R,D]),(0,c.useEffect)(()=>{let e=K.current!==r,t=U.current!==N,a=H.current!==S;z.current&&(e||t||a)&&(e&&(K.current=r),t&&(U.current=N),a&&(H.current=S),L.getState().updateNodeDimensions([{id:n,nodeElement:z.current,forceUpdate:!0}]))},[n,r,N,S]);let Z=o0({nodeRef:z,disabled:k||!x,noDragClassName:O,handleSelector:A,nodeId:n,isSelectable:b,selectNodesOnDrag:E});return k?null:c.default.createElement("div",{className:tw(["react-flow__node","react-flow__node-".concat(r),{[T]:x},v,{selected:u,selectable:b,parent:M,dragging:Z}]),ref:z,style:{zIndex:C,transform:"translate(".concat(s,"px,").concat(l,"px)"),pointerEvents:G?"all":"none",visibility:R?"visible":"hidden",...y},"data-id":n,"data-testid":"rf__node-".concat(n),onMouseEnter:V,onMouseMove:q,onMouseLeave:Y,onContextMenu:X,onClick:e=>{let{nodeDragThreshold:t}=L.getState();if(b&&(!E||!x||t>0)&&o$({id:n,store:L,nodeRef:z}),d){let t=L.getState().nodeInternals.get(n);t&&d(e,{...t})}},onDoubleClick:W,onKeyDown:j?e=>{!ag(e)&&!P&&(ap.includes(e.key)&&b?o$({id:n,store:L,unselect:"Escape"===e.key,nodeRef:z}):x&&u&&Object.prototype.hasOwnProperty.call(o2,e.key)&&(L.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~o,", y: ").concat(~~i)}),J({x:o2[e.key].x,y:o2[e.key].y,isShiftPressed:e.shiftKey})))}:void 0,tabIndex:j?0:void 0,role:j?"button":void 0,"aria-describedby":P?void 0:"".concat(oh,"-").concat(B),"aria-label":I},c.default.createElement(aD,{value:n},c.default.createElement(e,{id:n,data:a,type:r,xPos:o,yPos:i,selected:u,isConnectable:w,sourcePosition:N,targetPosition:S,dragging:Z,dragHandle:A,zIndex:C})))};return t.displayName="NodeWrapper",(0,c.memo)(t)};let o5=e=>({...aH(e.getNodes().filter(e=>e.selected),e.nodeOrigin),transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive});var o4=(0,c.memo)(function(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:r}=e,a=r7(),{width:o,height:i,x:s,y:l,transformString:u,userSelectionActive:d}=r8(o5,tM),f=o1(),h=(0,c.useRef)(null);if((0,c.useEffect)(()=>{if(!r){var e;null==(e=h.current)||e.focus({preventScroll:!0})}},[r]),o0({nodeRef:h}),d||!o||!i)return null;let p=t?e=>{t(e,a.getState().getNodes().filter(e=>e.selected))}:void 0;return c.default.createElement("div",{className:tw(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u}},c.default.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:e=>{Object.prototype.hasOwnProperty.call(o2,e.key)&&f({x:o2[e.key].x,y:o2[e.key].y,isShiftPressed:e.shiftKey})},style:{width:o,height:i,top:l,left:s}}))});let o6=e=>e.nodesSelectionActive,o8=e=>{let{children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:l,onMove:u,onMoveStart:d,onMoveEnd:f,selectionKeyCode:h,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:b,elementsSelectable:w,zoomOnScroll:j,zoomOnPinch:E,panOnScroll:N,panOnScrollSpeed:S,panOnScrollMode:k,zoomOnDoubleClick:_,panOnDrag:A,defaultViewport:C,translateExtent:M,minZoom:O,maxZoom:T,preventScrolling:R,onSelectionContextMenu:P,noWheelClassName:I,noPanClassName:B,disableKeyboardA11y:D}=e,L=r8(o6),z=ov(h),F=ov(x),U=F||A,H=F||N,K=z||p&&!0!==U;return(e=>{let{deleteKeyCode:t,multiSelectionKeyCode:n}=e,r=r7(),{deleteElements:a}=oA(),o=ov(t,oC),i=ov(n);(0,c.useEffect)(()=>{if(o){let{edges:e,getNodes:t}=r.getState();a({nodes:t().filter(e=>e.selected),edges:e.filter(e=>e.selected)}),r.setState({nodesSelectionActive:!1})}},[o]),(0,c.useEffect)(()=>{r.setState({multiSelectionActive:i})},[i])})({deleteKeyCode:l,multiSelectionKeyCode:v}),c.default.createElement(oB,{onMove:u,onMoveStart:d,onMoveEnd:f,onPaneContextMenu:i,elementsSelectable:w,zoomOnScroll:j,zoomOnPinch:E,panOnScroll:H,panOnScrollSpeed:S,panOnScrollMode:k,zoomOnDoubleClick:_,panOnDrag:!z&&U,defaultViewport:C,translateExtent:M,minZoom:O,maxZoom:T,zoomActivationKeyCode:b,preventScrolling:R,noWheelClassName:I,noPanClassName:B},c.default.createElement(oV,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:U,isSelecting:!!K,selectionMode:m},t,L&&c.default.createElement(o4,{onSelectionContextMenu:P,noPanClassName:B,disableKeyboardA11y:D})))};o8.displayName="FlowRenderer";var o7=(0,c.memo)(o8);function o9(e){let t={input:o3(e.input||a8),default:o3(e.default||a4),output:o3(e.output||a9),group:o3(e.group||oe)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=o3(e[n]||a4),t),{});return{...t,...n}}let ie=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),it=e=>{let{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:o,onError:i}=r8(ie,tM),l=function(e){return r8((0,c.useCallback)(t=>e?aK(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[e]))}(e.onlyRenderVisibleElements),u=(0,c.useRef)(),d=(0,c.useMemo)(()=>{if("undefined"==typeof ResizeObserver)return null;let e=new ResizeObserver(e=>{o(e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})))});return u.current=e,e},[]);return(0,c.useEffect)(()=>()=>{var e;null==u||null==(e=u.current)||e.disconnect()},[]),c.default.createElement("div",{className:"react-flow__nodes",style:oM},l.map(o=>{var l,u,f,h,p,m,g,y;let v=o.type||"default";e.nodeTypes[v]||(null==i||i("003",r4.error003(v)),v="default");let x=e.nodeTypes[v]||e.nodeTypes.default,b=!!(o.draggable||t&&void 0===o.draggable),w=!!(o.selectable||a&&void 0===o.selectable),j=!!(o.connectable||n&&void 0===o.connectable),E=!!(o.focusable||r&&void 0===o.focusable),N=e.nodeExtent?ao(o.positionAbsolute,e.nodeExtent):o.positionAbsolute,S=null!=(h=null==N?void 0:N.x)?h:0,k=null!=(p=null==N?void 0:N.y)?p:0,_=(e=>{let{x:t,y:n,width:r,height:a,origin:o}=e;return!r||!a||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:n}:{x:t-r*o[0],y:n-a*o[1]}})({x:S,y:k,width:null!=(m=o.width)?m:0,height:null!=(g=o.height)?g:0,origin:e.nodeOrigin});return c.default.createElement(x,{key:o.id,id:o.id,className:o.className,style:o.style,type:v,data:o.data,sourcePosition:o.sourcePosition||s.Bottom,targetPosition:o.targetPosition||s.Top,hidden:o.hidden,xPos:S,yPos:k,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!o.selected,isDraggable:b,isSelectable:w,isConnectable:j,isFocusable:E,resizeObserver:d,dragHandle:o.dragHandle,zIndex:null!=(y=null==(l=o[ah])?void 0:l.z)?y:0,isParent:!!(null==(u=o[ah])?void 0:u.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!o.width&&!!o.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:o.ariaLabel,hasHandleBounds:!!(null==(f=o[ah])?void 0:f.handleBounds)})}))};it.displayName="NodeRenderer";var ir=(0,c.memo)(it);let ia="react-flow__edgeupdater",io=e=>{let{position:t,centerX:n,centerY:r,radius:a=10,onMouseDown:o,onMouseEnter:i,onMouseOut:l,type:u}=e;return c.default.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:l,className:tw([ia,"".concat(ia,"-").concat(u)]),cx:((e,t,n)=>n===s.Left?e-t:n===s.Right?e+t:e)(n,a,t),cy:((e,t,n)=>n===s.Top?e-t:n===s.Bottom?e+t:e)(r,a,t),r:a,stroke:"transparent",fill:"transparent"})},ii=()=>!0;var is=e=>{let t=t=>{let{id:n,className:r,type:a,data:o,onClick:i,onEdgeDoubleClick:s,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,style:y,source:v,target:x,sourceX:b,sourceY:w,targetX:j,targetY:E,sourcePosition:N,targetPosition:S,elementsSelectable:k,hidden:_,sourceHandleId:A,targetHandleId:C,onContextMenu:M,onMouseEnter:O,onMouseMove:T,onMouseLeave:R,reconnectRadius:P,onReconnect:I,onReconnectStart:B,onReconnectEnd:D,markerEnd:L,markerStart:z,rfId:F,ariaLabel:U,isFocusable:H,isReconnectable:K,pathOptions:G,interactionWidth:J,disableKeyboardA11y:V}=t,q=(0,c.useRef)(null),[Y,X]=(0,c.useState)(!1),[W,Z]=(0,c.useState)(!1),$=r7(),Q=(0,c.useMemo)(()=>"url('#".concat(aL(z,F),"')"),[z,F]),ee=(0,c.useMemo)(()=>"url('#".concat(aL(L,F),"')"),[L,F]);if(_)return null;let et=ab(n,$.getState,s),en=ab(n,$.getState,M),er=ab(n,$.getState,O),ea=ab(n,$.getState,T),eo=ab(n,$.getState,R),ei=(e,t)=>{if(0!==e.button)return;let{edges:r,isValidConnection:a}=$.getState(),o=t?x:v,i=(t?C:A)||null,s=t?"target":"source",l=r.find(e=>e.id===n);Z(!0),null==B||B(e,l,s),aQ({event:e,handleId:i,nodeId:o,onConnect:e=>null==I?void 0:I(l,e),isTarget:t,getState:$.getState,setState:$.setState,isValidConnection:a||ii,edgeUpdaterType:s,onReconnectEnd:e=>{Z(!1),null==D||D(e,l,s)}})},es=()=>X(!0),el=()=>X(!1);return c.default.createElement("g",{className:tw(["react-flow__edge","react-flow__edge-".concat(a),r,{selected:l,animated:u,inactive:!k&&!i,updating:Y}]),onClick:e=>{let{edges:t,addSelectedEdges:r,unselectNodesAndEdges:a,multiSelectionActive:o}=$.getState(),s=t.find(e=>e.id===n);if(s){if(k)if($.setState({nodesSelectionActive:!1}),s.selected&&o){var l;a({nodes:[],edges:[s]}),null==(l=q.current)||l.blur()}else r([n]);i&&i(e,s)}},onDoubleClick:et,onContextMenu:en,onMouseEnter:er,onMouseMove:ea,onMouseLeave:eo,onKeyDown:H?e=>{if(!V&&ap.includes(e.key)&&k){let{unselectNodesAndEdges:r,addSelectedEdges:a,edges:o}=$.getState();if("Escape"===e.key){var t;null==(t=q.current)||t.blur(),r({edges:[o.find(e=>e.id===n)]})}else a([n])}}:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":"rf__edge-".concat(n),"aria-label":null===U?void 0:U||"Edge from ".concat(v," to ").concat(x),"aria-describedby":H?"".concat(op,"-").concat(F):void 0,ref:q},!W&&c.default.createElement(e,{id:n,source:v,target:x,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,data:o,style:y,sourceX:b,sourceY:w,targetX:j,targetY:E,sourcePosition:N,targetPosition:S,sourceHandleId:A,targetHandleId:C,markerStart:Q,markerEnd:ee,pathOptions:G,interactionWidth:J}),K&&c.default.createElement(c.default.Fragment,null,("source"===K||!0===K)&&c.default.createElement(io,{position:N,centerX:b,centerY:w,radius:P,onMouseDown:e=>ei(e,!0),onMouseEnter:es,onMouseOut:el,type:"source"}),("target"===K||!0===K)&&c.default.createElement(io,{position:S,centerX:j,centerY:E,radius:P,onMouseDown:e=>ei(e,!1),onMouseEnter:es,onMouseOut:el,type:"target"})))};return t.displayName="EdgeWrapper",(0,c.memo)(t)};function il(e){let t={default:is(e.default||aI),straight:is(e.bezier||aO),step:is(e.step||aM),smoothstep:is(e.step||aC),simplebezier:is(e.simplebezier||aS)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=is(e[n]||aI),t),{});return{...t,...n}}function iu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=((null==n?void 0:n.x)||0)+t.x,a=((null==n?void 0:n.y)||0)+t.y,o=(null==n?void 0:n.width)||t.width,i=(null==n?void 0:n.height)||t.height;switch(e){case s.Top:return{x:r+o/2,y:a};case s.Right:return{x:r+o,y:a+i/2};case s.Bottom:return{x:r+o/2,y:a+i};case s.Left:return{x:r,y:a+i/2}}}function ic(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function id(e){var t,n,r,a,o;let i=(null==e||null==(t=e[ah])?void 0:t.handleBounds)||null,s=i&&(null==e?void 0:e.width)&&(null==e?void 0:e.height)&&void 0!==(null==e||null==(n=e.positionAbsolute)?void 0:n.x)&&void 0!==(null==e||null==(r=e.positionAbsolute)?void 0:r.y);return[{x:(null==e||null==(a=e.positionAbsolute)?void 0:a.x)||0,y:(null==e||null==(o=e.positionAbsolute)?void 0:o.y)||0,width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0},i,!!s]}let ih=[{level:0,isMaxLevel:!0,edges:[]}],ip={[i.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return c.default.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[i.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return c.default.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},im=e=>{let{id:t,type:n,color:r,width:a=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"}=e,u=function(e){let t=r7();return(0,c.useMemo)(()=>{if(!Object.prototype.hasOwnProperty.call(ip,e)){var n,r;return null==(n=(r=t.getState()).onError)||n.call(r,"009",r4.error009(e)),null}return ip[e]},[e])}(n);return u?c.default.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(a),markerHeight:"".concat(o),viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},c.default.createElement(u,{color:r,strokeWidth:s})):null},ig=e=>{let{defaultColor:t,rfId:n}=e,r=r8((0,c.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{let r=[];return e.edges.reduce((e,a)=>([a.markerStart,a.markerEnd].forEach(a=>{if(a&&"object"==typeof a){let o=aL(a,n);r.includes(o)||(e.push({id:o,color:a.color||t,...a}),r.push(o))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:t,rfId:n}),[t,n]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return c.default.createElement("defs",null,r.map(e=>c.default.createElement(im,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};ig.displayName="MarkerDefinitions";var iy=(0,c.memo)(ig);let iv=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),ix=e=>{let{defaultMarkerColor:t,onlyRenderVisibleElements:r,elevateEdgesOnSelect:a,rfId:o,edgeTypes:i,noPanClassName:l,onEdgeContextMenu:u,onEdgeMouseEnter:d,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:p,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:y,onReconnectEnd:v,reconnectRadius:x,children:b,disableKeyboardA11y:w}=e,{edgesFocusable:j,edgesUpdatable:E,elementsSelectable:N,width:S,height:k,connectionMode:_,nodeInternals:A,onError:C}=r8(iv,tM),M=function(e,t,n){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1,a=Object.entries(e.reduce((e,a)=>{let o=af(a.zIndex),i=o?a.zIndex:0;if(n){var s,l;let e=t.get(a.target),n=t.get(a.source),r=a.selected||(null==e?void 0:e.selected)||(null==n?void 0:n.selected),u=Math.max((null==n||null==(s=n[ah])?void 0:s.z)||0,(null==e||null==(l=e[ah])?void 0:l.z)||0,1e3);i=(o?a.zIndex:0)+(r?u:0)}return e[i]?e[i].push(a):e[i]=[a],r=i>r?i:r,e},{})).map(e=>{let[t,n]=e,a=+t;return{edges:n,level:a,isMaxLevel:a===r}});return 0===a.length?ih:a}(r8((0,c.useCallback)(n=>e?n.edges.filter(e=>{let r=t.get(e.source),a=t.get(e.target);return(null==r?void 0:r.width)&&(null==r?void 0:r.height)&&(null==a?void 0:a.width)&&(null==a?void 0:a.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:a,targetWidth:o,targetHeight:i,width:s,height:l,transform:u}=e,c={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+o),y2:Math.max(t.y+a,n.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);let d=au({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:s/u[2],height:l/u[2]});return Math.ceil(Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x))*Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y)))>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:a.width,targetHeight:a.height,width:n.width,height:n.height,transform:n.transform})}):n.edges,[e,t])),t,n)}(r,A,a);return S?c.default.createElement(c.default.Fragment,null,M.map(e=>{let{level:r,edges:a,isMaxLevel:b}=e;return c.default.createElement("svg",{key:r,style:{zIndex:r},width:S,height:k,className:"react-flow__edges react-flow__container"},b&&c.default.createElement(iy,{defaultColor:t,rfId:o}),c.default.createElement("g",null,a.map(e=>{var t,r;let[a,b,S]=id(A.get(e.source)),[k,M,O]=id(A.get(e.target));if(!S||!O)return null;let T=e.type||"default";i[T]||(null==C||C("011",r4.error011(T)),T="default");let R=i[T]||i.default,P=_===n.Strict?M.target:(null!=(t=M.target)?t:[]).concat(null!=(r=M.source)?r:[]),I=ic(b.source,e.sourceHandle),B=ic(P,e.targetHandle),D=(null==I?void 0:I.position)||s.Bottom,L=(null==B?void 0:B.position)||s.Top,z=!!(e.focusable||j&&void 0===e.focusable),F=e.reconnectable||e.updatable;if(!I||!B)return null==C||C("008",r4.error008(I,e)),null;let{sourceX:U,sourceY:H,targetX:K,targetY:G}=((e,t,n,r,a,o)=>{let i=iu(n,e,t),s=iu(o,r,a);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}})(a,I,D,k,B,L);return c.default.createElement(R,{key:e.id,id:e.id,className:tw([e.className,l]),type:T,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:U,sourceY:H,targetX:K,targetY:G,sourcePosition:D,targetPosition:L,elementsSelectable:N,onContextMenu:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onClick:p,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:y,onReconnectEnd:v,reconnectRadius:x,rfId:o,ariaLabel:e.ariaLabel,isFocusable:z,isReconnectable:void 0!==g&&(F||E&&void 0===F),pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:w})})))}),b):null};ix.displayName="EdgeRenderer";var ib=(0,c.memo)(ix);let iw=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function ij(e){let{children:t}=e,n=r8(iw);return c.default.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}let iE={[s.Left]:s.Right,[s.Right]:s.Left,[s.Top]:s.Bottom,[s.Bottom]:s.Top},iN=e=>{var t,r,a,i,s,l,u;let{nodeId:d,handleType:f,style:h,type:p=o.Bezier,CustomComponent:m,connectionStatus:g}=e,{fromNode:y,handleId:v,toX:x,toY:b,connectionMode:w}=r8((0,c.useCallback)(e=>({fromNode:e.nodeInternals.get(d),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[d]),tM),j=null==y||null==(t=y[ah])?void 0:t.handleBounds,E=null==j?void 0:j[f];if(w===n.Loose&&(E=E||(null==j?void 0:j["source"===f?"target":"source"])),!y||!E)return null;let N=v?E.find(e=>e.id===v):E[0],S=N?N.x+N.width/2:(null!=(i=y.width)?i:0)/2,k=N?N.y+N.height/2:null!=(s=y.height)?s:0,_=(null!=(l=null==(r=y.positionAbsolute)?void 0:r.x)?l:0)+S,A=(null!=(u=null==(a=y.positionAbsolute)?void 0:a.y)?u:0)+k,C=null==N?void 0:N.position,M=C?iE[C]:null;if(!C||!M)return null;if(m)return c.default.createElement(m,{connectionLineType:p,connectionLineStyle:h,fromNode:y,fromHandle:N,fromX:_,fromY:A,toX:x,toY:b,fromPosition:C,toPosition:M,connectionStatus:g});let O="",T={sourceX:_,sourceY:A,sourcePosition:C,targetX:x,targetY:b,targetPosition:M};return p===o.Bezier?[O]=aP(T):p===o.Step?[O]=aA({...T,borderRadius:0}):p===o.SmoothStep?[O]=aA(T):p===o.SimpleBezier?[O]=aN(T):O="M".concat(_,",").concat(A," ").concat(x,",").concat(b),c.default.createElement("path",{d:O,fill:"none",className:"react-flow__connection-path",style:h})};iN.displayName="ConnectionLine";let iS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function ik(e){let{containerStyle:t,style:n,type:r,component:a}=e,{nodeId:o,handleType:i,nodesConnectable:s,width:l,height:u,connectionStatus:d}=r8(iS,tM);return o&&i&&l&&s?c.default.createElement("svg",{style:t,width:l,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},c.default.createElement("g",{className:tw(["react-flow__connection",d])},c.default.createElement(iN,{nodeId:o,handleType:i,style:n,type:r,CustomComponent:a,connectionStatus:d}))):null}function i_(e,t){return(0,c.useRef)(null),r7(),(0,c.useMemo)(()=>t(e),[e])}let iA=e=>{let{nodeTypes:t,edgeTypes:n,onMove:r,onMoveStart:a,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:y,onSelectionEnd:v,connectionLineType:x,connectionLineStyle:b,connectionLineComponent:w,connectionLineContainerStyle:j,selectionKeyCode:E,selectionOnDrag:N,selectionMode:S,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:A,deleteKeyCode:C,onlyRenderVisibleElements:M,elementsSelectable:O,selectNodesOnDrag:T,defaultViewport:R,translateExtent:P,minZoom:I,maxZoom:B,preventScrolling:D,defaultMarkerColor:L,zoomOnScroll:z,zoomOnPinch:F,panOnScroll:U,panOnScrollSpeed:H,panOnScrollMode:K,zoomOnDoubleClick:G,panOnDrag:J,onPaneClick:V,onPaneMouseEnter:q,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneScroll:W,onPaneContextMenu:Z,onEdgeContextMenu:$,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:et,onReconnect:en,onReconnectStart:er,onReconnectEnd:ea,reconnectRadius:eo,noDragClassName:ei,noWheelClassName:es,noPanClassName:el,elevateEdgesOnSelect:eu,disableKeyboardA11y:ec,nodeOrigin:ed,nodeExtent:ef,rfId:eh}=e,ep=i_(t,o9),em=i_(n,il);return!function(e){let t=oA(),n=(0,c.useRef)(!1);(0,c.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(i),c.default.createElement(o7,{onPaneClick:V,onPaneMouseEnter:q,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneContextMenu:Z,onPaneScroll:W,deleteKeyCode:C,selectionKeyCode:E,selectionOnDrag:N,selectionMode:S,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:A,elementsSelectable:O,onMove:r,onMoveStart:a,onMoveEnd:o,zoomOnScroll:z,zoomOnPinch:F,zoomOnDoubleClick:G,panOnScroll:U,panOnScrollSpeed:H,panOnScrollMode:K,panOnDrag:J,defaultViewport:R,translateExtent:P,minZoom:I,maxZoom:B,onSelectionContextMenu:g,preventScrolling:D,noDragClassName:ei,noWheelClassName:es,noPanClassName:el,disableKeyboardA11y:ec},c.default.createElement(ij,null,c.default.createElement(ib,{edgeTypes:em,onEdgeClick:l,onEdgeDoubleClick:d,onlyRenderVisibleElements:M,onEdgeContextMenu:$,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:et,onReconnect:en,onReconnectStart:er,onReconnectEnd:ea,reconnectRadius:eo,defaultMarkerColor:L,noPanClassName:el,elevateEdgesOnSelect:!!eu,disableKeyboardA11y:ec,rfId:eh},c.default.createElement(ik,{style:b,type:x,component:w,containerStyle:j})),c.default.createElement("div",{className:"react-flow__edgelabel-renderer"}),c.default.createElement(ir,{nodeTypes:ep,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:T,onlyRenderVisibleElements:M,noPanClassName:el,noDragClassName:ei,disableKeyboardA11y:ec,nodeOrigin:ed,nodeExtent:ef,rfId:eh})))};iA.displayName="GraphView";var iC=(0,c.memo)(iA);let iM=[[-1/0,-1/0],[1/0,1/0]],iO={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:iM,nodeExtent:iM,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:n.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:am,isValidConnection:void 0},iT=e=>{let{children:t}=e,n=(0,c.useRef)(null);return n.current||(n.current=((e,t)=>e?tC(e,t):tC)((e,t)=>({...iO,setNodes:n=>{let{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:oj(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{let{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>({...r,...e}))})},setDefaultNodesAndEdges:(n,r)=>{let a=void 0!==n,o=void 0!==r;e({nodeInternals:a?oj(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{let{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:l,nodeOrigin:u}=t(),c=null==l?void 0:l.querySelector(".react-flow__viewport");if(!c)return;let d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce((e,t)=>{let n=a.get(t.id);if(null==n?void 0:n.hidden)a.set(n.id,{...n,[ah]:{...n[ah],handleBounds:void 0}});else if(n){let r=ar(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(a.set(n.id,{...n,[ah]:{...n[ah],handleBounds:{source:oW(".source",t.nodeElement,f,u),target:oW(".target",t.nodeElement,f,u)}},...r}),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);ow(a,u);let p=i||o&&!i&&oE(t,{initial:!0,...s});e({nodeInternals:new Map(a),fitViewOnInitDone:p}),(null==h?void 0:h.length)>0&&(null==r||r(h))},updateNodePositions:function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{triggerNodeChanges:a}=t();a(e.map(e=>{let t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}))},triggerNodeChanges:n=>{let{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:i,getNodes:s,elevateNodesOnSelect:l}=t();(null==n?void 0:n.length)&&(o&&e({nodeInternals:oj(oU(n,s()),a,i,l)}),null==r||r(n))},addSelectedNodes:n=>{let r,{multiSelectionActive:a,edges:o,getNodes:i}=t(),s=null;a?r=n.map(e=>oH(e,!0)):(r=oK(i(),n),s=oK(o,[])),oN({changedNodes:r,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{let r,{multiSelectionActive:a,edges:o,getNodes:i}=t(),s=null;a?r=n.map(e=>oH(e,!0)):(r=oK(o,n),s=oK(i(),[])),oN({changedNodes:s,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{edges:a,getNodes:o}=t();oN({changedNodes:(n||o()).map(e=>(e.selected=!1,oH(e.id,!1))),changedEdges:(r||a).map(e=>oH(e.id,!1)),get:t,set:e})},setMinZoom:n=>{let{d3Zoom:r,maxZoom:a}=t();null==r||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{let{d3Zoom:r,minZoom:a}=t();null==r||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null==(r=t().d3Zoom)||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{let{edges:n,getNodes:r}=t();oN({changedNodes:r().filter(e=>e.selected).map(e=>oH(e.id,!1)),changedEdges:n.filter(e=>e.selected).map(e=>oH(e.id,!1)),get:t,set:e})},setNodeExtent:n=>{let{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=ao(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{let{transform:n,width:r,height:a,d3Zoom:o,d3Selection:i,translateExtent:s}=t();if(!o||!i||!e.x&&!e.y)return!1;let l=rH.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),u=null==o?void 0:o.constrain()(l,[[0,0],[r,a]],s);return o.transform(i,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:iO.connectionNodeId,connectionHandleId:iO.connectionHandleId,connectionHandleType:iO.connectionHandleType,connectionStatus:iO.connectionStatus,connectionStartHandle:iO.connectionStartHandle,connectionEndHandle:iO.connectionEndHandle}),reset:()=>e({...iO})}),Object.is)),c.default.createElement(r5,{value:n.current},t)};iT.displayName="ReactFlowProvider";let iR=e=>{let{children:t}=e;return(0,c.useContext)(r3)?c.default.createElement(c.default.Fragment,null,t):c.default.createElement(iT,null,t)};iR.displayName="ReactFlowWrapper";let iP={input:a8,default:a4,output:a9,group:oe},iI={default:aI,straight:aO,step:aM,smoothstep:aC,simplebezier:aS},iB=[0,0],iD=[15,15],iL={x:0,y:0,zoom:1},iz={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},iF=(0,c.forwardRef)((e,t)=>{let{nodes:i,edges:s,defaultNodes:l,defaultEdges:u,className:d,nodeTypes:f=iP,edgeTypes:h=iI,onNodeClick:p,onEdgeClick:m,onInit:g,onMove:y,onMoveStart:v,onMoveEnd:x,onConnect:b,onConnectStart:w,onConnectEnd:j,onClickConnectStart:E,onClickConnectEnd:N,onNodeMouseEnter:S,onNodeMouseMove:k,onNodeMouseLeave:_,onNodeContextMenu:A,onNodeDoubleClick:C,onNodeDragStart:M,onNodeDrag:O,onNodeDragStop:T,onNodesDelete:R,onEdgesDelete:P,onSelectionChange:I,onSelectionDragStart:B,onSelectionDrag:D,onSelectionDragStop:L,onSelectionContextMenu:z,onSelectionStart:F,onSelectionEnd:U,connectionMode:H=n.Strict,connectionLineType:K=o.Bezier,connectionLineStyle:G,connectionLineComponent:J,connectionLineContainerStyle:V,deleteKeyCode:q="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:X=!1,selectionMode:W=a.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:$=av()?"Meta":"Control",zoomActivationKeyCode:Q=av()?"Meta":"Control",snapToGrid:ee=!1,snapGrid:et=iD,onlyRenderVisibleElements:en=!1,selectNodesOnDrag:er=!0,nodesDraggable:ea,nodesConnectable:eo,nodesFocusable:ei,nodeOrigin:es=iB,edgesFocusable:el,edgesUpdatable:eu,elementsSelectable:ec,defaultViewport:ed=iL,minZoom:ef=.5,maxZoom:eh=2,translateExtent:ep=iM,preventScrolling:em=!0,nodeExtent:eg,defaultMarkerColor:ey="#b1b1b7",zoomOnScroll:ev=!0,zoomOnPinch:ex=!0,panOnScroll:eb=!1,panOnScrollSpeed:ew=.5,panOnScrollMode:ej=r.Free,zoomOnDoubleClick:eE=!0,panOnDrag:eN=!0,onPaneClick:eS,onPaneMouseEnter:ek,onPaneMouseMove:e_,onPaneMouseLeave:eA,onPaneScroll:eC,onPaneContextMenu:eM,children:eO,onEdgeContextMenu:eT,onEdgeDoubleClick:eR,onEdgeMouseEnter:eP,onEdgeMouseMove:eI,onEdgeMouseLeave:eB,onEdgeUpdate:eD,onEdgeUpdateStart:eL,onEdgeUpdateEnd:ez,onReconnect:eF,onReconnectStart:eU,onReconnectEnd:eH,reconnectRadius:eK=10,edgeUpdaterRadius:eG=10,onNodesChange:eJ,onEdgesChange:eV,noDragClassName:eq="nodrag",noWheelClassName:eY="nowheel",noPanClassName:eX="nopan",fitView:eW=!1,fitViewOptions:eZ,connectOnClick:e$=!0,attributionPosition:eQ,proOptions:e0,defaultEdgeOptions:e1,elevateNodesOnSelect:e2=!0,elevateEdgesOnSelect:e3=!1,disableKeyboardA11y:e5=!1,autoPanOnConnect:e4=!0,autoPanOnNodeDrag:e6=!0,connectionRadius:e8=20,isValidConnection:e7,onError:e9,style:te,id:tt,nodeDragThreshold:tn,...tr}=e,ta=tt||"1";return c.default.createElement("div",{...tr,style:{...te,...iz},ref:t,className:tw(["react-flow",d]),"data-testid":"rf__wrapper",id:tt},c.default.createElement(iR,null,c.default.createElement(iC,{onInit:g,onMove:y,onMoveStart:v,onMoveEnd:x,onNodeClick:p,onEdgeClick:m,onNodeMouseEnter:S,onNodeMouseMove:k,onNodeMouseLeave:_,onNodeContextMenu:A,onNodeDoubleClick:C,nodeTypes:f,edgeTypes:h,connectionLineType:K,connectionLineStyle:G,connectionLineComponent:J,connectionLineContainerStyle:V,selectionKeyCode:Y,selectionOnDrag:X,selectionMode:W,deleteKeyCode:q,multiSelectionKeyCode:$,panActivationKeyCode:Z,zoomActivationKeyCode:Q,onlyRenderVisibleElements:en,selectNodesOnDrag:er,defaultViewport:ed,translateExtent:ep,minZoom:ef,maxZoom:eh,preventScrolling:em,zoomOnScroll:ev,zoomOnPinch:ex,zoomOnDoubleClick:eE,panOnScroll:eb,panOnScrollSpeed:ew,panOnScrollMode:ej,panOnDrag:eN,onPaneClick:eS,onPaneMouseEnter:ek,onPaneMouseMove:e_,onPaneMouseLeave:eA,onPaneScroll:eC,onPaneContextMenu:eM,onSelectionContextMenu:z,onSelectionStart:F,onSelectionEnd:U,onEdgeContextMenu:eT,onEdgeDoubleClick:eR,onEdgeMouseEnter:eP,onEdgeMouseMove:eI,onEdgeMouseLeave:eB,onReconnect:null!=eF?eF:eD,onReconnectStart:null!=eU?eU:eL,onReconnectEnd:null!=eH?eH:ez,reconnectRadius:null!=eK?eK:eG,defaultMarkerColor:ey,noDragClassName:eq,noWheelClassName:eY,noPanClassName:eX,elevateEdgesOnSelect:e3,rfId:ta,disableKeyboardA11y:e5,nodeOrigin:es,nodeExtent:eg}),c.default.createElement(oc,{nodes:i,edges:s,defaultNodes:l,defaultEdges:u,onConnect:b,onConnectStart:w,onConnectEnd:j,onClickConnectStart:E,onClickConnectEnd:N,nodesDraggable:ea,nodesConnectable:eo,nodesFocusable:ei,edgesFocusable:el,edgesUpdatable:eu,elementsSelectable:ec,elevateNodesOnSelect:e2,minZoom:ef,maxZoom:eh,nodeExtent:eg,onNodesChange:eJ,onEdgesChange:eV,snapToGrid:ee,snapGrid:et,connectionMode:H,translateExtent:ep,connectOnClick:e$,defaultEdgeOptions:e1,fitView:eW,fitViewOptions:eZ,onNodesDelete:R,onEdgesDelete:P,onNodeDragStart:M,onNodeDrag:O,onNodeDragStop:T,onSelectionDrag:D,onSelectionDragStart:B,onSelectionDragStop:L,noPanClassName:eX,nodeOrigin:es,rfId:ta,autoPanOnConnect:e4,autoPanOnNodeDrag:e6,onError:e9,connectionRadius:e8,isValidConnection:e7,nodeDragThreshold:tn}),c.default.createElement(oi,{onSelectionChange:I}),eO,c.default.createElement(at,{proOptions:e0,position:eQ}),c.default.createElement(oy,{rfId:ta,disableKeyboardA11y:e5})))});function iU(e){return t=>{let[n,r]=(0,c.useState)(t),a=(0,c.useCallback)(t=>r(n=>e(t,n)),[]);return[n,r,a]}}iF.displayName="ReactFlow";let iH=iU(oU),iK=iU(function(e,t){return oF(e,t)});function iG(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},c.default.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function iJ(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},c.default.createElement("path",{d:"M0 0h32v4.2H0z"}))}function iV(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},c.default.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function iq(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},c.default.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function iY(){return c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},c.default.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}let iX=e=>{let{children:t,className:n,...r}=e;return c.default.createElement("button",{type:"button",className:tw(["react-flow__controls-button",n]),...r},t)};iX.displayName="ControlButton";let iW=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),iZ=e=>{let{style:t,showZoom:n=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:u,className:d,children:f,position:h="bottom-left"}=e,p=r7(),[m,g]=(0,c.useState)(!1),{isInteractive:y,minZoomReached:v,maxZoomReached:x}=r8(iW,tM),{zoomIn:b,zoomOut:w,fitView:j}=oA();return((0,c.useEffect)(()=>{g(!0)},[]),m)?c.default.createElement(ae,{className:tw(["react-flow__controls",d]),position:h,style:t,"data-testid":"rf__controls"},n&&c.default.createElement(c.default.Fragment,null,c.default.createElement(iX,{onClick:()=>{b(),null==i||i()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},c.default.createElement(iG,null)),c.default.createElement(iX,{onClick:()=>{w(),null==s||s()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},c.default.createElement(iJ,null))),r&&c.default.createElement(iX,{className:"react-flow__controls-fitview",onClick:()=>{j(o),null==l||l()},title:"fit view","aria-label":"fit view"},c.default.createElement(iV,null)),a&&c.default.createElement(iX,{className:"react-flow__controls-interactive",onClick:()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),null==u||u(!y)},title:"toggle interactivity","aria-label":"toggle interactivity"},y?c.default.createElement(iY,null):c.default.createElement(iq,null)),f):null};iZ.displayName="Controls";var i$=(0,c.memo)(iZ);function iQ(e){let{color:t,dimensions:n,lineWidth:r}=e;return c.default.createElement("path",{stroke:t,strokeWidth:r,d:"M".concat(n[0]/2," 0 V").concat(n[1]," M0 ").concat(n[1]/2," H").concat(n[0])})}function i0(e){let{color:t,radius:n}=e;return c.default.createElement("circle",{cx:n,cy:n,r:n,fill:t})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(l||(l={}));let i1={[l.Dots]:"#91919a",[l.Lines]:"#eee",[l.Cross]:"#e2e2e2"},i2={[l.Dots]:1,[l.Lines]:1,[l.Cross]:6},i3=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function i5(e){let{id:t,variant:n=l.Dots,gap:r=20,size:a,lineWidth:o=1,offset:i=2,color:s,style:u,className:d}=e,f=(0,c.useRef)(null),{transform:h,patternId:p}=r8(i3,tM),m=s||i1[n],g=a||i2[n],y=n===l.Dots,v=n===l.Cross,x=Array.isArray(r)?r:[r,r],b=[x[0]*h[2]||1,x[1]*h[2]||1],w=g*h[2],j=v?[w,w]:b,E=y?[w/i,w/i]:[j[0]/i,j[1]/i];return c.default.createElement("svg",{className:tw(["react-flow__background",d]),style:{...u,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:f,"data-testid":"rf__background"},c.default.createElement("pattern",{id:p+t,x:h[0]%b[0],y:h[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(E[0],",-").concat(E[1],")")},y?c.default.createElement(i0,{color:m,radius:w/i}):c.default.createElement(iQ,{dimensions:j,color:m,lineWidth:o})),c.default.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(p+t,")")}))}i5.displayName="Background";var i4=(0,c.memo)(i5),i6=e.i(39669);let i8=async()=>(await tl.get("".concat("http://hrmsbe.logikasistembisnis.id","/companydesign"))).data;function i7(e){let{companies:t}=e,[n,r,a]=iH([]),[o,s,l]=iK([]),d=(0,c.useMemo)(()=>({}),[]);return(0,c.useEffect)(()=>{let e=t.filter(e=>""!==e.design),{nodes:n,edges:a}=((e,t)=>{let n=new i6.default.graphlib.Graph;return n.setGraph({rankdir:"TB",nodesep:50,ranksep:60}),n.setDefaultEdgeLabel(()=>({})),e.forEach(e=>{n.setNode(e.id,{width:180,height:60})}),t.forEach(e=>{n.setEdge(e.source,e.target)}),i6.default.layout(n),{nodes:e.map(e=>{let{x:t,y:r}=n.node(e.id);return{...e,position:{x:t-90,y:r-30}}}),edges:t}})(e.map(e=>({id:e.companyid.toString(),type:"default",data:{label:(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},children:[" ",(0,u.jsx)("p",{className:"font-semibold whitespace-normal",children:e.name}),(0,u.jsx)("p",{className:"text-xs italic",children:e.design})]})},position:{x:0,y:0},style:(e=>{let t={padding:"8px 16px",borderWidth:"1px",borderRadius:"8px",fontSize:"12px",textAlign:"center"};switch(e){case"Super Holding":return{...t,backgroundColor:"#DBEAFE",borderColor:"#93C5FD",color:"#1E3A8A"};case"Holding":return{...t,backgroundColor:"#E0F2FE",borderColor:"#7DD3FC",color:"#075985"};case"Country Operation":return{...t,backgroundColor:"#FEF9C3",borderColor:"#FDE047",color:"#713F12"};case"Subsidiary":return{...t,backgroundColor:"#DCFCE7",borderColor:"#86EFAC",color:"#166534"};case"Stand Alone":return{...t,backgroundColor:"#F3F4F6",borderColor:"#D1D5DB",color:"#374151"};default:return{...t,backgroundColor:"#FFFFFF",borderColor:"#D1D5DB"}}})(e.design)})),e.filter(e=>""!==e.reportTo).map(e=>{let n=t.find(t=>t.name===e.reportTo);return n?{id:"e-".concat(n.companyid,"-").concat(e.companyid),source:n.companyid.toString(),target:e.companyid.toString(),type:"smoothstep",markerEnd:{type:i.ArrowClosed,color:"#6b7280"},style:{stroke:"#6b7280"}}:null}).filter(e=>null!==e));r(n),s(a)},[t,r,s]),(0,u.jsxs)(iF,{nodes:n,edges:o,onNodesChange:a,onEdgesChange:l,nodeTypes:d,fitView:!0,nodesDraggable:!0,children:[(0,u.jsx)(i$,{}),(0,u.jsx)(i4,{})]})}function i9(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[s,l]=(0,c.useState)(!0),[d,f]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([tc(),i8()]),n=e.data.map(e=>{var t,n;return{...e,design:(null==(t=e.companydesign)?void 0:t.name)||"",reportTo:(null==(n=e.reporttocompany)?void 0:n.name)||""}});a(n),i(t.data)}catch(e){console.error("Gagal memuat data:",e)}finally{l(!1)}})()},[]);let h=(e,t,n)=>{let o=[...r];o[e]={...o[e],[t]:n},"design"===t&&(o[e].reportTo=""),a(o)},p=async()=>{try{f(!0);let e=r.filter(e=>""!==e.design).map(e=>{var t,n;let a=o.find(t=>t.name===e.design),i=r.find(t=>t.name===e.reportTo);return{companyid:e.companyid,companydesignid:null!=(t=null==a?void 0:a.companydesignid)?t:null,reporttocompanyid:null!=(n=null==i?void 0:i.companyid)?n:null}});await th(e),alert("Desain perusahaan berhasil disimpan!"),t()}catch(e){console.error("Gagal menyimpan desain perusahaan:",e),alert("Terjadi kesalahan saat menyimpan data.")}finally{f(!1)}},{hasAnyDesign:m,hasRoot:g}=(0,c.useMemo)(()=>({hasAnyDesign:r.some(e=>""!==e.design),hasRoot:r.some(e=>"Super Holding"===e.design||"Stand Alone"===e.design)}),[r]);return s?(0,u.jsx)("p",{className:"p-6 text-gray-600",children:"Memuat data..."}):(0,u.jsxs)("div",{className:"p-6 w-full mx-auto",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"5. Masukan informasi group perusahaan"}),(0,u.jsxs)("div",{className:"grid grid-cols-4 font-semibold text-sm bg-gray-100 border border-gray-300 rounded-t-md",children:[(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:"Nama Perusahaan"}),(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:"Negara"}),(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:"Desain Perusahaan"}),(0,u.jsx)("div",{className:"p-2",children:"Melapor Ke"})]}),r.map((e,t)=>{var n;let a=(e=>{switch(e){case"Super Holding":case"Stand Alone":default:return[];case"Holding":return r.filter(e=>"Super Holding"===e.design);case"Country Operation":return r.filter(e=>"Super Holding"===e.design||"Holding"===e.design);case"Subsidiary":return r.filter(e=>"Super Holding"===e.design||"Holding"===e.design||"Country Operation"===e.design)}})(e.design),i="Super Holding"===e.design||"Stand Alone"===e.design||0===a.length;return(0,u.jsxs)("div",{className:"grid grid-cols-4 border-x border-b border-gray-300 text-sm",children:[(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:e.name}),(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:(null==(n=e.country)?void 0:n.name)||""}),(0,u.jsx)("div",{className:"p-2 border-r border-gray-300",children:(0,u.jsxs)("select",{value:e.design,onChange:e=>h(t,"design",e.target.value),className:"w-full border border-gray-300 rounded-md p-1 bg-blue-50 focus:ring-2 focus:ring-blue-400",children:[(0,u.jsx)("option",{value:"",children:"Pilih"}),o.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companydesignid))]})}),(0,u.jsx)("div",{className:"p-2",children:(0,u.jsxs)("select",{value:e.reportTo,onChange:e=>h(t,"reportTo",e.target.value),disabled:i,className:"w-full border border-gray-300 rounded-md p-1 ".concat(i?"bg-gray-100 text-gray-400":"bg-blue-50 focus:ring-2 focus:ring-blue-400"),children:[(0,u.jsx)("option",{value:"",children:""}),a.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.name))]})})]},t)}),(0,u.jsxs)("div",{className:"mt-6 w-full p-6 bg-gray-50 rounded-lg border overflow-hidden",style:{height:"500px"},children:[(0,u.jsx)("h4",{className:"text-md font-semibold mb-4 text-center",children:"Bagan Struktur Organisasi (Live Preview)"}),!m&&(0,u.jsxs)("div",{className:"h-full flex flex-col justify-center items-center text-center text-gray-500",children:[(0,u.jsx)("p",{children:"Bagan struktur akan muncul di sini."}),(0,u.jsx)("p",{className:"text-sm",children:'Mulai dengan memilih "Super Holding" atau "Stand Alone" pada tabel di atas.'})]}),m&&!g&&(0,u.jsxs)("div",{className:"h-full flex flex-col justify-center items-center text-center text-red-600",children:[(0,u.jsx)("p",{className:"font-semibold",children:"Struktur Tidak Valid"}),(0,u.jsx)("p",{className:"text-sm",children:'Tidak ditemukan "Super Holding" atau "Stand Alone" sebagai akar struktur.'})]}),m&&g&&(0,u.jsx)(i7,{companies:r})]}),(0,u.jsxs)("div",{className:"flex gap-4 justify-end mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition",disabled:d,children:"Kembali"}),(0,u.jsx)("button",{onClick:p,disabled:d,className:"".concat(d?"bg-gray-400":"bg-green-500 hover:bg-green-700"," text-sm text-white font-semibold py-2 px-6 rounded-full transition"),children:d?"Menyimpan...":"Simpan & Lanjut"})]})]})}let se="http://hrmsbe.logikasistembisnis.id",st=async()=>(await tl.get("".concat(se,"/baseorgstructure"))).data,sn=async()=>(await tl.get("".concat(se,"/companybaseorgstruc"))).data,sr=async e=>(await tl.put("".concat(se,"/companybaseorgstruc"),e,{headers:{"Content-Type":"application/json"}})).data;function sa(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[s,l]=(0,c.useState)([]),[d,f]=(0,c.useState)(""),[h,p]=(0,c.useState)(!0),[m,g]=(0,c.useState)(!1),[y,v]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{p(!0);let[e,t,n]=await Promise.all([tc(),st(),sn()]);a((e.data||[]).sort((e,t)=>e.companyid-t.companyid)),i((t.data||[]).sort((e,t)=>e.ordeno-t.ordeno)),l(n.data||[])}catch(e){console.error("Gagal memuat data:",e),v("Gagal memuat data perusahaan atau struktur organisasi")}finally{p(!1)}})()},[]);let x=r.find(e=>e.name===d),b=async()=>{if(!x)return;g(!0),v(null);let e=x.companyid,t=o.map(t=>{let n=s.find(n=>n.companyid===e&&n.baseorgstructureid===t.baseorgstructureid);return n?{id:0!==n.id?n.id:void 0,companyid:e,baseorgstructureid:t.baseorgstructureid,selected:n.selected}:{companyid:e,baseorgstructureid:t.baseorgstructureid,selected:!1}});try{await sr(t),alert("Data berhasil disimpan!");let e=await sn();l(e.data||[])}catch(e){console.error("Gagal menyimpan:",e),v("Gagal menyimpan data. Silakan coba lagi.")}finally{g(!1)}},w=!d;return(0,u.jsxs)("div",{className:"w-full mx-auto p-6",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"6. Selanjutnya, buatlah struktur organisasi dasar"}),(0,u.jsx)("div",{className:"mb-6 px-5",children:h?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data..."}):y?(0,u.jsx)("p",{className:"text-sm text-red-500",children:y}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:d,onChange:e=>f(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companyid))]})}),!h&&!y&&x&&(0,u.jsx)("div",{className:"w-full mb-6",children:(0,u.jsxs)("div",{className:"py-6 px-12",children:[(0,u.jsx)("h3",{className:"font-semibold mb-4 text-center text-lg",children:x.name}),(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)("ul",{className:"w-full max-w-xl space-y-2",children:o.map((e,t)=>{let n=s.find(t=>t.companyid===x.companyid&&t.baseorgstructureid===e.baseorgstructureid),r=!!n&&n.selected;return(0,u.jsxs)("li",{className:"flex items-center justify-between px-4 py-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("span",{className:"text-sm text-gray-500 w-6 text-right",children:[t+1,"."]}),(0,u.jsx)("span",{className:"text-sm text-gray-800",children:e.nama})]}),(0,u.jsx)("input",{type:"checkbox",checked:r,onChange:t=>((e,t)=>{if(!x)return;let n=x.companyid,r=s.findIndex(t=>t.companyid===n&&t.baseorgstructureid===e);if(r>-1){let e=[...s];e[r]={...e[r],selected:t},l(e)}else{let r={id:0,companyid:n,baseorgstructureid:e,selected:t};l(e=>[...e,r])}})(e.baseorgstructureid,t.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]},e.baseorgstructureid)})})})]})}),(0,u.jsx)("p",{className:"text-xs text-red-500 font-semibold mt-6",children:"CHECKLIST INI AKAN BERPENGARUH KE SUB-MODUL JOB REPOSITORY"}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:b,disabled:m||w,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(m||w?"opacity-70 cursor-not-allowed":""),children:m?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let so="http://hrmsbe.logikasistembisnis.id",si=async()=>(await tl.get("".concat(so,"/hrbaserule"))).data,ss=async()=>(await tl.get("".concat(so,"/companyhrrule"))).data,sl=async e=>(await tl.put("".concat(so,"/companyhrrule"),e,{headers:{"Content-Type":"application/json"}})).data;function su(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[s,l]=(0,c.useState)({}),[d,f]=(0,c.useState)(""),[h,p]=(0,c.useState)({}),[m,g]=(0,c.useState)({}),[y,v]=(0,c.useState)([]),[x,b]=(0,c.useState)({}),[w,j]=(0,c.useState)(!1),[E,N]=(0,c.useState)(!1),[S,k]=(0,c.useState)(!0),[_,A]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{k(!0);let[e,t]=await Promise.all([tc(),si()]);a((e.data||[]).sort((e,t)=>e.companyid-t.companyid));let n=t.data||[];i(n);let r=n.reduce((e,t)=>(e[t.grouprule]||(e[t.grouprule]=[]),e[t.grouprule].push(t.rulename),e),{});b(r),l(r)}catch(e){console.error("Gagal memuat data:",e),A("Gagal memuat data perusahaan atau aturan dasar HR")}finally{k(!1)}})()},[]),(0,c.useEffect)(()=>{(async()=>{if(d&&0!==r.length)try{k(!0);let e=await ss(),t=r.find(e=>e.name===d);if(!t)return;let n=(e.data||[]).filter(e=>e.companyid===t.companyid);v(n);let a=JSON.parse(JSON.stringify(x));n.forEach(e=>{0===e.hrbaseruleid&&(a[e.grouprule]||(a[e.grouprule]=[]),a[e.grouprule].includes(e.rulename)||a[e.grouprule].push(e.rulename))}),l(a)}catch(e){console.error("Gagal memuat aturan perusahaan:",e),A("Gagal memuat aturan HR untuk perusahaan ini")}finally{k(!1)}})()},[d,r,x]);let C=e=>{var t,n;let a=null==(t=m[e])?void 0:t.trim();a&&((null==(n=s[e])?void 0:n.includes(a))||(l(t=>({...t,[e]:[...t[e]||[],a]})),y.find(t=>t.rulename===a&&t.grouprule===e)||v(t=>{var n;return[...t,{companyid:(null==(n=r.find(e=>e.name===d))?void 0:n.companyid)||0,hrbaseruleid:0,grouprule:e,rulename:a,selected:!1}]}))),p(t=>({...t,[e]:!1})),g(t=>({...t,[e]:""}))},M=async()=>{if(!d)return void alert("Pilih perusahaan terlebih dahulu!");let e=r.find(e=>e.name===d);if(!e)return;let t=e.companyid;j(!0),N(!0);try{let n=[];Object.entries(s).forEach(e=>{let[r,a]=e;a.forEach(e=>{var a,i,s;let l=y.find(t=>t.rulename===e&&t.grouprule===r),u=o.find(t=>t.rulename===e&&t.grouprule===r),c=!!l&&l.selected,d=null!=(i=null!=(a=null==l?void 0:l.hrbaseruleid)?a:null==u?void 0:u.hrbaseruleid)?i:0,f=null!=(s=null==l?void 0:l.companyhrruleid)?s:void 0;n.push({companyhrruleid:f,companyid:t,hrbaseruleid:d,grouprule:r,rulename:e,selected:c})})});let r=await sl(n);console.log("Data tersimpan:",r),alert("Aturan HR berhasil disimpan!");let a=(await ss()).data.filter(t=>t.companyid===e.companyid);v(a)}catch(e){console.error("Gagal menyimpan aturan:",e),alert("Gagal menyimpan aturan HR!")}finally{j(!1),N(!1)}};return(0,u.jsxs)("div",{className:"w-full mx-auto p-6",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"7. Aturan Dasar HR"}),(0,u.jsx)("div",{className:"mb-6 px-5",children:S?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data..."}):_?(0,u.jsx)("p",{className:"text-sm text-red-500",children:_}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:d,onChange:e=>f(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companyid))]})}),!S&&!_&&(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-6 text-sm",children:Object.entries(s).map(e=>{let[t,n]=e;return(0,u.jsxs)("div",{className:"flex flex-col border border-gray-300 rounded-md overflow-hidden",children:[(0,u.jsx)("div",{className:"bg-blue-900 text-white text-center font-semibold py-1",children:t}),(0,u.jsxs)("div",{className:"p-3 space-y-1 flex-1",children:[n.map((e,n)=>(0,u.jsxs)("label",{className:"flex items-center justify-between",children:[(0,u.jsx)("span",{children:e}),(0,u.jsx)("input",{type:"checkbox","data-rule":"".concat(e,"-").concat(t),className:"h-4 w-4 text-blue-600 border-gray-300 rounded",checked:((e,t)=>{let n=y.find(n=>n.rulename===e&&n.grouprule===t);return!!n&&!0===n.selected})(e,t),onChange:n=>{let a=[...y],i=a.find(n=>n.rulename===e&&n.grouprule===t);if(i)i.selected=n.target.checked;else{var s;let i=o.find(n=>n.rulename===e&&n.grouprule===t);a.push({companyid:(null==(s=r.find(e=>e.name===d))?void 0:s.companyid)||0,hrbaseruleid:i?i.hrbaseruleid:0,grouprule:t,rulename:e,selected:n.target.checked})}v(a)}})]},n)),h[t]&&(0,u.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:(0,u.jsx)("input",{type:"text",value:m[t]||"",onChange:e=>g(n=>({...n,[t]:e.target.value})),autoFocus:!0,onBlur:()=>C(t),onKeyDown:e=>{"Enter"===e.key&&C(t)},className:"border border-gray-300 rounded-md px-2 py-1 w-full text-sm focus:ring-blue-500 focus:border-blue-500"})}),!h[t]&&(0,u.jsx)("div",{className:"mt-2 border-t border-gray-200 pt-2",children:(0,u.jsx)("button",{onClick:()=>p(e=>({...e,[t]:!0})),className:"w-full bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm py-1 transition",disabled:!d,children:"+ Tambah"})})]})]},t)})}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:M,disabled:w||E||!d,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(w||E?"opacity-70 cursor-not-allowed":""),children:w?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let sc="http://hrmsbe.logikasistembisnis.id",sd=async()=>(await tl.get("".concat(sc,"/daftarcuti"))).data,sf=async()=>(await tl.get("".concat(sc,"/daftarizin"))).data,sh=async()=>(await tl.get("".concat(sc,"/companycuti"))).data,sp=async()=>(await tl.get("".concat(sc,"/companyizin"))).data,sm=async e=>(await tl.put("".concat(sc,"/companycuti"),e,{headers:{"Content-Type":"application/json"}})).data,sg=async e=>(await tl.put("".concat(sc,"/companyizin"),e,{headers:{"Content-Type":"application/json"}})).data;function sy(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)(""),[s,l]=(0,c.useState)([]),[d,f]=(0,c.useState)([]),[h,p]=(0,c.useState)([]),[m,g]=(0,c.useState)([]),[y,v]=(0,c.useState)(!1),[x,b]=(0,c.useState)(!0),[w,j]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{b(!0);let[e,t,n]=await Promise.all([tc(),sd(),sf()]);a((e.data||[]).sort((e,t)=>e.companyid-t.companyid)),l(t.data||[]),f(n.data||[])}catch(e){console.error("Gagal memuat data master:",e),j("Gagal memuat data perusahaan atau daftar cuti/izin")}finally{b(!1)}})()},[]),(0,c.useEffect)(()=>{o&&(async()=>{try{b(!0);let e=r.find(e=>e.name===o);if(!e)return;let[t,n]=await Promise.all([sh(),sp()]),a=t.data||[],i=n.data||[],l=a.filter(t=>t.companyid===e.companyid),u=i.filter(t=>t.companyid===e.companyid),c=s.map(t=>{var n,r;let a=l.find(e=>e.daftarcutiid===t.daftarcutiid);return{companycutiid:null!=(n=null==a?void 0:a.companycutiid)?n:0,companyid:e.companyid,daftarcutiid:t.daftarcutiid,deskripsi:t.deskripsi,jumlahhari:null!=(r=null==a?void 0:a.jumlahhari)?r:0}}),f=l.filter(e=>0===e.daftarcutiid),h=[...c,...f],m=d.map(t=>{var n,r;let a=u.find(e=>e.daftarizinid===t.daftarizinid);return{companyizinid:null!=(n=null==a?void 0:a.companyizinid)?n:0,companyid:e.companyid,daftarizinid:t.daftarizinid,deskripsi:t.deskripsi,jumlahhari:null!=(r=null==a?void 0:a.jumlahhari)?r:0}}),y=u.filter(e=>0===e.daftarizinid),v=[...m,...y];p(h),g(v)}catch(e){console.error("Gagal memuat company cuti/izin:",e)}finally{b(!1)}})()},[o,s,d,r]);let E=(e,t)=>{"cuti"===e?p(e=>e.map((e,n)=>n===t?{...e,jumlahhari:e.jumlahhari>0?0:1}:e)):g(e=>e.map((e,n)=>n===t?{...e,jumlahhari:e.jumlahhari>0?0:1}:e))},N=(e,t,n)=>{"cuti"===e?p(e=>e.map((e,r)=>r===t?{...e,jumlahhari:n}:e)):g(e=>e.map((e,r)=>r===t?{...e,jumlahhari:n}:e))},S=(e,t,n)=>{"cuti"===e?p(e=>e.map((e,r)=>r===t?{...e,deskripsi:n}:e)):g(e=>e.map((e,r)=>r===t?{...e,deskripsi:n}:e))},k=e=>{let t=r.find(e=>e.name===o);t&&("cuti"===e?p(e=>[...e,{companycutiid:0,companyid:t.companyid,daftarcutiid:0,deskripsi:"",jumlahhari:0}]):g(e=>[...e,{companyizinid:0,companyid:t.companyid,daftarizinid:0,deskripsi:"",jumlahhari:0}]))},_=async()=>{let e=r.find(e=>e.name===o);if(e)try{v(!0);let t=h.filter(e=>""!==e.deskripsi.trim()).map(t=>({...t.companycutiid?{companycutiid:t.companycutiid}:{},companyid:e.companyid,daftarcutiid:t.daftarcutiid,deskripsi:t.deskripsi,jumlahhari:Number(t.jumlahhari)||0})),n=m.filter(e=>""!==e.deskripsi.trim()).map(t=>({...t.companyizinid?{companyizinid:t.companyizinid}:{},companyid:e.companyid,daftarizinid:t.daftarizinid,deskripsi:t.deskripsi,jumlahhari:Number(t.jumlahhari)||0}));await sm(t),await sg(n),alert("Data cuti & izin berhasil disimpan!")}catch(e){console.error("Gagal menyimpan:",e),alert("Gagal menyimpan data, cek console!")}finally{v(!1)}},A=!o;return(0,u.jsxs)("main",{className:"p-6",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"8. Cuti dan Izin"}),(0,u.jsx)("div",{className:"px-5 mb-4",children:x?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data..."}):w?(0,u.jsx)("p",{className:"text-sm text-red-500",children:w}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>i(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companyid))]})}),o&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6",children:[(0,u.jsx)("h2",{className:"bg-blue-900 text-white text-lg font-bold text-center py-2 rounded-lg mb-4",children:"Tipe Cuti + Hari"}),(0,u.jsxs)("table",{className:"w-full text-sm text-gray-700",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"text-left py-2",children:"Jenis Cuti"}),(0,u.jsx)("th",{className:"text-center py-2",children:"Checklist"}),(0,u.jsx)("th",{className:"text-center py-2",children:"Jumlah Hari"})]})}),(0,u.jsx)("tbody",{children:h.map((e,t)=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"py-1",children:(0,u.jsx)("input",{type:"text",value:e.deskripsi,onChange:e=>S("cuti",t,e.target.value),className:"w-full px-2 py-1 text-sm ".concat(0!==e.daftarcutiid?"cursor-not-allowed":"bg-white"),placeholder:"Tulis jenis cuti...",readOnly:0!==e.daftarcutiid})}),(0,u.jsx)("td",{className:"text-center",children:(0,u.jsx)("input",{type:"checkbox",checked:e.jumlahhari>0,onChange:()=>E("cuti",t),className:"w-4 h-4 accent-blue-600"})}),(0,u.jsx)("td",{className:"text-center",children:(0,u.jsx)("input",{type:"number",value:e.jumlahhari||"",onChange:e=>N("cuti",t,Number(e.target.value)),className:"px-2 py-1 w-16 text-center"})})]},t))})]}),(0,u.jsx)("button",{onClick:()=>k("cuti"),className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"+ Tambah Cuti"})]}),(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6",children:[(0,u.jsx)("h2",{className:"bg-blue-900 text-white text-lg font-bold text-center py-2 rounded-lg mb-4",children:"Tipe Izin + Hari"}),(0,u.jsxs)("table",{className:"w-full text-sm text-gray-700",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"text-left py-2",children:"Jenis Izin"}),(0,u.jsx)("th",{className:"text-center py-2",children:"Checklist"}),(0,u.jsx)("th",{className:"text-center py-2",children:"Jumlah Hari"})]})}),(0,u.jsx)("tbody",{children:m.map((e,t)=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"py-1",children:(0,u.jsx)("input",{type:"text",value:e.deskripsi,onChange:e=>S("izin",t,e.target.value),className:"w-full px-2 py-1 text-sm ".concat(0!==e.daftarizinid?"cursor-not-allowed":"bg-white"),placeholder:"Tulis jenis izin...",readOnly:0!==e.daftarizinid})}),(0,u.jsx)("td",{className:"text-center",children:(0,u.jsx)("input",{type:"checkbox",checked:e.jumlahhari>0,onChange:()=>E("izin",t),className:"w-4 h-4 accent-blue-600"})}),(0,u.jsx)("td",{className:"text-center",children:(0,u.jsx)("input",{type:"number",value:e.jumlahhari||"",onChange:e=>N("izin",t,Number(e.target.value)),className:"px-2 py-1 w-16 text-center"})})]},t))})]}),(0,u.jsx)("button",{onClick:()=>k("izin"),className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"+ Tambah Izin"})]})]}),(0,u.jsx)("p",{className:"text-xs text-red-500 italic mt-6",children:"*Jika di-checklist maka akan muncul di pilihan cuti pegawai"})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:_,disabled:y||A,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(y||A?"opacity-70 cursor-not-allowed":""),children:y?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let sv="http://hrmsbe.logikasistembisnis.id",sx=async()=>(await tl.get("".concat(sv,"/hariliburnasional"))).data,sb=async()=>(await tl.get("".concat(sv,"/compliburnasional"))).data,sw=async e=>(await tl.post("".concat(sv,"/compliburnasional"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,sj=async e=>(await tl.delete("".concat(sv,"/compliburnasional/").concat(e))).data;var sE=e.i(37728);function sN(e){let t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}function sS(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)(""),[s,l]=(0,c.useState)([]),[d,f]=(0,c.useState)([]),[h,p]=(0,c.useState)(null),[m,g]=(0,c.useState)(""),[y,v]=(0,c.useState)(new Date),[x,b]=(0,c.useState)("Tidak"),[w,j]=(0,c.useState)(null),[E,N]=(0,c.useState)(!1),[S,k]=(0,c.useState)(!0),[_,A]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{k(!0);let[e,t]=await Promise.all([tc(),sx()]);a((e.data||[]).sort((e,t)=>e.companyid-t.companyid)),l(t.data||[])}catch(e){console.error("Gagal memuat data master:",e),A("Gagal memuat data perusahaan")}finally{k(!1)}})()},[]);let C=()=>{j(null);let e=document.getElementById("file-upload");e&&(e.value="")},M=(0,c.useCallback)(async()=>{if(!o)return void f([]);try{k(!0);let e=r.find(e=>e.name===o);if(!e)return;let[t]=await Promise.all([sb()]),n=(t.data||[]).filter(t=>t.companyid===e.companyid),a=s.map(t=>{var r,a,o;let i=n.find(e=>e.hariliburnasid===t.hariliburnasid);return{compliburnasionalid:null!=(r=null==i?void 0:i.compliburnasionalid)?r:0,companyid:e.companyid,hariliburnasid:t.hariliburnasid,startdate:t.startdate,enddate:t.enddate,namatanggal:t.namatanggal,potongcutitahunan:i?i.potongcutitahunan:void 0,dokumenfilename:null!=(a=null==i?void 0:i.dokumenfilename)?a:"",dokumen_url:null!=(o=null==i?void 0:i.dokumen_url)?o:null}}),i=n.filter(e=>0===e.hariliburnasid),l=[...a,...i];f(l)}catch(e){console.error("Gagal memuat company libur:",e)}finally{k(!1)}},[o,s,r]);(0,c.useEffect)(()=>{M()},[M]);let O=Array.isArray(y),T=async()=>{if(o&&y)try{N(!0);let e=r.find(e=>e.name===o);if(!e)return;let t=new FormData;if(h){let e=d.find(e=>e.hariliburnasid===h.hariliburnasid);e&&0!==e.compliburnasionalid&&t.append("compliburnasionalid",e.compliburnasionalid.toString()),t.append("hariliburnasid",h.hariliburnasid.toString()),t.append("namatanggal",h.namatanggal)}else t.append("hariliburnasid","0"),t.append("namatanggal",m);t.append("companyid",e.companyid.toString()),t.append("startdate",sN(O?y[0]:y)),O&&y[1]&&y[0].getTime()!==y[1].getTime()&&t.append("enddate",sN(y[1])),t.append("potongcutitahunan","Ya"===x?"1":"0"),w&&t.append("dokumenfilename",w),await sw(t),alert("Data berhasil disimpan!"),g(""),v(new Date),b("Tidak"),p(null),C(),M()}catch(e){console.error("Gagal menyimpan data:",e),alert("Gagal menyimpan data")}finally{N(!1)}},R=async e=>{if(confirm("Apakah Anda yakin ingin menghapus data ini?"))try{await sj(e),alert("Data berhasil dihapus!"),M()}catch(e){console.error("Gagal menghapus data:",e),alert("Gagal menghapus data")}};return(0,u.jsxs)("main",{className:"min-h-screen p-6",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"9. Hari Libur Nasional"}),(0,u.jsx)("div",{className:"px-5 mb-3",children:S?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data..."}):_?(0,u.jsx)("p",{className:"text-sm text-red-500",children:_}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>i(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.companyid))]})}),o&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"flex gap-4",children:[(0,u.jsxs)("div",{className:"w-1/4 p-6",children:[(0,u.jsx)("h2",{className:"bg-blue-900 text-white font-semibold text-center py-2 rounded-lg mb-4",children:"Masukkan/Edit Daftar Libur"}),(0,u.jsxs)("div",{className:"relative overflow-visible",children:[(0,u.jsx)("label",{className:"block mb-1 font-medium",children:"Keterangan"}),(0,u.jsx)("input",{list:"daftar-libur",type:"text",value:m,onChange:e=>{let t=e.target.value;g(t);let n=s.find(e=>e.namatanggal===t);p(n||null),n?v([new Date(n.startdate),new Date(n.enddate)]):v(new Date)},placeholder:"Libur Nasional",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"}),(0,u.jsx)("datalist",{id:"daftar-libur",children:d.map((e,t)=>(0,u.jsx)("option",{value:e.namatanggal},t))})]}),(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsx)("label",{className:"block mb-2 font-medium text-gray-800",children:"Kalender"}),(0,u.jsxs)("div",{children:[(0,u.jsx)(sE.default,{onChange:e=>{if(Array.isArray(e)){let[t,n]=e;t&&n&&(sN(t)===sN(n)?v(t):v([t,n]))}else e instanceof Date&&v(e)},value:y,selectRange:!0,className:"rounded-lg"}),(0,u.jsx)("div",{className:"mt-2 text-sm text-gray-600",children:O&&y?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Dari:"})," ",y[0].toLocaleDateString("id-ID")]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Sampai:"})," ",y[1].toLocaleDateString("id-ID")]})]}):y&&(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Tanggal:"})," ",y.toLocaleDateString("id-ID")]})})]})]}),(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsx)("label",{className:"block mb-1 font-medium",children:"Potong Cuti Tahunan"}),(0,u.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",value:x,onChange:e=>b(e.target.value),children:[(0,u.jsx)("option",{children:"Ya"}),(0,u.jsx)("option",{children:"Tidak"})]})]}),(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsx)("label",{className:"block mb-1 font-medium",children:"Upload Dokumen"}),(0,u.jsx)("input",{type:"file",id:"file-upload",accept:"application/pdf,image/*",onChange:e=>{e.target.files&&e.target.files.length>0?j(e.target.files[0]):j(null)},className:"hidden"}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer flex-shrink-0 rounded-lg border border-gray-400 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Pilih File"}),(0,u.jsx)("span",{className:"text-sm text-gray-600 flex-1 truncate overflow-hidden whitespace-nowrap",children:w?w.name:"Belum ada file dipilih"}),w&&(0,u.jsx)("button",{type:"button",onClick:C,className:"flex-shrink-0 text-red-500 hover:text-red-700 text-xl font-bold","aria-label":"Hapus file",children:""})]})]}),(0,u.jsx)("div",{className:"mt-3",children:(0,u.jsx)("button",{onClick:T,disabled:E,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-full text-sm w-full transition ".concat(E?"opacity-70 cursor-not-allowed":""),children:E?"Menyimpan...":"Simpan"})})]}),(0,u.jsxs)("div",{className:"w-3/4 p-6",children:[(0,u.jsx)("h2",{className:"bg-blue-900 text-white font-semibold text-center py-2 rounded-lg mb-4",children:"Daftar Hari Libur Nasional"}),(0,u.jsxs)("table",{className:"min-w-full border border-gray-300 text-sm text-gray-800 rounded-lg overflow-hidden",children:[(0,u.jsx)("thead",{className:"bg-gray-100 text-left",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-4 py-2 border-b",children:"Keterangan"}),(0,u.jsx)("th",{className:"px-4 py-2 border-b",children:"Tanggal"}),(0,u.jsx)("th",{className:"px-4 py-2 border-b text-center",children:"Potong Cuti Tahunan"}),(0,u.jsx)("th",{className:"px-4 py-2 border-b",children:"Dokumen"}),(0,u.jsx)("th",{className:"px-4 py-2 border-b text-center",children:"Aksi"})]})}),(0,u.jsx)("tbody",{children:d.map((e,t)=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"px-4 py-2 border-b border-gray-200",children:e.namatanggal}),(0,u.jsxs)("td",{className:"px-4 py-2 border-b border-gray-200",children:[e.startdate?sN(new Date(e.startdate)):""," ",e.enddate?" / ".concat(sN(new Date(e.enddate))):""]}),(0,u.jsx)("td",{className:"px-4 py-2 border-b border-gray-200 text-center",children:void 0===e.potongcutitahunan||null===e.potongcutitahunan?"-":e.potongcutitahunan?"Ya":"Tidak"}),(0,u.jsx)("td",{className:"px-4 py-2 border-b border-gray-200 text-center",children:e.dokumen_url?(0,u.jsx)("a",{href:e.dokumen_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Lihat Dokumen"}):"-"}),(0,u.jsx)("td",{className:"px-4 py-2 border-b border-gray-200 text-center",children:e.compliburnasionalid&&0!==e.compliburnasionalid?(0,u.jsx)("button",{onClick:()=>R(e.compliburnasionalid),className:"text-red-600 hover:text-red-800 font-semibold cursor-pointer",children:"Hapus"}):"-"})]},t))})]})]})]})}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let sk="http://hrmsbe.logikasistembisnis.id",s_=async()=>(await tl.get("".concat(sk,"/companyworkinghours"))).data,sA=async e=>(await tl.put("".concat(sk,"/companyworkinghours"),e,{headers:{"Content-Type":"application/json"}})).data,sC=async e=>(await tl.delete("".concat(sk,"/companyworkinghours/").concat(e))).data,sM=async()=>(await tl.get("".concat(sk,"/companyworkingbreaktime"))).data,sO=async e=>(await tl.put("".concat(sk,"/companyworkingbreaktime"),e,{headers:{"Content-Type":"application/json"}})).data,sT=async e=>(await tl.delete("".concat(sk,"/companyworkingbreaktime/").concat(e))).data;function sR(e){let{onNextStep:t,onBack:n}=e,r=e=>{if(!e&&""!==e)return"";let t=String(null!=e?e:"");if(/^\d{1,2}:\d{2}$/.test(t)){let[e,n]=t.split(":");return"".concat(e.padStart(2,"0"),":").concat(n)}if(t.includes(":")){let e=t.split(":"),n=(e[0]||"00").padStart(2,"0"),r=(e[1]||"00").slice(0,2);return"".concat(n,":").concat(r)}return t.slice(0,5)},[a,o]=(0,c.useState)([]),[i,s]=(0,c.useState)([]),[l,d]=(0,c.useState)([]),[f,h]=(0,c.useState)(""),[p,m]=(0,c.useState)(""),[g,y]=(0,c.useState)(""),[v,x]=(0,c.useState)(""),[b,w]=(0,c.useState)(!0),[j,E]=(0,c.useState)(null),[N,S]=(0,c.useState)(!1),[k,_]=(0,c.useState)(!1),[A,C]=(0,c.useState)(null),[M,O]=(0,c.useState)(null),[T,R]=(0,c.useState)({tipejadwal:"Shift",kategori:"Pagi",skema:"6-1",durasi:8,durasiistirahat:1,jammasuk:"08:00",jamkeluar:"16:00",kodeshift:""}),[P,I]=(0,c.useState)([]),[B,D]=(0,c.useState)(!1),L=async()=>{try{w(!0),E(null);let[e,t,n]=await Promise.all([tc(),s_(),sM()]),r=(e.data||[]).sort((e,t)=>e.companyid-t.companyid),a=t.data||[],i=n.data||[];o(r),s(a),d(i)}catch(e){console.error("Error fetching data:",e),E("Gagal memuat data dari server.")}finally{w(!1)}};(0,c.useEffect)(()=>{L()},[]);let z=(0,c.useMemo)(()=>{if(!f)return[];let e=i.filter(e=>e.companyid===Number(f));return p&&(e=e.filter(e=>e.tipejadwal===p)),g&&(e=e.filter(e=>e.kategori===g)),v&&(e=e.filter(e=>e.skema===v)),e.map(e=>{let t=l.filter(t=>t.companyworkinghoursid===e.companyworkinghoursid).map(e=>({...e,starttime:r(e.starttime),endtime:r(e.endtime)}));return t.sort((e,t)=>e.starttime.localeCompare(t.starttime)),{...e,jammasuk:r(e.jammasuk),jamkeluar:r(e.jamkeluar),breaks:t}})},[i,l,f,p,g,v]),F=(e,t,n)=>{I(r=>r.map((r,a)=>a===e?{...r,[t]:n}:r))},U=async e=>{if(e.preventDefault(),O(null),!f){alert("Perusahaan belum dipilih."),console.groupEnd();return}if(!T.tipejadwal||!T.kategori||!T.skema)return void O("Tipe Jadwal, Kategori, dan Skema wajib dipilih.");if(!T.kodeshift||""===T.kodeshift.trim())return void O("Kode Shift wajib diisi.");if(!T.jammasuk||!T.jamkeluar)return void O("Jam Masuk dan Jam Keluar wajib diisi.");if(void 0===T.durasi||0>=Number(T.durasi))return void O("Durasi Kerja wajib diisi dan harus lebih dari 0.");if(void 0===T.durasiistirahat||0>Number(T.durasiistirahat))return void O("Durasi Istirahat wajib diisi (boleh 0).");try{_(!0);let e=Number(f),t={...A?{companyworkinghoursid:A}:{},companyid:e,tipejadwal:T.tipejadwal,kategori:T.kategori,skema:T.skema,durasi:Number(T.durasi),durasiistirahat:Number(T.durasiistirahat),jammasuk:r(T.jammasuk),jamkeluar:r(T.jamkeluar),kodeshift:T.kodeshift},n=await sA([t]),a=null!=A?A:null,o=(e,t)=>{for(let n of t)if(n in e){let t=e[n];if("number"==typeof t)return t;if("string"==typeof t&&""!==t.trim()&&!Number.isNaN(Number(t)))return Number(t)}return null};if(n&&"object"==typeof n){if("data"in n){let e=n.data;if(Array.isArray(e)&&e.length>0&&"object"==typeof e[0]){let t=e[0],n=o(t,["companyworkinghoursid","id","companyworkinghours_id"]);n&&(a=n)}else if(e&&"object"==typeof e){let t=o(e,["companyworkinghoursid","id","companyworkinghours_id"]);t&&(a=t)}}if(!a&&"results"in n){let e=n.results;if(Array.isArray(e)&&e.length>0&&"object"==typeof e[0]){let t=e[0];if("data"in t&&t.data&&"object"==typeof t.data){let e=t.data,n=o(e,["companyworkinghoursid","id","companyworkinghours_id"]);n&&(a=n)}else{let e=o(t,["companyworkinghoursid","id","companyworkinghours_id"]);e&&(a=e)}}}}if(!a){let t=((await s_()).data||[]).find(t=>{var n,a;return t.companyid===e&&t.tipejadwal===T.tipejadwal&&t.kategori===T.kategori&&r(t.jammasuk)===r(T.jammasuk)&&r(t.jamkeluar)===r(T.jamkeluar)&&(null!=(n=t.kodeshift)?n:"")===(null!=(a=T.kodeshift)?a:"")});t&&(a=t.companyworkinghoursid)}if(!a)throw Error("Gagal mendapatkan ID Jam Kerja untuk menyimpan detail istirahat. Backend mungkin tidak mengembalikan ID.");let i=P.filter(e=>e.starttime&&e.endtime);if(i.length>0){let e=i.map(e=>({...e.id?{id:e.id}:{},companyworkinghoursid:null!=a?a:void 0,starttime:r(e.starttime),endtime:r(e.endtime)}));await sO(e)}await L(),alert("Simpan berhasil."),S(!1)}catch(e){console.error("Gagal menyimpan:",e),alert("Terjadi kesalahan saat menyimpan.")}finally{_(!1),console.groupEnd()}},H=async()=>{if(A&&confirm("Anda yakin ingin menghapus jadwal ini beserta semua detail istirahat terkait?"))try{D(!0),await sC(A),await L(),S(!1),alert("Jadwal berhasil dihapus.")}catch(e){console.error("Gagal menghapus jadwal:",e),alert("Gagal menghapus jadwal.")}finally{D(!1)}},K=async e=>{let t=P[e];if(!t||!t.id)return void I(t=>t.filter((t,n)=>n!==e));if(confirm("Anda yakin ingin menghapus detail istirahat ini?"))try{D(!0),await sT(t.id),await L();let e=(((await sM()).data||[]).filter(e=>e.companyworkinghoursid===A)||[]).map(e=>({id:e.id,companyworkinghoursid:e.companyworkinghoursid,starttime:r(e.starttime),endtime:r(e.endtime)}));I(e),alert("Detail istirahat berhasil dihapus.")}catch(e){console.error("Gagal menghapus detail istirahat:",e),alert("Gagal menghapus detail istirahat.")}finally{D(!1)}};return(0,u.jsxs)("main",{className:"min-h-screen px-6 py-10 relative",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"10. Atur Jam Kerja"}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Data Jam Kerja & Detail Istirahat  klik baris untuk edit"}),(0,u.jsx)("div",{className:"p-5 shadow rounded-sm mb-6 bg-white",children:b?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Sedang memuat data..."}):j?(0,u.jsx)("p",{className:"text-sm text-red-500",children:j}):(0,u.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-4 items-end justify-between",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 flex-grow",children:[(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-semibold text-gray-700",children:"Perusahaan"}),(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-full",value:f,onChange:e=>h(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),a.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name},e.companyid))]})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-semibold text-gray-700",children:"Tipe Jadwal"}),(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-full",value:p,onChange:e=>m(e.target.value),disabled:!f,children:[(0,u.jsx)("option",{value:"",children:"Semua"}),(0,u.jsx)("option",{value:"Shift",children:"Shift"}),(0,u.jsx)("option",{value:"Non Shift",children:"Non Shift"})]})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-semibold text-gray-700",children:"Kategori"}),(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-full",value:g,onChange:e=>y(e.target.value),disabled:!f,children:[(0,u.jsx)("option",{value:"",children:"Semua"}),(0,u.jsx)("option",{value:"Pagi",children:"Pagi"}),(0,u.jsx)("option",{value:"Siang",children:"Siang"}),(0,u.jsx)("option",{value:"Malam",children:"Malam"})]})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-semibold text-gray-700",children:"Skema"}),(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-full",value:v,onChange:e=>x(e.target.value),disabled:!f,children:[(0,u.jsx)("option",{value:"",children:"Semua"}),(0,u.jsx)("option",{value:"6-1",children:"6-1"}),(0,u.jsx)("option",{value:"5-2",children:"5-2"})]})]})]}),(0,u.jsx)("div",{className:"flex-shrink-0",children:(0,u.jsx)("button",{onClick:()=>{if(!f)return void alert("Mohon pilih perusahaan terlebih dahulu.");C(null),O(null),R({tipejadwal:p||"Shift",kategori:g||"Pagi",skema:v||"6-1",durasi:8,durasiistirahat:1,jammasuk:"08:00",jamkeluar:"16:00",kodeshift:""}),I([]),S(!0)},disabled:!f||k,className:"bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-md text-sm font-medium shadow disabled:opacity-50 disabled:cursor-not-allowed transition-colors cursor-pointer",children:"+ Tambah Jadwal"})})]})}),(0,u.jsx)("div",{className:"overflow-x-auto rounded-sm shadow mb-10 bg-white",children:(0,u.jsxs)("table",{className:"w-full text-sm border-collapse",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"bg-blue-900 text-white text-center",children:[(0,u.jsx)("th",{className:"px-4 py-2",children:"Tipe Jadwal"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Kategori"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Skema"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Durasi"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Durasi Istirahat"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Jam Masuk"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Jam Keluar"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Istirahat Mulai"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Istirahat Selesai"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"Kode Shift"})]})}),(0,u.jsxs)("tbody",{children:[!f&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:10,className:"px-4 py-8 text-center text-gray-500 italic",children:"Pilih perusahaan untuk melihat data."})}),f&&0===z.length&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:10,className:"px-4 py-8 text-center text-gray-500 italic",children:"Data tidak ditemukan untuk filter ini."})}),z.map((e,t)=>(0,u.jsxs)("tr",{className:"text-center items-center ".concat(t%2==0?"bg-gray-50":"bg-white"," hover:bg-blue-50 cursor-pointer"),onClick:()=>{C(e.companyworkinghoursid),O(null),R({tipejadwal:e.tipejadwal,kategori:e.kategori,skema:e.skema,durasi:e.durasi,durasiistirahat:e.durasiistirahat,jammasuk:r(e.jammasuk),jamkeluar:r(e.jamkeluar),kodeshift:e.kodeshift||""}),I((e.breaks||[]).map(e=>({id:e.id,companyworkinghoursid:e.companyworkinghoursid,starttime:r(e.starttime),endtime:r(e.endtime)}))),S(!0)},title:"Klik untuk edit",children:[(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.tipejadwal}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.kategori}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.skema}),(0,u.jsxs)("td",{className:"px-4 py-2 align-top pt-3",children:[e.durasi," Jam"]}),(0,u.jsxs)("td",{className:"px-4 py-2 align-top pt-3",children:[e.durasiistirahat," Jam"]}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:r(e.jammasuk)}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:r(e.jamkeluar)}),(0,u.jsx)("td",{className:"px-4 py-2 align-top",children:e.breaks.length>0?(0,u.jsx)("div",{className:"flex flex-col gap-1",children:e.breaks.map(e=>(0,u.jsx)("span",{className:"block border-b border-blue-100 last:border-0 pb-1 pt-1",children:r(e.starttime)},e.id))}):"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top",children:e.breaks.length>0?(0,u.jsx)("div",{className:"flex flex-col gap-1",children:e.breaks.map(e=>(0,u.jsx)("span",{className:"block border-b border-blue-100 last:border-0 pb-1 pt-1",children:r(e.endtime)},e.id))}):"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3 font-mono text-gray-600",children:e.kodeshift})]},e.companyworkinghoursid))]})]})}),N&&(0,u.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:A?"Edit Jadwal":"Tambah Jadwal Baru"}),(0,u.jsx)("div",{className:"flex items-center gap-3",children:A&&(0,u.jsx)("button",{type:"button",onClick:H,disabled:B,className:"text-xs bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded",children:B?"Menghapus...":"Hapus Jadwal"})})]}),M&&(0,u.jsxs)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:[(0,u.jsx)("strong",{children:"Perhatian:"})," ",M]}),(0,u.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Tipe Jadwal"}),(0,u.jsxs)("select",{className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:T.tipejadwal,onChange:e=>R({...T,tipejadwal:e.target.value}),required:!0,children:[(0,u.jsx)("option",{value:"Shift",children:"Shift"}),(0,u.jsx)("option",{value:"Non Shift",children:"Non Shift"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Kategori"}),(0,u.jsxs)("select",{className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:T.kategori,onChange:e=>R({...T,kategori:e.target.value}),required:!0,children:[(0,u.jsx)("option",{value:"Pagi",children:"Pagi"}),(0,u.jsx)("option",{value:"Siang",children:"Siang"}),(0,u.jsx)("option",{value:"Malam",children:"Malam"})]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Skema"}),(0,u.jsxs)("select",{className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:T.skema,onChange:e=>R({...T,skema:e.target.value}),required:!0,children:[(0,u.jsx)("option",{value:"6-1",children:"6-1"}),(0,u.jsx)("option",{value:"5-2",children:"5-2"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Kode Shift"}),(0,u.jsx)("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:T.kodeshift,onChange:e=>R({...T,kodeshift:e.target.value}),placeholder:"Contoh: PAGI-A"})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Jam Masuk"}),(0,u.jsx)("input",{type:"time",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:T.jammasuk,onChange:e=>R({...T,jammasuk:e.target.value}),required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Jam Keluar"}),(0,u.jsx)("input",{type:"time",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:T.jamkeluar,onChange:e=>R({...T,jamkeluar:e.target.value}),required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Durasi Kerja (Jam)"}),(0,u.jsx)("input",{type:"number",min:0,step:.5,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:T.durasi,onChange:e=>R({...T,durasi:Number(e.target.value)}),required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Durasi Istirahat (Jam)"}),(0,u.jsx)("input",{type:"number",min:0,step:.5,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:T.durasiistirahat,onChange:e=>R({...T,durasiistirahat:Number(e.target.value)}),required:!0})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Waktu Istirahat (Detail)"}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{type:"button",onClick:()=>{I(e=>[...e,{id:null,companyworkinghoursid:null!=A?A:null,starttime:"12:00",endtime:"13:00"}])},className:"text-xs bg-blue-900 text-white px-3 py-1 rounded mr-2",children:"+ Tambah Istirahat"})})]}),0===P.length?(0,u.jsx)("div",{className:"text-sm text-gray-500 italic",children:"Belum ada detail istirahat"}):(0,u.jsx)("div",{className:"grid gap-2",children:P.map((e,t)=>(0,u.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,u.jsx)("input",{type:"time",value:e.starttime,onChange:e=>F(t,"starttime",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}),(0,u.jsx)("input",{type:"time",value:e.endtime,onChange:e=>F(t,"endtime",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}),(0,u.jsx)("div",{className:"flex gap-2 justify-end",children:(0,u.jsx)("button",{type:"button",onClick:()=>K(t),disabled:B,className:"text-xs bg-red-600 text-white px-2 py-1 rounded",title:e.id?"Hapus dari server":"Hapus dari UI",children:"Hapus"})})]},t))})]}),(0,u.jsxs)("div",{className:"pt-4 flex justify-end gap-2 border-t border-gray-100 mt-4",children:[(0,u.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded cursor-pointer",disabled:k,children:"Batal"}),(0,u.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-blue-900 text-white rounded hover:bg-blue-800 cursor-pointer",disabled:k,children:k?"Menyimpan...":"Simpan Jadwal"})]})]})]})}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let sP="http://hrmsbe.logikasistembisnis.id",sI=async()=>(await tl.get("".concat(sP,"/grouprole"))).data,sB=async()=>(await tl.get("".concat(sP,"/menu"))).data,sD=async e=>(await tl.put("".concat(sP,"/menu"),e,{headers:{"Content-Type":"application/json"}})).data,sL=["Desain Perusahaan","Manajemen Pengguna","Dasar Kompensasi dan Benefit"];function sz(e){let{onNextStep:t,onBack:n}=e,[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[s,l]=(0,c.useState)([]),[d,f]=(0,c.useState)(""),[h,p]=(0,c.useState)("HR"),[m,g]=(0,c.useState)(!0),[y,v]=(0,c.useState)(null),[x,b]=(0,c.useState)(!1),[w,j]=(0,c.useState)(!1),E=[{title:"MODUL MASTER ADMIN",parentid:1},{title:"MODUL LAYANAN MANDIRI",parentid:2}],N=async()=>{try{g(!0);let[e,t,n]=await Promise.all([tc(),sI(),sB()]),r=(e.data||[]).sort((e,t)=>e.companyid-t.companyid);a(r),i((t.data||[]).sort((e,t)=>e.grouproleid-t.grouproleid)),l(n.data||[])}catch(e){console.error("Gagal memuat data:",e),v("Gagal memuat data referensi.")}finally{g(!1)}};(0,c.useEffect)(()=>{N()},[]);let S=async()=>{if(!d)return void alert("Mohon pilih perusahaan sebelum menyimpan.");if(!h)return void alert("Mohon pilih tipe Security Group (HR / Non HR) sebelum menyimpan.");let e=E.map(e=>e.parentid),t=new Set(sL),n=s.filter(n=>n.companyid===Number(d)&&e.includes(n.parentmenuid)&&t.has(n.menuname)).map(e=>{var t,n;let r="HR"===h,a=null!=(t=e.grouprole_ids)?t:[],o=a.length>0?"#".concat(a.join("#"),"#"):"",i={companyid:Number(d),menuname:e.menuname,parentmenuid:e.parentmenuid,hrgroup:r,active:null==(n=e.active)||n,grouprole:o,grouprole_ids:a};return e.menuid&&e.menuid>0?{...i,menuid:e.menuid}:i});if(0===n.length)return void alert("Tidak ada perubahan untuk disimpan pada perusahaan dan tipe Security Group ini.");try{b(!0),j(!0);let r=(await sD(n)).data||[];l(n=>[...n.filter(n=>!(n.companyid===Number(d)&&e.includes(n.parentmenuid)&&t.has(n.menuname))),...r]),await N(),alert("Sukses menyimpan menu.")}catch(e){console.error("Gagal menyimpan menu:",e),alert("Gagal menyimpan data. Silakan coba lagi.")}finally{b(!1),j(!1)}};return(0,u.jsxs)("main",{className:"min-h-screen p-6",children:[(0,u.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"11. Security Group - SG"}),(0,u.jsx)("div",{className:"p-5 rounded-lg shadow mb-6 bg-white border border-gray-100",children:(0,u.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-end",children:[(0,u.jsxs)("div",{className:"flex-1 w-full md:max-w-xs",children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Pilih Perusahaan"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)("select",{className:"w-full appearance-none bg-white border border-gray-300 text-gray-700 py-2.5 px-4 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",value:d,onChange:e=>f(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),r.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name},e.companyid))]}),(0,u.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,u.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,u.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),(0,u.jsxs)("div",{className:"flex-1 w-full md:max-w-xs",children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tipe Security Group"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)("select",{className:"w-full appearance-none bg-white border border-gray-300 text-gray-700 py-2.5 px-4 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",value:h,onChange:e=>p(e.target.value),children:[(0,u.jsx)("option",{value:"HR",children:"HR"}),(0,u.jsx)("option",{value:"NON_HR",children:"Non HR"})]}),(0,u.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,u.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,u.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]})}),(0,u.jsx)("div",{className:"overflow-hidden bg-white rounded-xl shadow-sm border border-gray-200",children:(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"w-full border-collapse text-sm text-left",children:[(0,u.jsx)("thead",{className:"bg-gray-50 text-gray-700",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-6 py-4 font-semibold border-b border-gray-200 min-w-[250px] sticky left-0 bg-gray-50 z-10",children:"Modul / Menu"}),o.map(e=>(0,u.jsx)("th",{className:"px-2 py-4 font-semibold border-b border-gray-200 text-center whitespace-nowrap min-w-[80px]",children:e.grouprolename},e.grouproleid))]})}),(0,u.jsx)("tbody",{className:"divide-y divide-gray-100",children:E.map(e=>(0,u.jsxs)(c.default.Fragment,{children:[(0,u.jsx)("tr",{className:"bg-blue-100/50",children:(0,u.jsx)("td",{colSpan:o.length+1,className:"px-6 py-3 font-bold text-blue-900 text-xs uppercase tracking-wide border-t border-blue-100",children:e.title})}),sL.map((t,n)=>{let r=s.find(n=>n.menuname===t&&n.parentmenuid===e.parentid&&n.companyid===Number(d)&&("HR"===h?!0===n.hrgroup:!1===n.hrgroup||!n.hrgroup));return(0,u.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors group",children:[(0,u.jsx)("td",{className:"px-6 py-3 font-medium text-gray-700 border-r border-gray-100 sticky left-0 bg-white group-hover:bg-gray-50",children:t}),o.map(n=>{var a,o;let i=null!=(o=null==r||null==(a=r.grouprole_ids)?void 0:a.includes(n.grouproleid))&&o;return(0,u.jsx)("td",{className:"px-2 py-3 text-center border-r border-gray-50 last:border-0",children:(0,u.jsx)("input",{type:"checkbox",checked:i,onChange:()=>((e,t,n,r)=>{if(!d)return void alert("Mohon pilih perusahaan terlebih dahulu.");l(a=>{let o=a.findIndex(n=>n.menuname===t&&n.parentmenuid===e&&n.companyid===Number(d));if(-1===o)return[...a,{menuid:0,companyid:Number(d),menuname:t,parentmenuid:e,hrgroup:"HR"===h,active:!0,grouprole_ids:[n],grouprole:"#".concat(n,"#")}];{let e=[...a],t={...e[o]},i=t.grouprole_ids?[...t.grouprole_ids]:[];r?i=i.filter(e=>e!==n):i.push(n);let s=i.length>0?"#"+i.join("#")+"#":"";return e[o]={...t,grouprole_ids:i,grouprole:s},e}})})(e.parentid,t,n.grouproleid,i),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!d})},n.grouproleid)})]},"".concat(e.parentid,"-").concat(n))})]},e.parentid))})]})})})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:S,disabled:x||w,className:"bg-green-500 hover:bg-green-600 text-sm text-white font-semibold py-2 px-6 rounded-full ".concat(x||w?"opacity-70 cursor-not-allowed":""),children:x?"Menyimpan...":"Simpan"}),(0,u.jsx)("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}let sF="http://hrmsbe.logikasistembisnis.id",sU=async e=>(await tl.get("".concat(sF,"/organization"),{params:{companyid:e}})).data,sH=async e=>(await tl.post("".concat(sF,"/organization"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,sK=async e=>(await tl.post("".concat(sF,"/organization/nonactive"),e,{headers:{"Content-Type":"application/json"}})).data;function sG(e){let{label:t,value:n,onChange:r,onSelect:a,options:o,placeholder:i,disabled:s=!1}=e,[l,d]=(0,c.useState)(!1),f=(0,c.useRef)(null),h=o.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()));return(0,c.useEffect)(()=>{function e(e){f.current&&!f.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,u.jsxs)("div",{className:"relative",ref:f,children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium uppercase",children:t}),(0,u.jsx)("input",{className:"w-full border border-gray-300 rounded px-2 py-2 ".concat(s?"bg-gray-100 cursor-not-allowed":""),value:n,onChange:e=>{r(e.target.value),d(!0)},onFocus:()=>d(!0),placeholder:i,disabled:s}),l&&h.length>0&&!s&&(0,u.jsx)("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 mt-1 max-h-48 overflow-y-auto shadow-lg rounded-sm text-sm",children:h.map(e=>(0,u.jsx)("li",{className:"px-3 py-2 hover:bg-blue-50 cursor-pointer text-gray-700",onClick:()=>{a(e.original),d(!1)},children:e.name},e.id))})]})}function sJ(e){var t;let{onNextStep:n,onBack:r}=e,[a,o]=(0,c.useState)([]),[i,s]=(0,c.useState)(""),[l,d]=(0,c.useState)(!0),[f,h]=(0,c.useState)(!1),[p,m]=(0,c.useState)(null),[g,y]=(0,c.useState)(null),[v,x]=(0,c.useState)(null),[b,w]=(0,c.useState)(null),[j,E]=(0,c.useState)(""),[N,S]=(0,c.useState)(null),[k,_]=(0,c.useState)(""),[A,C]=(0,c.useState)(null),[M,O]=(0,c.useState)(""),[T,R]=(0,c.useState)(""),[P,I]=(0,c.useState)(null),[B,D]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{try{d(!0),m(null);let e=((await tc()).data||[]).sort((e,t)=>e.companyid-t.companyid);o(e)}catch(e){console.error(e),m("Gagal memuat daftar perusahaan.")}finally{d(!1)}})()},[]);let L=async e=>{try{h(!0),m(null);let t=await sU(e);x(t.data||[])}catch(e){console.error(e),m("Gagal memuat struktur organisasi.")}finally{h(!1)}};(0,c.useEffect)(()=>{if(!i){x(null),z();return}L(Number(i))},[i]);let z=()=>{w(null),E(""),S(null),_(""),C(null),O(""),R(""),F(),m(null),y(null)},F=()=>{I(null),D("");let e=document.getElementById("file-upload");e&&(e.value="")},U=(v||[]).filter(e=>e.active).map(e=>({id:e.companydirectorateid,name:e.directoratename,original:e})),H=b?((null==v||null==(t=v.find(e=>e.companydirectorateid===b))?void 0:t.divisions)||[]).filter(e=>e.active).map(e=>({id:e.companydivisionid,name:e.divisionname,original:e})):[],K=(()=>{var e;if(!b||!N)return[];let t=null==v?void 0:v.find(e=>e.companydirectorateid===b),n=null==t||null==(e=t.divisions)?void 0:e.find(e=>e.companydivisionid===N);return((null==n?void 0:n.departments)||[]).filter(e=>e.active).map(e=>({id:e.companydepartmentid,name:e.departmentname,original:e}))})(),G=async()=>{if(m(null),y(null),!i)return void m("Pilih perusahaan terlebih dahulu.");if(!j.trim())return void m("Nama Direktorat wajib diisi.");if(k.trim()&&!j.trim())return void m("Isi Direktorat sebelum mengisi Divisi.");if(M.trim()&&!k.trim())return void m("Isi Divisi sebelum mengisi Department.");if(T.trim()&&!M.trim())return void m("Isi Department sebelum mengisi Unit Kerja.");try{let e=new FormData;e.append("companyid",String(i)),b&&e.append("companydirectorateid",String(b)),e.append("directoratename",j),k.trim()&&(N&&e.append("companydivisionid",String(N)),e.append("divisionname",k)),M.trim()&&(A&&e.append("companydepartmentid",String(A)),e.append("departmentname",M)),T.trim()&&e.append("unitkerjaname",T),B.trim()&&e.append("dokumenname",B),P&&e.append("dokumenfile",P,P.name),e.append("active","true"),await sH(e),y("Data berhasil disimpan!"),L(Number(i)),z()}catch(e){console.error(e),m("Gagal menyimpan data.")}},J=(()=>{if(!v)return[];let e=[];return v.forEach(t=>{if(t.active){if(!t.divisions||0===t.divisions.length)return void e.push({directorateId:t.companydirectorateid,directoratename:t.directoratename,divisionId:null,divisionname:"-",departmentId:null,departmentname:"-",unitId:null,unitkerjaname:null});t.divisions.forEach(n=>{if(n.active){if(!n.departments||0===n.departments.length)return void e.push({directorateId:t.companydirectorateid,directoratename:t.directoratename,divisionId:n.companydivisionid,divisionname:n.divisionname,departmentId:null,departmentname:"-",unitId:null,unitkerjaname:null});n.departments.forEach(r=>{if(!r.active)return;let a=(r.unit_kerjas||[]).filter(e=>e&&e.active)||[];0===a.length?e.push({directorateId:t.companydirectorateid,directoratename:t.directoratename,divisionId:n.companydivisionid,divisionname:n.divisionname,departmentId:r.companydepartmentid,departmentname:r.departmentname,unitId:null,unitkerjaname:null}):a.forEach(a=>{var o,i;e.push({directorateId:t.companydirectorateid,directoratename:t.directoratename,divisionId:n.companydivisionid,divisionname:n.divisionname,departmentId:r.companydepartmentid,departmentname:r.departmentname,unitId:a.companyunitkerjaid,unitkerjaname:a.unitkerjaname,dokumenname:null!=(o=a.dokumenname)?o:null,dokumen_url:null!=(i=a.dokumen_url)?i:null})})})}})}}),e})(),V=async e=>{if(i&&window.confirm("Apakah Anda yakin ingin menonaktifkan data ini? Data tidak akan tampil lagi."))try{h(!0);let t={companyid:Number(i),active:!1};e.unitId?t.companyunitkerjaid=e.unitId:e.departmentId?t.companydepartmentid=e.departmentId:e.divisionId?t.companydivisionid=e.divisionId:t.companydirectorateid=e.directorateId,await sK(t),L(Number(i))}catch(e){console.error(e),m("Gagal menonaktifkan data."),h(!1)}};return(0,u.jsxs)("div",{className:"p-6 bg-white text-sm",children:[(0,u.jsx)("h2",{className:"text-xl font-bold mb-4",children:"12. HIRARKI ORGANISASI"}),(0,u.jsx)("div",{className:"mb-6 px-5",children:l?(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Memuat data perusahaan..."}):(0,u.jsxs)("select",{className:"border border-gray-300 rounded-md px-3 py-2 w-64 text-sm focus:ring-blue-500 focus:border-blue-500",value:i,onChange:e=>s(""===e.target.value?"":Number(e.target.value)),children:[(0,u.jsx)("option",{value:"",children:"Pilih Perusahaan"}),a.map(e=>(0,u.jsx)("option",{value:e.companyid,children:e.name},e.companyid))]})}),(0,u.jsxs)("div",{className:"w-full flex gap-4 items-start",children:[(0,u.jsxs)("div",{className:"w-1/4 space-y-4 px-5",children:[(0,u.jsx)("div",{className:"text-center py-2 bg-blue-900 text-white rounded-sm text-sm font-medium",children:"Tambah Hirarki Organisasi"}),p&&(0,u.jsx)("div",{className:"text-red-600 text-xs bg-red-50 p-2 rounded border border-red-200",children:p}),g&&(0,u.jsx)("div",{className:"text-green-600 text-xs bg-green-50 p-2 rounded border border-green-200",children:g}),(0,u.jsx)(sG,{label:"Direktorat",value:j,options:U,onChange:e=>{E(e),w(null),S(null),_(""),C(null),O("")},onSelect:e=>{E(e.directoratename),w(e.companydirectorateid),S(null),_(""),C(null),O("")},placeholder:"Nama direktorat",disabled:!i}),(0,u.jsx)(sG,{label:"Divisi",value:k,options:H,onChange:e=>{_(e),S(null),C(null),O("")},onSelect:e=>{_(e.divisionname),S(e.companydivisionid),C(null),O("")},placeholder:"Nama divisi",disabled:!j}),(0,u.jsx)(sG,{label:"Department",value:M,options:K,onChange:e=>{O(e),C(null)},onSelect:e=>{O(e.departmentname),C(e.companydepartmentid)},placeholder:"Nama department",disabled:!k}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium uppercase",children:"Unit Kerja"}),(0,u.jsx)("input",{className:"w-full border border-gray-300 rounded px-2 py-2 ".concat(M?"":"bg-gray-100"),value:T,onChange:e=>R(e.target.value),placeholder:"Nama unit kerja",disabled:!M})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium uppercase",children:"Upload Dokumen"}),(0,u.jsx)("input",{type:"file",id:"file-upload",onChange:e=>{e.target.files&&e.target.files[0]&&I(e.target.files[0])},className:"hidden",disabled:!T}),(0,u.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,u.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer flex-shrink-0 rounded border border-gray-300 px-3 py-2 text-xs font-medium transition ".concat(T?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:"Pilih File"}),(0,u.jsx)("span",{className:"text-xs text-gray-500 truncate flex-1",children:P?P.name:"Belum ada file dipilih"}),P&&(0,u.jsx)("button",{type:"button",onClick:F,className:"text-red-500 hover:text-red-700 font-bold px-1",children:""})]}),P&&(0,u.jsxs)("div",{className:"mt-3 animate-in fade-in slide-in-from-top-1 duration-300",children:[(0,u.jsx)("label",{className:"text-xs block mb-1 font-medium",children:"NAMA DOKUMEN"}),(0,u.jsx)("input",{className:"w-full border border-gray-300 rounded px-2 py-2",value:B,onChange:e=>D(e.target.value),placeholder:"Nama display dokumen..."})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{onClick:G,disabled:!i,className:"w-full text-white px-4 py-2 rounded cursor-pointer ".concat(i?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"),children:"+ Tambah"})})]}),(0,u.jsx)("div",{className:"w-3/4",children:(0,u.jsx)("div",{className:"overflow-x-auto rounded-sm shadow mb-10 bg-white",children:(0,u.jsxs)("table",{className:"min-w-full border-collapse text-sm",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"bg-blue-900 text-white text-center",children:[(0,u.jsx)("th",{className:"px-4 py-2",children:"DIREKTORAT"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"DIVISI"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"DEPARTMENT"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"UNIT KERJA"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"DOKUMEN"}),(0,u.jsx)("th",{className:"px-4 py-2",children:"AKSI"})]})}),(0,u.jsx)("tbody",{children:f?Array.from({length:3}).map((e,t)=>(0,u.jsx)("tr",{className:"odd:bg-white even:bg-gray-50 text-center",children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-4 text-gray-400 animate-pulse",children:"Loading data..."})},t)):i?0===J.length?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"Belum ada data struktur organisasi."})}):J.map((e,t)=>{var n;return(0,u.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50 text-center",children:[(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.directoratename}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.divisionname}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.departmentname}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:null!=(n=e.unitkerjaname)?n:"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:e.dokumen_url?(0,u.jsx)("a",{href:e.dokumen_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.dokumenname||"Unduh"}):"-"}),(0,u.jsx)("td",{className:"px-4 py-2 align-top pt-3",children:(0,u.jsx)("button",{onClick:()=>V(e),className:"px-2 py-1 rounded-sm bg-red-600 text-white hover:bg-red-700 transition",children:"Nonaktif"})})]},t)}):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"Pilih perusahaan untuk melihat data."})})})]})})})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:r,className:"bg-gray-200 hover:bg-gray-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full",children:"Kembali"}),(0,u.jsx)("button",{onClick:n,className:"bg-blue-500 hover:bg-blue-600 text-sm text-white font-semibold py-2 px-6 rounded-full",children:"Lanjut"})]})]})}function sV(){return(0,u.jsxs)("div",{className:"p-8 bg-white text-gray-900 min-h-screen",children:[(0,u.jsxs)("h1",{className:"text-xl font-bold mb-4",children:["13. KELOMPOK JABATAN ",(0,u.jsx)("i",{children:"(JOB FAMILY)"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-[300px_100px_1fr] gap-4 items-start",children:[(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"bg-blue-900 text-white text-sm font-bold text-center py-2 rounded-t",children:"MASUKAN NAMA KELOMPOK JABATAN"}),(0,u.jsxs)("div",{className:"border border-gray-300 rounded-b p-2 text-xs bg-gray-50",children:["PRODUKSI (CONTOH) free text",(0,u.jsx)("br",{}),"tambah"]}),(0,u.jsx)("p",{className:"text-right text-xs text-gray-500 mt-1",children:"Open text"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"bg-blue-900 text-white text-sm font-bold text-center py-2 rounded-t",children:"MASUKAN NAMA SUB-KELOMPOK JABATAN"}),(0,u.jsx)("div",{className:"border border-gray-300 rounded-b p-2 text-xs bg-gray-50",children:"MANAJEMEN PRODUKSI"}),(0,u.jsx)("p",{className:"text-right text-xs text-gray-500 mt-1",children:"Open text"})]}),(0,u.jsx)("button",{className:"bg-black text-white text-xs px-3 py-2 rounded flex items-center gap-2",children:"UPLOAD DOKUMEN"}),(0,u.jsxs)("div",{className:"text-[10px] text-gray-600 space-y-1",children:[(0,u.jsx)("p",{children:"* Job Family adalah pengelompokan utama berdasarkan fungsi atau divisi besar, seperti Produksi, Teknik, Keuangan, dll."}),(0,u.jsx)("p",{children:"* Sub-Job Family adalah pengelompokan lebih spesifik di dalam Job Family, misalnya dalam Produksi ada Manajemen Produksi dan Operasional Produksi."}),(0,u.jsx)("p",{children:"* Posisi adalah jabatan atau posisi spesifik yang diisi oleh satu orang karyawan, seperti Direktur Produksi, Operator Produksi, Kepala Bagian Keuangan, dll."})]})]}),(0,u.jsxs)("div",{className:"flex flex-col justify-start items-center gap-10 mt-8",children:[(0,u.jsx)("button",{className:"bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-1 rounded",children:"Tambah"}),(0,u.jsx)("button",{className:"bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-1 rounded",children:"Tambah"})]}),(0,u.jsx)("div",{className:"overflow-x-auto border",children:(0,u.jsxs)("table",{className:"min-w-full text-xs border-collapse",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"bg-blue-900 text-white text-left",children:[(0,u.jsx)("th",{className:"px-2 py-1 border",children:"Kelompok Jabatan (Job Family)"}),(0,u.jsx)("th",{className:"px-2 py-1 border",children:"Kode Job Family"}),(0,u.jsx)("th",{className:"px-2 py-1 border",children:"Sub-Kelompok Jabatan (Sub-Job Family)"}),(0,u.jsx)("th",{className:"px-2 py-1 border",children:"Kode Jabatan"})]})}),(0,u.jsx)("tbody",{children:[["Manajemen Eksekutif","JF00000001","Manajemen Produksi","JC00000001"],["Produksi","JF00000002","Pengawasan Produksi","JC00000002"],["Teknik & Pemeliharaan","JF00000003","Teknik Mesin","JC00000003"],["Keuangan & Akuntansi","JF00000004","Utilitas & Perawatan","JC00000004"],["Pemasaran & Penjualan","JF00000005","Keuangan","JC00000005"],["Logistik & Gudang","JF00000006","Marketing","JC00000006"],["Administrasi Umum","JF00000007","Gudang","JC00000007"],["Quality Control","JF00000008","Manajemen SDM","JC00000008"],["SDM","JF00000009","Rekrutmen & Seleksi","JC00000009"],["K3","JF00000010","Kesehatan, Keselamatan, dan Lingkungan (K3)","JC00000010"]].map((e,t)=>(0,u.jsx)("tr",{className:"even:bg-gray-50",children:e.map((e,t)=>(0,u.jsx)("td",{className:"px-2 py-1 border",children:e},t))},t))})]})})]})]})}function sq(){let e=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(!e.current)return;let t=e.current.querySelectorAll("button[data-label]"),n=0;t.forEach(e=>{let t=e.offsetWidth;t>n&&(n=t)}),t.forEach(e=>{e.style.width="".concat(n,"px")})},[]),(0,u.jsxs)("div",{className:"min-h-screen bg-white px-12 py-8",children:[(0,u.jsx)("h2",{className:"text-xl font-bold mb-6",children:"13. JOB REPOSITORY - FORM"}),(0,u.jsx)("div",{ref:e,className:"grid grid-cols-2 gap-x-12 gap-y-4",children:[{label:"PERUSAHAAN",placeholder:"List Box"},{label:"JOB FAMILY",placeholder:"Free text"},{label:"NAMA POSISI",placeholder:"Free text"},{label:"SUB JOB FAMILY",placeholder:"Free text"},{label:"MELAPOR KEPADA",placeholder:"Free text"},{label:"KODE POSISI",value:"TER-GENERATE OTOMATIS JC0000001",disabled:!0},{label:"UNIT KERJA",placeholder:"List Box"},{label:"KODE KELOMPOK JABATAN",value:"TER-GENERATE OTOMATIS",disabled:!0},{label:"DEPARTEMEN",placeholder:"Free text"},{label:"KODE SUB-KELOMPOK JABATAN",value:"TER-GENERATE OTOMATIS",disabled:!0},{label:"DIVISI",placeholder:"Free text"},{label:"LOREM IPSUM",placeholder:"Free text"},{label:"DIREKTORAT",placeholder:"Free text"},{label:"LOREM IPSUM",placeholder:"Free text"}].map((e,t)=>(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("button",{"data-label":!0,className:"bg-[#0b2c66] text-white font-semibold text-sm px-4 py-2 rounded flex-shrink-0 text-center",children:e.label}),e.disabled?(0,u.jsx)("input",{type:"text",value:e.value,disabled:!0,className:"ml-2 w-full border border-gray-200 bg-gray-100 px-3 py-2 rounded text-gray-500"}):(0,u.jsx)("input",{type:"text",placeholder:e.placeholder,className:"ml-2 w-full border border-gray-200 bg-[#f5f9ff] px-3 py-2 rounded"})]},t))}),(0,u.jsxs)("div",{className:"flex items-center justify-start mt-8 gap-4",children:[(0,u.jsx)("button",{className:"bg-green-500 text-white font-semibold text-xs px-4 py-2 rounded-full",children:"SIMPAN SEBAGAI TEMPLATE"}),(0,u.jsx)("button",{className:"bg-blue-500 text-white font-semibold text-xs px-4 py-2 rounded-full",children:"UPLOAD TEMPLATE"})]})]})}function sY(){return(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsx)("h2",{className:"text-lg font-bold mb-4",children:"14. JOB REPOSITORY - LIST"}),(0,u.jsx)("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg ",children:(0,u.jsxs)("table",{className:"min-w-[1400px] w-full text-sm text-left text-gray-700",children:[(0,u.jsx)("thead",{className:"bg-blue-900 text-white",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"PERUSAHAAN"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"NAMA POSISI"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"MELAPOR KEPADA"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"UNIT KERJA"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"DEPARTEMEN"}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"SUB-KELOMPOK JABATAN"})]})}),(0,u.jsx)("tbody",{children:[{perusahaan:"PT. Kamu Ada Aja",namaPosisi:"DIREKTUR UTAMA",melaporKepada:"-",unitKerja:"PT. Kamu Ada Aja",departemen:"PT. Kamu Ada Aja",subKelJabatan:"PT. Kamu Ada Aja"},{perusahaan:"PT. Kamu Ada Aja",namaPosisi:"KEPALA BAGIAN PRODUKSI",melaporKepada:"DIREKTUR PRODUKSI",unitKerja:"PT. Kamu Ada Aja",departemen:"PT. Kamu Ada Aja",subKelJabatan:"PT. Kamu Ada Aja"}].map((e,t)=>(0,u.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,u.jsx)("td",{className:"px-4 py-2",children:e.perusahaan}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.namaPosisi}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.melaporKepada}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.unitKerja}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.departemen}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.subKelJabatan})]},t))})]})})]})}function sX(){let[e,t]=(0,c.useState)(1);return(0,u.jsxs)("div",{children:[1===e&&(0,u.jsx)(tx,{onNextStep:()=>t(2)}),2===e&&(0,u.jsx)(tb,{onNextStep:()=>t(3),onBack:()=>t(1)}),3===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(i9,{onNextStep:()=>t(4),onBack:()=>t(2)})}),4===e&&(0,u.jsx)(sa,{onNextStep:()=>t(5),onBack:()=>t(3)}),5===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(su,{onNextStep:()=>t(6),onBack:()=>t(4)})}),6===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(sy,{onNextStep:()=>t(7),onBack:()=>t(5)})}),7===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(sS,{onNextStep:()=>t(8),onBack:()=>t(6)})}),8===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(sR,{onNextStep:()=>t(9),onBack:()=>t(7)})}),9===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(sz,{onNextStep:()=>t(10),onBack:()=>t(8)})}),10===e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(sJ,{onNextStep:()=>t(11),onBack:()=>t(9)})}),11===e&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(sV,{}),(0,u.jsxs)("div",{className:"flex gap-4 justify-end mt-6",children:[(0,u.jsx)("button",{onClick:()=>t(10),className:"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition",children:"Kembali"}),(0,u.jsx)("button",{onClick:()=>t(12),className:"bg-green-500 hover:bg-green-700 text-sm text-white font-semibold py-2 px-6 rounded-full transition",children:"Simpan & Lanjut"})]})]}),12===e&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(sq,{}),(0,u.jsxs)("div",{className:"flex gap-4 justify-end mt-6",children:[(0,u.jsx)("button",{onClick:()=>t(11),className:"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition",children:"Kembali"}),(0,u.jsx)("button",{onClick:()=>t(13),className:"bg-green-500 hover:bg-green-700 text-sm text-white font-semibold py-2 px-6 rounded-full transition",children:"Simpan & Lanjut"})]})]}),13===e&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(sY,{}),(0,u.jsxs)("div",{className:"flex gap-4 justify-end mt-6",children:[(0,u.jsx)("button",{onClick:()=>t(12),className:"bg-green-100 hover:bg-green-300 text-sm text-gray-700 font-semibold py-2 px-6 rounded-full transition",children:"Kembali"}),(0,u.jsx)("button",{onClick:()=>t(13),className:"bg-green-500 hover:bg-green-700 text-sm text-white font-semibold py-2 px-6 rounded-full transition",children:"Kirim"})]})]})]})}}]);