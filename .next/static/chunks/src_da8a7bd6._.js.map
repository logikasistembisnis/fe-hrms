{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/api/tenantApi.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { Tenant } from \"@/api/data\";\r\n\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  message?: string;\r\n  status?: string;\r\n}\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\r\n\r\nexport const getTenant = async (): Promise<\r\n  ApiResponse<Tenant[]>\r\n> => {\r\n  const response = await axios.get<ApiResponse<Tenant[]>>(\r\n    `${API_BASE}/tenant`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getTenantbyid = async (id: number): Promise<\r\n  ApiResponse<Tenant>\r\n> => {\r\n  const response = await axios.get<ApiResponse<Tenant>>(\r\n    `${API_BASE}/tenant/${id}`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const saveTenant = async (\r\n  tenant: Partial<Tenant>[]\r\n): Promise<ApiResponse<Tenant[]>> => {\r\n  const response = await axios.put<ApiResponse<Tenant[]>>(\r\n    `${API_BASE}/tenant`,\r\n    tenant,\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const deleteTenant = async (id: number): Promise<ApiResponse<null>> => {\r\n  const response = await axios.delete<ApiResponse<null>>(`${API_BASE}/tenant/${id}`);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;AASiB;AATjB;;AASA,MAAM,WAAW,2EAAmC;AAE7C,MAAM,YAAY;IAGvB,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAC9B,AAAC,GAAW,OAAT,UAAS;IAEd,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,gBAAgB,OAAO;IAGlC,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAC9B,AAAC,GAAqB,OAAnB,UAAS,YAAa,OAAH;IAExB,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OACxB;IAEA,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAC9B,AAAC,GAAW,OAAT,UAAS,YACZ,QACA;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAEpD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,WAAW,MAAM,mJAAK,CAAC,MAAM,CAAoB,AAAC,GAAqB,OAAnB,UAAS,YAAa,OAAH;IAC7E,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///D:/neli/cv/test/logika%20bisnis/people-partner/src/app/%28admin%29/tenant/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Tenant } from \"@/api/data\";\r\nimport { getTenant, saveTenant, deleteTenant } from \"@/api/tenantApi\";\r\n\r\nexport default function TenantPage() {\r\n    const [tenants, setTenants] = useState<Tenant[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // State untuk Modal & Form\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    // State Form Data\r\n    const [formData, setFormData] = useState<Partial<Tenant>>({\r\n        name: \"\",\r\n        description: \"\",\r\n        active: true,\r\n    });\r\n\r\n    // 1. Fetch Data saat halaman dimuat\r\n    const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await getTenant();\r\n            // Pastikan response.data adalah array\r\n            if (Array.isArray(response.data)) {\r\n                setTenants(response.data);\r\n            } else {\r\n                setTenants([]);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Gagal mengambil data tenant:\", error);\r\n            alert(\"Gagal memuat data tenant.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    // 2. Handle Delete\r\n    const handleDelete = async (id: number) => {\r\n        if (!confirm(\"Yakin ingin menghapus tenant ini?\")) return;\r\n\r\n        try {\r\n            await deleteTenant(id);\r\n            // Hapus dari state tanpa reload\r\n            setTenants((prev) => prev.filter((t) => t.tenantid !== id));\r\n            alert(\"Tenant berhasil dihapus.\");\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert(\"Gagal menghapus tenant.\");\r\n        }\r\n    };\r\n\r\n    // 3. Handle Submit (Add / Edit)\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsSaving(true);\r\n\r\n        try {\r\n            // Logic Upsert:\r\n            // Jika formData punya 'tenantid', backend akan Update.\r\n            // Jika tidak punya (undefined), backend akan Insert.\r\n\r\n            // Kirim dalam format Array []\r\n            await saveTenant([formData]);\r\n\r\n            alert(\"Data berhasil disimpan!\");\r\n            setIsModalOpen(false);\r\n            fetchData(); // Refresh tabel\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert(\"Gagal menyimpan data.\");\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    // Helper untuk membuka modal (Reset form jika tambah baru, isi form jika edit)\r\n    const openModal = (tenant?: Tenant) => {\r\n        if (tenant) {\r\n            // Mode Edit\r\n            setFormData(tenant);\r\n        } else {\r\n            // Mode Tambah Baru\r\n            setFormData({\r\n                name: \"\",\r\n                description: \"\",\r\n                active: true,\r\n                // holdingflag & holdingcompanyid bisa di-set default atau null\r\n                holdingflag: false,\r\n                holdingcompanyid: null\r\n            });\r\n        }\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <h1 className=\"text-2xl font-bold text-gray-800\">Daftar Tenant</h1>\r\n                <button\r\n                    onClick={() => openModal()}\r\n                    className=\"bg-[#0c356a] hover:bg-blue-900 text-white px-4 py-2 rounded-lg font-medium transition\"\r\n                >\r\n                    + Tambah Tenant\r\n                </button>\r\n            </div>\r\n\r\n            {/* --- TABEL --- */}\r\n            <div className=\"overflow-x-auto bg-white shadow-md rounded-lg\">\r\n                <table className=\"min-w-full text-left text-sm whitespace-nowrap\">\r\n                    <thead>\r\n                        <tr className=\"bg-blue-900 text-white text-center text-sm font-medium\">\r\n                            <th scope=\"col\" className=\"px-4 py-2\">Nama</th>\r\n                            <th scope=\"col\" className=\"px-4 py-2\">Deskripsi</th>\r\n                            <th scope=\"col\" className=\"px-4 py-2 text-center\">Status</th>\r\n                            <th scope=\"col\" className=\"px-4 py-2 text-center\">Aksi</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {loading ? (\r\n                            <tr>\r\n                                <td colSpan={4} className=\"text-center py-6\">Loading...</td>\r\n                            </tr>\r\n                        ) : tenants.length === 0 ? (\r\n                            <tr>\r\n                                <td colSpan={4} className=\"text-center py-6 text-gray-500\">Tidak ada data tenant.</td>\r\n                            </tr>\r\n                        ) : (\r\n                            tenants.map((item) => (\r\n                                <tr key={item.tenantid} className=\"hover:bg-gray-50 transition text-center\">\r\n                                    <td className=\"px-6 py-4 font-medium text-gray-900\">{item.name}</td>\r\n                                    <td className=\"px-6 py-4 text-gray-500\">{item.description || \"-\"}</td>\r\n                                    <td className=\"px-6 py-4 text-center\">\r\n                                        <span\r\n                                            className={`px-2 py-1 rounded-full text-xs font-semibold ${item.active\r\n                                                    ? \"bg-green-100 text-green-800\"\r\n                                                    : \"bg-red-100 text-red-800\"\r\n                                                }`}\r\n                                        >\r\n                                            {item.active ? \"Active\" : \"Inactive\"}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 text-center space-x-2\">\r\n                                        <button\r\n                                            onClick={() => openModal(item)}\r\n                                            className=\"bg-blue-600 px-3 py-1 text-white rounded-sm hover:bg-blue-900 font-medium\"\r\n                                        >\r\n                                            Edit\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleDelete(item.tenantid)}\r\n                                            className=\"bg-red-600 text-white px-3 py-1 rounded-sm hover:bg-red-900 font-medium\"\r\n                                        >\r\n                                            Hapus\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {/* --- MODAL FORM --- */}\r\n            {isModalOpen && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/10 bg-opacity-50 backdrop-blur-sm p-4\">\r\n                    <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md p-6\">\r\n                        <h2 className=\"text-xl font-bold mb-4 text-gray-800\">\r\n                            {formData.tenantid ? \"Edit Tenant\" : \"Tambah Tenant Baru\"}\r\n                        </h2>\r\n\r\n                        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                            {/* Nama */}\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Nama Tenant</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    required\r\n                                    value={formData.name || \"\"}\r\n                                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                    placeholder=\"Contoh: ABC Group\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Description */}\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Deskripsi</label>\r\n                                <textarea\r\n                                    value={formData.description || \"\"}\r\n                                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                    placeholder=\"Keterangan singkat...\"\r\n                                    rows={3}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Active Toggle */}\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    id=\"activeCheck\"\r\n                                    checked={formData.active ?? true}\r\n                                    onChange={(e) => setFormData({ ...formData, active: e.target.checked })}\r\n                                    className=\"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300\"\r\n                                />\r\n                                <label htmlFor=\"activeCheck\" className=\"text-sm font-medium text-gray-700\">\r\n                                    Aktif\r\n                                </label>\r\n                            </div>\r\n\r\n                            {/* Action Buttons */}\r\n                            <div className=\"flex justify-end gap-3 mt-6\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsModalOpen(false)}\r\n                                    className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition\"\r\n                                >\r\n                                    Batal\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    disabled={isSaving}\r\n                                    className={`px-4 py-2 text-white rounded-lg transition font-medium ${isSaving ? \"bg-blue-400 cursor-not-allowed\" : \"bg-[#0c356a] hover:bg-blue-900\"\r\n                                        }`}\r\n                                >\r\n                                    {isSaving ? \"Menyimpan...\" : \"Simpan\"}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}